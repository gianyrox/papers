/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/book/[...path]/page";
exports.ids = ["app/book/[...path]/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "?d272":
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fbook%2F%5B...path%5D%2Fpage&page=%2Fbook%2F%5B...path%5D%2Fpage&appPaths=%2Fbook%2F%5B...path%5D%2Fpage&pagePath=private-next-app-dir%2Fbook%2F%5B...path%5D%2Fpage.tsx&appDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fbook%2F%5B...path%5D%2Fpage&page=%2Fbook%2F%5B...path%5D%2Fpage&appPaths=%2Fbook%2F%5B...path%5D%2Fpage&pagePath=private-next-app-dir%2Fbook%2F%5B...path%5D%2Fpage.tsx&appDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'book',\n        {\n        children: [\n        '[...path]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/book/[...path]/page.tsx */ \"(rsc)/./app/book/[...path]/page.tsx\")), \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/book/layout.tsx */ \"(rsc)/./app/book/layout.tsx\")), \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/home/gian/Projects/Papers/scriva/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/book/[...path]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/book/[...path]/page\",\n        pathname: \"/book/[...path]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZib29rJTJGJTVCLi4ucGF0aCU1RCUyRnBhZ2UmcGFnZT0lMkZib29rJTJGJTVCLi4ucGF0aCU1RCUyRnBhZ2UmYXBwUGF0aHM9JTJGYm9vayUyRiU1Qi4uLnBhdGglNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYm9vayUyRiU1Qi4uLnBhdGglNUQlMkZwYWdlLnRzeCZhcHBEaXI9JTJGaG9tZSUyRmdpYW4lMkZQcm9qZWN0cyUyRlBhcGVycyUyRnNjcml2YSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmdpYW4lMkZQcm9qZWN0cyUyRlBhcGVycyUyRnNjcml2YSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsc0tBQWtHO0FBQ3pIO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLHNKQUEwRjtBQUNuSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQXFGO0FBQzlHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvP2VlNjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJUVVJCT1BBQ0sgeyB0cmFuc2l0aW9uOiBuZXh0LXNzciB9XCI7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnYm9vaycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ1suLi5wYXRoXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2dpYW4vUHJvamVjdHMvUGFwZXJzL3Njcml2YS9hcHAvYm9vay9bLi4ucGF0aF0vcGFnZS50c3hcIiksIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9ib29rL1suLi5wYXRoXS9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9ib29rL2xheW91dC50c3hcIiksIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9ib29rL2xheW91dC50c3hcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9sYXlvdXQudHN4XCIpLCBcIi9ob21lL2dpYW4vUHJvamVjdHMvUGFwZXJzL3Njcml2YS9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9ib29rL1suLi5wYXRoXS9wYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2Jvb2svWy4uLnBhdGhdL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvYm9vay9bLi4ucGF0aF0vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYm9vay9bLi4ucGF0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fbook%2F%5B...path%5D%2Fpage&page=%2Fbook%2F%5B...path%5D%2Fpage&appPaths=%2Fbook%2F%5B...path%5D%2Fpage&pagePath=private-next-app-dir%2Fbook%2F%5B...path%5D%2Fpage.tsx&appDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2F%5B...path%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2F%5B...path%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/book/[...path]/page.tsx */ \"(ssr)/./app/book/[...path]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZnaWFuJTJGUHJvamVjdHMlMkZQYXBlcnMlMkZzY3JpdmElMkZhcHAlMkZib29rJTJGJTVCLi4ucGF0aCU1RCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzS0FBa0ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvPzRjMWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9naWFuL1Byb2plY3RzL1BhcGVycy9zY3JpdmEvYXBwL2Jvb2svWy4uLnBhdGhdL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2F%5B...path%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/book/layout.tsx */ \"(ssr)/./app/book/layout.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZnaWFuJTJGUHJvamVjdHMlMkZQYXBlcnMlMkZzY3JpdmElMkZhcHAlMkZib29rJTJGbGF5b3V0LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsc0pBQTBGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLz80YWI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL2FwcC9ib29rL2xheW91dC50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fbook%2Flayout.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZnaWFuJTJGUHJvamVjdHMlMkZQYXBlcnMlMkZzY3JpdmElMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZnaWFuJTJGUHJvamVjdHMlMkZQYXBlcnMlMkZzY3JpdmElMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGZ2lhbiUyRlByb2plY3RzJTJGUGFwZXJzJTJGc2NyaXZhJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmdpYW4lMkZQcm9qZWN0cyUyRlBhcGVycyUyRnNjcml2YSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmdpYW4lMkZQcm9qZWN0cyUyRlBhcGVycyUyRnNjcml2YSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGZ2lhbiUyRlByb2plY3RzJTJGUGFwZXJzJTJGc2NyaXZhJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTZIO0FBQzdIO0FBQ0Esb09BQThIO0FBQzlIO0FBQ0EsME9BQWlJO0FBQ2pJO0FBQ0Esd09BQWdJO0FBQ2hJO0FBQ0Esa1BBQXFJO0FBQ3JJO0FBQ0Esc1FBQStJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLz8wYTM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvZ2lhbi9Qcm9qZWN0cy9QYXBlcnMvc2NyaXZhL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2dpYW4vUHJvamVjdHMvUGFwZXJzL3Njcml2YS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9naWFuL1Byb2plY3RzL1BhcGVycy9zY3JpdmEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9naWFuL1Byb2plY3RzL1BhcGVycy9zY3JpdmEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2dpYW4vUHJvamVjdHMvUGFwZXJzL3Njcml2YS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Literata%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-literata%5C%22%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%2C%5C%22800%5C%22%5D%2C%5C%22style%5C%22%3A%5B%5C%22normal%5C%22%2C%5C%22italic%5C%22%5D%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22literata%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22JetBrains_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-jetbrains-mono%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22jetbrainsMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Literata%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-literata%5C%22%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%2C%5C%22800%5C%22%5D%2C%5C%22style%5C%22%3A%5B%5C%22normal%5C%22%2C%5C%22italic%5C%22%5D%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22literata%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-inter%5C%22%2C%5C%22weight%5C%22%3A%5B%5C%22400%5C%22%2C%5C%22500%5C%22%2C%5C%22600%5C%22%2C%5C%22700%5C%22%5D%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22JetBrains_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%2C%5C%22variable%5C%22%3A%5C%22--font-jetbrains-mono%5C%22%2C%5C%22display%5C%22%3A%5C%22swap%5C%22%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22jetbrainsMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./app/book/[...path]/page.tsx":
/*!*************************************!*\
  !*** ./app/book/[...path]/page.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FilePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/storage */ \"(ssr)/./lib/storage.ts\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* harmony import */ var _components_editor_TiptapEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/editor/TiptapEditor */ \"(ssr)/./components/editor/TiptapEditor.tsx\");\n/* harmony import */ var _components_editor_EditorToolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/editor/EditorToolbar */ \"(ssr)/./components/editor/EditorToolbar.tsx\");\n/* harmony import */ var _components_editor_FocusMode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/editor/FocusMode */ \"(ssr)/./components/editor/FocusMode.tsx\");\n/* harmony import */ var _components_editor_PolishView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/editor/PolishView */ \"(ssr)/./components/editor/PolishView.tsx\");\n/* harmony import */ var _components_editor_ContinueWriting__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/editor/ContinueWriting */ \"(ssr)/./components/editor/ContinueWriting.tsx\");\n/* harmony import */ var _components_editor_SelectionToolbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/editor/SelectionToolbar */ \"(ssr)/./components/editor/SelectionToolbar.tsx\");\n/* harmony import */ var _components_editor_InlineDiff__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/editor/InlineDiff */ \"(ssr)/./components/editor/InlineDiff.tsx\");\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isImageFile(path) {\n    const ext = path.split(\".\").pop()?.toLowerCase() ?? \"\";\n    return [\n        \"png\",\n        \"jpg\",\n        \"jpeg\",\n        \"gif\",\n        \"svg\",\n        \"webp\"\n    ].includes(ext);\n}\nfunction isMarkdownFile(path) {\n    return path.endsWith(\".md\");\n}\nfunction isTextFile(path) {\n    const ext = path.split(\".\").pop()?.toLowerCase() ?? \"\";\n    return [\n        \"json\",\n        \"txt\",\n        \"py\",\n        \"js\",\n        \"ts\",\n        \"tsx\",\n        \"jsx\",\n        \"csv\",\n        \"yaml\",\n        \"yml\",\n        \"toml\",\n        \"html\",\n        \"css\",\n        \"xml\",\n        \"sh\",\n        \"bash\",\n        \"gitignore\",\n        \"gitkeep\"\n    ].includes(ext);\n}\nfunction getFileName(path) {\n    return path.split(\"/\").pop() ?? path;\n}\nfunction FilePage() {\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const pathSegments = params.path;\n    const filePath = pathSegments.join(\"/\");\n    const fileName = getFileName(filePath);\n    const isMarkdownView = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectMdView(s) {\n        return s.editor.isMarkdownView;\n    });\n    const isFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectFocus(s) {\n        return s.editor.isFocusMode;\n    });\n    const setChapter = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectSetChapter(s) {\n        return s.setChapter;\n    });\n    const setSaveStatus = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectSetSave(s) {\n        return s.setSaveStatus;\n    });\n    const keysStored = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectKeys(s) {\n        return s.preferences.keysStored;\n    });\n    const [initialContent, setInitialContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [markdownText, setMarkdownText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [plainText, setPlainText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fileSha, setFileSha] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const shaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    const [editor, setEditor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imageUrl, setImageUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fileType, setFileType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"binary\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const debounceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const saveDebounceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isPolishing, setIsPolishing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [polishContent, setPolishContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isContinuing, setIsContinuing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [continueText, setContinueText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [continueResult, setContinueResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedText, setSelectedText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toolbarPosition, setToolbarPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inlineDiff, setInlineDiff] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const editorContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const selectionDebounceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const savedSelectionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [repoInfo, setRepoInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadRepoInfo() {\n        const info = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_5__.getRepoInfo)();\n        if (info) {\n            setRepoInfo(info);\n            return;\n        }\n        const raw = localStorage.getItem(\"scriva-current-book\");\n        if (!raw) return;\n        try {\n            const parsed = JSON.parse(raw);\n            const [owner, repo] = parsed.full_name.split(\"/\");\n            setRepoInfo({\n                owner,\n                repo,\n                branch: parsed.default_branch\n            });\n        } catch  {}\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function trackChapter() {\n        setChapter(filePath);\n        return function cleanup() {\n            setChapter(undefined);\n        };\n    }, [\n        filePath,\n        setChapter\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadFile() {\n        if (!keysStored || !repoInfo) return;\n        if (isImageFile(filePath)) {\n            setFileType(\"image\");\n            const url = \"https://raw.githubusercontent.com/\" + repoInfo.owner + \"/\" + repoInfo.repo + \"/\" + repoInfo.branch + \"/\" + filePath;\n            setImageUrl(url);\n            setLoading(false);\n            return;\n        }\n        if (isMarkdownFile(filePath)) {\n            setFileType(\"markdown\");\n        } else if (isTextFile(filePath)) {\n            setFileType(\"text\");\n        } else {\n            setFileType(\"binary\");\n        }\n        const draft = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.getLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath);\n        if (draft !== null) {\n            setInitialContent(draft);\n            setMarkdownText(draft);\n            setPlainText(draft);\n            setLoading(false);\n        }\n        fetch(\"/api/github/files?owner=\" + repoInfo.owner + \"&repo=\" + repoInfo.repo + \"&path=\" + encodeURIComponent(filePath) + \"&branch=\" + repoInfo.branch).then(function handleRes(res) {\n            return res.json();\n        }).then(function handleData(data) {\n            if (data.error) {\n                if (draft === null) {\n                    setInitialContent(\"\");\n                    setMarkdownText(\"\");\n                    setPlainText(\"\");\n                }\n                return;\n            }\n            setFileSha(data.sha);\n            shaRef.current = data.sha;\n            const content = data.content ?? \"\";\n            if (draft === null) {\n                setInitialContent(content);\n                setMarkdownText(content);\n                setPlainText(content);\n            }\n        }).catch(function handleErr() {\n            if (draft === null) {\n                setInitialContent(\"\");\n                setMarkdownText(\"\");\n                setPlainText(\"\");\n            }\n        }).finally(function done() {\n            setLoading(false);\n        });\n    }, [\n        keysStored,\n        repoInfo,\n        filePath\n    ]);\n    function saveToGitHub(content, retryCount) {\n        if (!repoInfo || !keysStored) return;\n        if (saveDebounceRef.current) {\n            clearTimeout(saveDebounceRef.current);\n        }\n        saveDebounceRef.current = setTimeout(function pushToGitHub() {\n            fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: repoInfo.owner,\n                    repo: repoInfo.repo,\n                    path: filePath,\n                    content: content,\n                    sha: shaRef.current,\n                    branch: repoInfo.branch\n                })\n            }).then(function handleRes(res) {\n                return res.json();\n            }).then(function handleData(data) {\n                if (data.sha) {\n                    setFileSha(data.sha);\n                    shaRef.current = data.sha;\n                    setSaveStatus(\"saved\");\n                } else if (data.status === 409 && (!retryCount || retryCount < 2)) {\n                    fetch(\"/api/github/files?owner=\" + repoInfo.owner + \"&repo=\" + repoInfo.repo + \"&path=\" + encodeURIComponent(filePath) + \"&branch=\" + repoInfo.branch).then(function refetchRes(res) {\n                        return res.json();\n                    }).then(function refetchData(freshData) {\n                        if (freshData.sha) {\n                            shaRef.current = freshData.sha;\n                            setFileSha(freshData.sha);\n                            saveToGitHub(content, (retryCount ?? 0) + 1);\n                        } else {\n                            setSaveStatus(\"error\");\n                        }\n                    }).catch(function refetchErr() {\n                        setSaveStatus(\"error\");\n                    });\n                } else {\n                    setSaveStatus(\"error\");\n                }\n            }).catch(function handleErr() {\n                setSaveStatus(\"error\");\n            });\n        }, 5000);\n    }\n    const handleContentChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleChange(md) {\n        setMarkdownText(md);\n        setSaveStatus(\"saving\");\n        if (debounceRef.current) {\n            clearTimeout(debounceRef.current);\n        }\n        debounceRef.current = setTimeout(function saveAfterDelay() {\n            if (repoInfo) {\n                (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, md);\n            }\n            saveToGitHub(md);\n        }, 500);\n    }, [\n        repoInfo,\n        filePath,\n        setSaveStatus\n    ]);\n    function handlePlainTextChange(e) {\n        const text = e.target.value;\n        setPlainText(text);\n        setSaveStatus(\"saving\");\n        if (debounceRef.current) {\n            clearTimeout(debounceRef.current);\n        }\n        debounceRef.current = setTimeout(function saveAfterDelay() {\n            if (repoInfo) {\n                (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, text);\n            }\n            saveToGitHub(text);\n        }, 500);\n    }\n    function handlePlainTextKeyDown(e) {\n        if ((e.metaKey || e.ctrlKey) && e.key === \"s\") {\n            e.preventDefault();\n            if (repoInfo) {\n                (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, plainText);\n            }\n            setSaveStatus(\"saving\");\n            saveToGitHub(plainText);\n        }\n    }\n    const handleMarkdownTextarea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleTextarea(e) {\n        const md = e.target.value;\n        setMarkdownText(md);\n        setSaveStatus(\"saving\");\n        if (debounceRef.current) {\n            clearTimeout(debounceRef.current);\n        }\n        debounceRef.current = setTimeout(function saveRawMd() {\n            if (repoInfo) {\n                (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, md);\n            }\n            saveToGitHub(md);\n        }, 500);\n    }, [\n        repoInfo,\n        filePath,\n        setSaveStatus\n    ]);\n    const handleEditorReady = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function onEditor(ed) {\n        setEditor(ed);\n    }, []);\n    const handlePolishComplete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function polishDone(newContent) {\n        setMarkdownText(newContent);\n        if (repoInfo) {\n            (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, newContent);\n        }\n        setSaveStatus(\"saved\");\n        if (editor && !editor.isDestroyed) {\n            editor.commands.setContent(newContent);\n        }\n        setIsPolishing(false);\n        setPolishContent(\"\");\n        setInitialContent(newContent);\n    }, [\n        repoInfo,\n        filePath,\n        setSaveStatus,\n        editor\n    ]);\n    const handlePolishCancel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function polishCancel() {\n        setIsPolishing(false);\n        setPolishContent(\"\");\n    }, []);\n    const handleContinueAccept = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function continueAccept(newText) {\n        const updated = markdownText + \"\\n\\n\" + newText;\n        setMarkdownText(updated);\n        if (repoInfo) {\n            (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, updated);\n        }\n        setSaveStatus(\"saved\");\n        if (editor && !editor.isDestroyed) {\n            editor.commands.setContent(updated);\n        }\n        setIsContinuing(false);\n        setContinueText(\"\");\n        setContinueResult(null);\n        setInitialContent(updated);\n    }, [\n        markdownText,\n        repoInfo,\n        filePath,\n        setSaveStatus,\n        editor\n    ]);\n    const handleContinueReject = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function continueReject() {\n        setIsContinuing(false);\n        setContinueText(\"\");\n        setContinueResult(null);\n    }, []);\n    const handleToolbarResult = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function toolbarResult(oldText, newText) {\n        if (savedSelectionRef.current && editor && !editor.isDestroyed) {\n            editor.chain().focus().setTextSelection(savedSelectionRef.current).unsetHighlight().run();\n            savedSelectionRef.current = null;\n        }\n        setToolbarPosition(null);\n        setSelectedText(\"\");\n        setInlineDiff({\n            oldText,\n            newText\n        });\n    }, [\n        editor\n    ]);\n    const handleToolbarClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function toolbarClose() {\n        if (savedSelectionRef.current && editor && !editor.isDestroyed) {\n            editor.chain().focus().setTextSelection(savedSelectionRef.current).unsetHighlight().run();\n            savedSelectionRef.current = null;\n        }\n        setToolbarPosition(null);\n        setSelectedText(\"\");\n    }, [\n        editor\n    ]);\n    const handleInlineDiffAccept = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function inlineAccept() {\n        if (!inlineDiff || !editor || editor.isDestroyed) {\n            setInlineDiff(null);\n            return;\n        }\n        const currentMd = markdownText;\n        const updated = currentMd.replace(inlineDiff.oldText, inlineDiff.newText);\n        setMarkdownText(updated);\n        if (repoInfo) {\n            (0,_lib_storage__WEBPACK_IMPORTED_MODULE_4__.setLocalDraft)(repoInfo.owner + \"/\" + repoInfo.repo, filePath, updated);\n        }\n        setSaveStatus(\"saved\");\n        editor.commands.setContent(updated);\n        setInlineDiff(null);\n        setInitialContent(updated);\n    }, [\n        inlineDiff,\n        editor,\n        markdownText,\n        repoInfo,\n        filePath,\n        setSaveStatus\n    ]);\n    const handleInlineDiffReject = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function inlineReject() {\n        setInlineDiff(null);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function registerShortcuts() {\n        if (fileType !== \"markdown\") return;\n        function handleKeyDown(e) {\n            if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === \"K\") {\n                e.preventDefault();\n                if (isPolishing || isContinuing) return;\n                const content = markdownText;\n                if (!content.trim()) return;\n                setPolishContent(content);\n                setIsPolishing(true);\n            }\n            if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === \"Enter\") {\n                e.preventDefault();\n                if (isPolishing || isContinuing) return;\n                let textBefore = markdownText;\n                if (editor && !editor.isDestroyed) {\n                    const { from } = editor.state.selection;\n                    const docText = editor.storage.markdown.getMarkdown();\n                    const textContent = editor.state.doc.textBetween(0, from, \"\\n\");\n                    if (textContent.trim()) {\n                        textBefore = textContent;\n                    } else {\n                        textBefore = docText;\n                    }\n                }\n                if (!textBefore.trim()) return;\n                setContinueText(textBefore);\n                setIsContinuing(true);\n            }\n        }\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        markdownText,\n        editor,\n        isPolishing,\n        isContinuing,\n        fileType\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function trackSelection() {\n        if (!editor || editor.isDestroyed) return;\n        function handleSelectionUpdate() {\n            if (!editor || editor.isDestroyed) return;\n            if (selectionDebounceRef.current) {\n                clearTimeout(selectionDebounceRef.current);\n                selectionDebounceRef.current = null;\n            }\n            const { from, to } = editor.state.selection;\n            if (from === to) {\n                if (savedSelectionRef.current && editor && !editor.isDestroyed) {\n                    editor.chain().setTextSelection(savedSelectionRef.current).unsetHighlight().setTextSelection(from).run();\n                    savedSelectionRef.current = null;\n                }\n                setSelectedText(\"\");\n                setToolbarPosition(null);\n                return;\n            }\n            const text = editor.state.doc.textBetween(from, to, \" \");\n            if (text.trim().length < 10) {\n                setSelectedText(\"\");\n                setToolbarPosition(null);\n                return;\n            }\n            selectionDebounceRef.current = setTimeout(function showToolbar() {\n                if (!editor || editor.isDestroyed) return;\n                const currentSel = editor.state.selection;\n                if (currentSel.from === currentSel.to) return;\n                const currentText = editor.state.doc.textBetween(currentSel.from, currentSel.to, \" \");\n                if (currentText.trim().length < 10) return;\n                setSelectedText(currentText);\n                savedSelectionRef.current = {\n                    from: currentSel.from,\n                    to: currentSel.to\n                };\n                editor.chain().setTextSelection({\n                    from: currentSel.from,\n                    to: currentSel.to\n                }).setHighlight({\n                    color: \"rgba(184, 134, 11, 0.2)\"\n                }).run();\n                const coords = editor.view.coordsAtPos(currentSel.from);\n                const container = editorContainerRef.current;\n                if (container) {\n                    const rect = container.getBoundingClientRect();\n                    setToolbarPosition({\n                        top: coords.top - rect.top,\n                        left: coords.left - rect.left\n                    });\n                }\n            }, 600);\n        }\n        editor.on(\"selectionUpdate\", handleSelectionUpdate);\n        return function cleanup() {\n            editor.off(\"selectionUpdate\", handleSelectionUpdate);\n            if (selectionDebounceRef.current) {\n                clearTimeout(selectionDebounceRef.current);\n            }\n        };\n    }, [\n        editor\n    ]);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: 8,\n                color: \"var(--color-text-muted)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 14\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    size: 16,\n                    style: {\n                        animation: \"spin 1s linear infinite\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 503,\n                    columnNumber: 9\n                }, this),\n                \"Loading...\"\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 491,\n            columnNumber: 7\n        }, this);\n    }\n    if (fileType === \"image\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"12px 24px\",\n                        borderBottom: \"1px solid var(--color-border)\",\n                        fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                        fontSize: 13,\n                        color: \"var(--color-text-muted)\"\n                    },\n                    children: filePath\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 519,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        flex: 1,\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        padding: 24,\n                        overflow: \"auto\"\n                    },\n                    children: imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: imageUrl,\n                        alt: fileName,\n                        style: {\n                            maxWidth: \"100%\",\n                            maxHeight: \"100%\",\n                            objectFit: \"contain\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                        lineNumber: 541,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 530,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 511,\n            columnNumber: 7\n        }, this);\n    }\n    if (fileType === \"binary\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\",\n                gap: 12,\n                color: \"var(--color-text-muted)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 14\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"12px 24px\",\n                        borderBottom: \"1px solid var(--color-border)\",\n                        width: \"100%\",\n                        fontSize: 13\n                    },\n                    children: filePath\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 568,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        flex: 1,\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\"\n                    },\n                    children: \"This file type cannot be displayed.\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 578,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 554,\n            columnNumber: 7\n        }, this);\n    }\n    if (fileType === \"text\") {\n        const lines = plainText.split(\"\\n\");\n        const lineCount = lines.length;\n        const gutterWidth = Math.max(String(lineCount).length * 9 + 16, 40);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"12px 24px\",\n                        borderBottom: \"1px solid var(--color-border)\",\n                        fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                        fontSize: 13,\n                        color: \"var(--color-text-muted)\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: filePath\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                        lineNumber: 618,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 606,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        flex: 1,\n                        overflow: \"auto\",\n                        display: \"flex\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                width: gutterWidth,\n                                flexShrink: 0,\n                                backgroundColor: \"var(--color-surface)\",\n                                borderRight: \"1px solid var(--color-border)\",\n                                padding: \"16px 0\",\n                                fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                                fontSize: 15,\n                                lineHeight: \"1.7\",\n                                color: \"var(--color-text-muted)\",\n                                textAlign: \"right\",\n                                userSelect: \"none\"\n                            },\n                            children: lines.map(function renderLineNum(_, i) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        paddingRight: 8,\n                                        height: \"1.7em\"\n                                    },\n                                    children: i + 1\n                                }, i, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                                    lineNumber: 638,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                            lineNumber: 621,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: plainText,\n                            onChange: handlePlainTextChange,\n                            onKeyDown: handlePlainTextKeyDown,\n                            spellCheck: false,\n                            style: {\n                                flex: 1,\n                                backgroundColor: \"transparent\",\n                                color: \"var(--color-text)\",\n                                fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                                fontSize: 15,\n                                lineHeight: \"1.7\",\n                                border: \"none\",\n                                outline: \"none\",\n                                resize: \"none\",\n                                padding: \"16px 16px 16px 12px\",\n                                margin: 0,\n                                whiteSpace: \"pre\",\n                                overflowWrap: \"normal\",\n                                overflowX: \"auto\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                            lineNumber: 644,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 620,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 598,\n            columnNumber: 7\n        }, this);\n    }\n    if (initialContent === null) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                color: \"var(--color-text-muted)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 14\n            },\n            children: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 673,\n            columnNumber: 7\n        }, this);\n    }\n    if (isPolishing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_PolishView__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                content: polishContent,\n                onComplete: handlePolishComplete,\n                onCancel: handlePolishCancel\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                lineNumber: 692,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 691,\n            columnNumber: 7\n        }, this);\n    }\n    const fileTitle = fileName.replace(/\\.md$/, \"\").replace(/[-_]/g, \" \").replace(/\\b\\w/g, function capitalize(c) {\n        return c.toUpperCase();\n    });\n    const editorContent = isMarkdownView ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            maxWidth: 680,\n            margin: \"0 auto\",\n            padding: \"3rem 2rem 6rem\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n            value: markdownText,\n            onChange: handleMarkdownTextarea,\n            spellCheck: false,\n            style: {\n                width: \"100%\",\n                minHeight: \"calc(100vh - 200px)\",\n                backgroundColor: \"transparent\",\n                color: \"var(--color-text)\",\n                fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                fontSize: 15,\n                lineHeight: 1.7,\n                border: \"none\",\n                outline: \"none\",\n                resize: \"none\",\n                padding: 0\n            }\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n            lineNumber: 713,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n        lineNumber: 706,\n        columnNumber: 5\n    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_TiptapEditor__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        initialContent: initialContent,\n        onContentChange: handleContentChange,\n        onEditor: handleEditorReady\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n        lineNumber: 733,\n        columnNumber: 5\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            backgroundColor: \"var(--color-bg)\"\n        },\n        children: [\n            !isFocusMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_EditorToolbar__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                editor: editor\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                lineNumber: 749,\n                columnNumber: 24\n            }, this),\n            !isFocusMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    maxWidth: 680,\n                    margin: \"0 auto\",\n                    width: \"100%\",\n                    padding: \"1.5rem 2rem 0\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    style: {\n                        fontFamily: \"var(--font-literata), Georgia, serif\",\n                        fontSize: 24,\n                        fontWeight: 700,\n                        color: \"var(--color-text)\",\n                        margin: 0,\n                        paddingBottom: \"0.5rem\",\n                        borderBottom: \"1px solid var(--color-border)\"\n                    },\n                    children: fileTitle\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                    lineNumber: 760,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                lineNumber: 752,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: editorContainerRef,\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\",\n                    position: \"relative\"\n                },\n                children: [\n                    editorContent,\n                    isContinuing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            maxWidth: 680,\n                            margin: \"0 auto\",\n                            padding: \"0 2rem 2rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_ContinueWriting__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            precedingText: continueText,\n                            onAccept: handleContinueAccept,\n                            onReject: handleContinueReject\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                            lineNumber: 787,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                        lineNumber: 780,\n                        columnNumber: 11\n                    }, this),\n                    inlineDiff && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            maxWidth: 680,\n                            margin: \"0 auto\",\n                            padding: \"0.5rem 2rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_InlineDiff__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            oldText: inlineDiff.oldText,\n                            newText: inlineDiff.newText,\n                            onAccept: handleInlineDiffAccept,\n                            onReject: handleInlineDiffReject\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                            lineNumber: 803,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                        lineNumber: 796,\n                        columnNumber: 11\n                    }, this),\n                    toolbarPosition && selectedText && !isPolishing && !isContinuing && editor && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_SelectionToolbar__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                        editor: editor,\n                        selectedText: selectedText,\n                        position: toolbarPosition,\n                        onAIResult: handleToolbarResult,\n                        onClose: handleToolbarClose\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                        lineNumber: 813,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                lineNumber: 776,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_FocusMode__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                children: editorContent\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n                lineNumber: 823,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx\",\n        lineNumber: 741,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0QsWUFBWTt3QkFDWnpFLE9BQU87d0JBQ1AyRCxRQUFRO3dCQUNSZSxlQUFlO3dCQUNmakQsY0FBYztvQkFDaEI7OEJBRUN3Qzs7Ozs7Ozs7Ozs7MEJBS1AsOERBQUN0RDtnQkFBSWdFLEtBQUs1TTtnQkFBb0I2SSxPQUFPO29CQUFFYyxNQUFNO29CQUFHa0QsV0FBVztvQkFBUUMsVUFBVTtnQkFBVzs7b0JBQ3JGUjtvQkFFQWxOLDhCQUNDLDhEQUFDd0o7d0JBQ0NDLE9BQU87NEJBQ0xtQixVQUFVOzRCQUNWNEIsUUFBUTs0QkFDUm5DLFNBQVM7d0JBQ1g7a0NBRUEsNEVBQUM5TiwyRUFBZUE7NEJBQ2RvUixlQUFlek47NEJBQ2YwTixVQUFVL0g7NEJBQ1ZnSSxVQUFVNUg7Ozs7Ozs7Ozs7O29CQUtmdkYsNEJBQ0MsOERBQUM4STt3QkFDQ0MsT0FBTzs0QkFDTG1CLFVBQVU7NEJBQ1Y0QixRQUFROzRCQUNSbkMsU0FBUzt3QkFDWDtrQ0FFQSw0RUFBQzVOLHNFQUFVQTs0QkFDVDRKLFNBQVMzRixXQUFXMkYsT0FBTzs0QkFDM0JOLFNBQVNyRixXQUFXcUYsT0FBTzs0QkFDM0I2SCxVQUFVL0c7NEJBQ1ZnSCxVQUFVNUc7Ozs7Ozs7Ozs7O29CQUtmekcsbUJBQW1CRixnQkFBZ0IsQ0FBQ1YsZUFBZSxDQUFDSSxnQkFBZ0JqQyx3QkFDbkUsOERBQUN2Qiw0RUFBZ0JBO3dCQUNmdUIsUUFBUUE7d0JBQ1J1QyxjQUFjQTt3QkFDZG9OLFVBQVVsTjt3QkFDVnNOLFlBQVkzSDt3QkFDWjRILFNBQVNwSDs7Ozs7Ozs7Ozs7OzBCQUtmLDhEQUFDdEssb0VBQVNBOzBCQUFFNlE7Ozs7Ozs7Ozs7OztBQUdsQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2FwcC9ib29rL1suLi5wYXRoXS9wYWdlLnRzeD9lOWY0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgdHlwZSB7IEVkaXRvciB9IGZyb20gXCJAdGlwdGFwL3JlYWN0XCI7XG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyBnZXRMb2NhbERyYWZ0LCBzZXRMb2NhbERyYWZ0IH0gZnJvbSBcIkAvbGliL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldFJlcG9JbmZvIH0gZnJvbSBcIkAvbGliL2Jvb2tDb25maWdcIjtcbmltcG9ydCBUaXB0YXBFZGl0b3IgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvVGlwdGFwRWRpdG9yXCI7XG5pbXBvcnQgRWRpdG9yVG9vbGJhciBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9FZGl0b3JUb29sYmFyXCI7XG5pbXBvcnQgRm9jdXNNb2RlIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL0ZvY3VzTW9kZVwiO1xuaW1wb3J0IFBvbGlzaFZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvUG9saXNoVmlld1wiO1xuaW1wb3J0IENvbnRpbnVlV3JpdGluZyBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci9Db250aW51ZVdyaXRpbmdcIjtcbmltcG9ydCBTZWxlY3Rpb25Ub29sYmFyIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL1NlbGVjdGlvblRvb2xiYXJcIjtcbmltcG9ydCBJbmxpbmVEaWZmIGZyb20gXCJAL2NvbXBvbmVudHMvZWRpdG9yL0lubGluZURpZmZcIjtcbmltcG9ydCB7IExvYWRlcjIgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmZ1bmN0aW9uIGlzSW1hZ2VGaWxlKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBleHQgPSBwYXRoLnNwbGl0KFwiLlwiKS5wb3AoKT8udG9Mb3dlckNhc2UoKSA/PyBcIlwiO1xuICByZXR1cm4gW1wicG5nXCIsIFwianBnXCIsIFwianBlZ1wiLCBcImdpZlwiLCBcInN2Z1wiLCBcIndlYnBcIl0uaW5jbHVkZXMoZXh0KTtcbn1cblxuZnVuY3Rpb24gaXNNYXJrZG93bkZpbGUocGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBwYXRoLmVuZHNXaXRoKFwiLm1kXCIpO1xufVxuXG5mdW5jdGlvbiBpc1RleHRGaWxlKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBleHQgPSBwYXRoLnNwbGl0KFwiLlwiKS5wb3AoKT8udG9Mb3dlckNhc2UoKSA/PyBcIlwiO1xuICByZXR1cm4gW1wianNvblwiLCBcInR4dFwiLCBcInB5XCIsIFwianNcIiwgXCJ0c1wiLCBcInRzeFwiLCBcImpzeFwiLCBcImNzdlwiLCBcInlhbWxcIiwgXCJ5bWxcIiwgXCJ0b21sXCIsIFwiaHRtbFwiLCBcImNzc1wiLCBcInhtbFwiLCBcInNoXCIsIFwiYmFzaFwiLCBcImdpdGlnbm9yZVwiLCBcImdpdGtlZXBcIl0uaW5jbHVkZXMoZXh0KTtcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZU5hbWUocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGguc3BsaXQoXCIvXCIpLnBvcCgpID8/IHBhdGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbGVQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3QgcGF0aFNlZ21lbnRzID0gcGFyYW1zLnBhdGggYXMgc3RyaW5nW107XG4gIGNvbnN0IGZpbGVQYXRoID0gcGF0aFNlZ21lbnRzLmpvaW4oXCIvXCIpO1xuICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKGZpbGVQYXRoKTtcblxuICBjb25zdCBpc01hcmtkb3duVmlldyA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdE1kVmlldyhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmlzTWFya2Rvd25WaWV3O1xuICB9KTtcbiAgY29uc3QgaXNGb2N1c01vZGUgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RGb2N1cyhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmlzRm9jdXNNb2RlO1xuICB9KTtcbiAgY29uc3Qgc2V0Q2hhcHRlciA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdFNldENoYXB0ZXIocykge1xuICAgIHJldHVybiBzLnNldENoYXB0ZXI7XG4gIH0pO1xuICBjb25zdCBzZXRTYXZlU3RhdHVzID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0U2V0U2F2ZShzKSB7XG4gICAgcmV0dXJuIHMuc2V0U2F2ZVN0YXR1cztcbiAgfSk7XG4gIGNvbnN0IGtleXNTdG9yZWQgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RLZXlzKHMpIHtcbiAgICByZXR1cm4gcy5wcmVmZXJlbmNlcy5rZXlzU3RvcmVkO1xuICB9KTtcblxuICBjb25zdCBbaW5pdGlhbENvbnRlbnQsIHNldEluaXRpYWxDb250ZW50XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWFya2Rvd25UZXh0LCBzZXRNYXJrZG93blRleHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwbGFpblRleHQsIHNldFBsYWluVGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2ZpbGVTaGEsIHNldEZpbGVTaGFdID0gdXNlU3RhdGU8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBjb25zdCBzaGFSZWYgPSB1c2VSZWY8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBjb25zdCBbZWRpdG9yLCBzZXRFZGl0b3JdID0gdXNlU3RhdGU8RWRpdG9yIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbWFnZVVybCwgc2V0SW1hZ2VVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWxlVHlwZSwgc2V0RmlsZVR5cGVdID0gdXNlU3RhdGU8XCJtYXJrZG93blwiIHwgXCJ0ZXh0XCIgfCBcImltYWdlXCIgfCBcImJpbmFyeVwiPihcImJpbmFyeVwiKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IGRlYm91bmNlUmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNhdmVEZWJvdW5jZVJlZiA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFtpc1BvbGlzaGluZywgc2V0SXNQb2xpc2hpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9saXNoQ29udGVudCwgc2V0UG9saXNoQ29udGVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzQ29udGludWluZywgc2V0SXNDb250aW51aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbnRpbnVlVGV4dCwgc2V0Q29udGludWVUZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY29udGludWVSZXN1bHQsIHNldENvbnRpbnVlUmVzdWx0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFtzZWxlY3RlZFRleHQsIHNldFNlbGVjdGVkVGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Rvb2xiYXJQb3NpdGlvbiwgc2V0VG9vbGJhclBvc2l0aW9uXSA9IHVzZVN0YXRlPHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbmxpbmVEaWZmLCBzZXRJbmxpbmVEaWZmXSA9IHVzZVN0YXRlPHsgb2xkVGV4dDogc3RyaW5nOyBuZXdUZXh0OiBzdHJpbmcgfSB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGVkaXRvckNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNlbGVjdGlvbkRlYm91bmNlUmVmID0gdXNlUmVmPFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNhdmVkU2VsZWN0aW9uUmVmID0gdXNlUmVmPHsgZnJvbTogbnVtYmVyOyB0bzogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcblxuICBjb25zdCBbcmVwb0luZm8sIHNldFJlcG9JbmZvXSA9IHVzZVN0YXRlPHsgb3duZXI6IHN0cmluZzsgcmVwbzogc3RyaW5nOyBicmFuY2g6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGxvYWRSZXBvSW5mbygpIHtcbiAgICBjb25zdCBpbmZvID0gZ2V0UmVwb0luZm8oKTtcbiAgICBpZiAoaW5mbykge1xuICAgICAgc2V0UmVwb0luZm8oaW5mbyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXZhLWN1cnJlbnQtYm9va1wiKTtcbiAgICBpZiAoIXJhdykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgICBjb25zdCBbb3duZXIsIHJlcG9dID0gcGFyc2VkLmZ1bGxfbmFtZS5zcGxpdChcIi9cIik7XG4gICAgICBzZXRSZXBvSW5mbyh7IG93bmVyLCByZXBvLCBicmFuY2g6IHBhcnNlZC5kZWZhdWx0X2JyYW5jaCB9KTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gdHJhY2tDaGFwdGVyKCkge1xuICAgIHNldENoYXB0ZXIoZmlsZVBhdGgpO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgc2V0Q2hhcHRlcih1bmRlZmluZWQpO1xuICAgIH07XG4gIH0sIFtmaWxlUGF0aCwgc2V0Q2hhcHRlcl0pO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBsb2FkRmlsZSgpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQgfHwgIXJlcG9JbmZvKSByZXR1cm47XG5cbiAgICBpZiAoaXNJbWFnZUZpbGUoZmlsZVBhdGgpKSB7XG4gICAgICBzZXRGaWxlVHlwZShcImltYWdlXCIpO1xuICAgICAgY29uc3QgdXJsID0gXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vXCIgKyByZXBvSW5mby5vd25lciArIFwiL1wiICsgcmVwb0luZm8ucmVwbyArIFwiL1wiICsgcmVwb0luZm8uYnJhbmNoICsgXCIvXCIgKyBmaWxlUGF0aDtcbiAgICAgIHNldEltYWdlVXJsKHVybCk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXJrZG93bkZpbGUoZmlsZVBhdGgpKSB7XG4gICAgICBzZXRGaWxlVHlwZShcIm1hcmtkb3duXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0RmlsZShmaWxlUGF0aCkpIHtcbiAgICAgIHNldEZpbGVUeXBlKFwidGV4dFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmlsZVR5cGUoXCJiaW5hcnlcIik7XG4gICAgfVxuXG4gICAgY29uc3QgZHJhZnQgPSBnZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCk7XG4gICAgaWYgKGRyYWZ0ICE9PSBudWxsKSB7XG4gICAgICBzZXRJbml0aWFsQ29udGVudChkcmFmdCk7XG4gICAgICBzZXRNYXJrZG93blRleHQoZHJhZnQpO1xuICAgICAgc2V0UGxhaW5UZXh0KGRyYWZ0KTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIGZldGNoKFxuICAgICAgXCIvYXBpL2dpdGh1Yi9maWxlcz9vd25lcj1cIiArIHJlcG9JbmZvLm93bmVyICsgXCImcmVwbz1cIiArIHJlcG9JbmZvLnJlcG8gKyBcIiZwYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVQYXRoKSArIFwiJmJyYW5jaD1cIiArIHJlcG9JbmZvLmJyYW5jaCxcbiAgICApXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVSZXMocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlRGF0YShkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgaWYgKGRyYWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRJbml0aWFsQ29udGVudChcIlwiKTtcbiAgICAgICAgICAgIHNldE1hcmtkb3duVGV4dChcIlwiKTtcbiAgICAgICAgICAgIHNldFBsYWluVGV4dChcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEZpbGVTaGEoZGF0YS5zaGEpO1xuICAgICAgICBzaGFSZWYuY3VycmVudCA9IGRhdGEuc2hhO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5jb250ZW50ID8/IFwiXCI7XG4gICAgICAgIGlmIChkcmFmdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHNldEluaXRpYWxDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICAgIHNldE1hcmtkb3duVGV4dChjb250ZW50KTtcbiAgICAgICAgICBzZXRQbGFpblRleHQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gaGFuZGxlRXJyKCkge1xuICAgICAgICBpZiAoZHJhZnQgPT09IG51bGwpIHtcbiAgICAgICAgICBzZXRJbml0aWFsQ29udGVudChcIlwiKTtcbiAgICAgICAgICBzZXRNYXJrZG93blRleHQoXCJcIik7XG4gICAgICAgICAgc2V0UGxhaW5UZXh0KFwiXCIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW2tleXNTdG9yZWQsIHJlcG9JbmZvLCBmaWxlUGF0aF0pO1xuXG4gIGZ1bmN0aW9uIHNhdmVUb0dpdEh1Yihjb250ZW50OiBzdHJpbmcsIHJldHJ5Q291bnQ/OiBudW1iZXIpIHtcbiAgICBpZiAoIXJlcG9JbmZvIHx8ICFrZXlzU3RvcmVkKSByZXR1cm47XG5cbiAgICBpZiAoc2F2ZURlYm91bmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChzYXZlRGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgfVxuXG4gICAgc2F2ZURlYm91bmNlUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIHB1c2hUb0dpdEh1YigpIHtcbiAgICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG93bmVyOiByZXBvSW5mbyEub3duZXIsXG4gICAgICAgICAgcmVwbzogcmVwb0luZm8hLnJlcG8sXG4gICAgICAgICAgcGF0aDogZmlsZVBhdGgsXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICBzaGE6IHNoYVJlZi5jdXJyZW50LFxuICAgICAgICAgIGJyYW5jaDogcmVwb0luZm8hLmJyYW5jaCxcbiAgICAgICAgfSksXG4gICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVSZXMocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVEYXRhKGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YS5zaGEpIHtcbiAgICAgICAgICAgIHNldEZpbGVTaGEoZGF0YS5zaGEpO1xuICAgICAgICAgICAgc2hhUmVmLmN1cnJlbnQgPSBkYXRhLnNoYTtcbiAgICAgICAgICAgIHNldFNhdmVTdGF0dXMoXCJzYXZlZFwiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSA0MDkgJiYgKCFyZXRyeUNvdW50IHx8IHJldHJ5Q291bnQgPCAyKSkge1xuICAgICAgICAgICAgZmV0Y2goXG4gICAgICAgICAgICAgIFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyByZXBvSW5mbyEub3duZXIgKyBcIiZyZXBvPVwiICsgcmVwb0luZm8hLnJlcG8gKyBcIiZwYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVQYXRoKSArIFwiJmJyYW5jaD1cIiArIHJlcG9JbmZvIS5icmFuY2gsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlZmV0Y2hSZXMocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiByZWZldGNoRGF0YShmcmVzaERhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJlc2hEYXRhLnNoYSkge1xuICAgICAgICAgICAgICAgICAgc2hhUmVmLmN1cnJlbnQgPSBmcmVzaERhdGEuc2hhO1xuICAgICAgICAgICAgICAgICAgc2V0RmlsZVNoYShmcmVzaERhdGEuc2hhKTtcbiAgICAgICAgICAgICAgICAgIHNhdmVUb0dpdEh1Yihjb250ZW50LCAocmV0cnlDb3VudCA/PyAwKSArIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRTYXZlU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gcmVmZXRjaEVycigpIHtcbiAgICAgICAgICAgICAgICBzZXRTYXZlU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRTYXZlU3RhdHVzKFwiZXJyb3JcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gaGFuZGxlRXJyKCkge1xuICAgICAgICAgIHNldFNhdmVTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgICAgfSk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb250ZW50Q2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKG1kOiBzdHJpbmcpIHtcbiAgICAgIHNldE1hcmtkb3duVGV4dChtZCk7XG4gICAgICBzZXRTYXZlU3RhdHVzKFwic2F2aW5nXCIpO1xuXG4gICAgICBpZiAoZGVib3VuY2VSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIHNhdmVBZnRlckRlbGF5KCkge1xuICAgICAgICBpZiAocmVwb0luZm8pIHtcbiAgICAgICAgICBzZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCwgbWQpO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVUb0dpdEh1YihtZCk7XG4gICAgICB9LCA1MDApO1xuICAgIH0sXG4gICAgW3JlcG9JbmZvLCBmaWxlUGF0aCwgc2V0U2F2ZVN0YXR1c10sXG4gICk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlUGxhaW5UZXh0Q2hhbmdlKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSB7XG4gICAgY29uc3QgdGV4dCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldFBsYWluVGV4dCh0ZXh0KTtcbiAgICBzZXRTYXZlU3RhdHVzKFwic2F2aW5nXCIpO1xuXG4gICAgaWYgKGRlYm91bmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBkZWJvdW5jZVJlZi5jdXJyZW50ID0gc2V0VGltZW91dChmdW5jdGlvbiBzYXZlQWZ0ZXJEZWxheSgpIHtcbiAgICAgIGlmIChyZXBvSW5mbykge1xuICAgICAgICBzZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCwgdGV4dCk7XG4gICAgICB9XG4gICAgICBzYXZlVG9HaXRIdWIodGV4dCk7XG4gICAgfSwgNTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBsYWluVGV4dEtleURvd24oZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50Pikge1xuICAgIGlmICgoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkgJiYgZS5rZXkgPT09IFwic1wiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAocmVwb0luZm8pIHtcbiAgICAgICAgc2V0TG9jYWxEcmFmdChyZXBvSW5mby5vd25lciArIFwiL1wiICsgcmVwb0luZm8ucmVwbywgZmlsZVBhdGgsIHBsYWluVGV4dCk7XG4gICAgICB9XG4gICAgICBzZXRTYXZlU3RhdHVzKFwic2F2aW5nXCIpO1xuICAgICAgc2F2ZVRvR2l0SHViKHBsYWluVGV4dCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTWFya2Rvd25UZXh0YXJlYSA9IHVzZUNhbGxiYWNrKFxuICAgIGZ1bmN0aW9uIGhhbmRsZVRleHRhcmVhKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSB7XG4gICAgICBjb25zdCBtZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgc2V0TWFya2Rvd25UZXh0KG1kKTtcbiAgICAgIHNldFNhdmVTdGF0dXMoXCJzYXZpbmdcIik7XG5cbiAgICAgIGlmIChkZWJvdW5jZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVJlZi5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgZGVib3VuY2VSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gc2F2ZVJhd01kKCkge1xuICAgICAgICBpZiAocmVwb0luZm8pIHtcbiAgICAgICAgICBzZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCwgbWQpO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVUb0dpdEh1YihtZCk7XG4gICAgICB9LCA1MDApO1xuICAgIH0sXG4gICAgW3JlcG9JbmZvLCBmaWxlUGF0aCwgc2V0U2F2ZVN0YXR1c10sXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlRWRpdG9yUmVhZHkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBvbkVkaXRvcihlZDogRWRpdG9yIHwgbnVsbCkge1xuICAgIHNldEVkaXRvcihlZCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVQb2xpc2hDb21wbGV0ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHBvbGlzaERvbmUobmV3Q29udGVudDogc3RyaW5nKSB7XG4gICAgc2V0TWFya2Rvd25UZXh0KG5ld0NvbnRlbnQpO1xuICAgIGlmIChyZXBvSW5mbykge1xuICAgICAgc2V0TG9jYWxEcmFmdChyZXBvSW5mby5vd25lciArIFwiL1wiICsgcmVwb0luZm8ucmVwbywgZmlsZVBhdGgsIG5ld0NvbnRlbnQpO1xuICAgIH1cbiAgICBzZXRTYXZlU3RhdHVzKFwic2F2ZWRcIik7XG5cbiAgICBpZiAoZWRpdG9yICYmICFlZGl0b3IuaXNEZXN0cm95ZWQpIHtcbiAgICAgIGVkaXRvci5jb21tYW5kcy5zZXRDb250ZW50KG5ld0NvbnRlbnQpO1xuICAgIH1cblxuICAgIHNldElzUG9saXNoaW5nKGZhbHNlKTtcbiAgICBzZXRQb2xpc2hDb250ZW50KFwiXCIpO1xuICAgIHNldEluaXRpYWxDb250ZW50KG5ld0NvbnRlbnQpO1xuICB9LCBbcmVwb0luZm8sIGZpbGVQYXRoLCBzZXRTYXZlU3RhdHVzLCBlZGl0b3JdKTtcblxuICBjb25zdCBoYW5kbGVQb2xpc2hDYW5jZWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBwb2xpc2hDYW5jZWwoKSB7XG4gICAgc2V0SXNQb2xpc2hpbmcoZmFsc2UpO1xuICAgIHNldFBvbGlzaENvbnRlbnQoXCJcIik7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVDb250aW51ZUFjY2VwdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGNvbnRpbnVlQWNjZXB0KG5ld1RleHQ6IHN0cmluZykge1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBtYXJrZG93blRleHQgKyBcIlxcblxcblwiICsgbmV3VGV4dDtcbiAgICBzZXRNYXJrZG93blRleHQodXBkYXRlZCk7XG4gICAgaWYgKHJlcG9JbmZvKSB7XG4gICAgICBzZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCwgdXBkYXRlZCk7XG4gICAgfVxuICAgIHNldFNhdmVTdGF0dXMoXCJzYXZlZFwiKTtcblxuICAgIGlmIChlZGl0b3IgJiYgIWVkaXRvci5pc0Rlc3Ryb3llZCkge1xuICAgICAgZWRpdG9yLmNvbW1hbmRzLnNldENvbnRlbnQodXBkYXRlZCk7XG4gICAgfVxuXG4gICAgc2V0SXNDb250aW51aW5nKGZhbHNlKTtcbiAgICBzZXRDb250aW51ZVRleHQoXCJcIik7XG4gICAgc2V0Q29udGludWVSZXN1bHQobnVsbCk7XG4gICAgc2V0SW5pdGlhbENvbnRlbnQodXBkYXRlZCk7XG4gIH0sIFttYXJrZG93blRleHQsIHJlcG9JbmZvLCBmaWxlUGF0aCwgc2V0U2F2ZVN0YXR1cywgZWRpdG9yXSk7XG5cbiAgY29uc3QgaGFuZGxlQ29udGludWVSZWplY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBjb250aW51ZVJlamVjdCgpIHtcbiAgICBzZXRJc0NvbnRpbnVpbmcoZmFsc2UpO1xuICAgIHNldENvbnRpbnVlVGV4dChcIlwiKTtcbiAgICBzZXRDb250aW51ZVJlc3VsdChudWxsKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvb2xiYXJSZXN1bHQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0b29sYmFyUmVzdWx0KG9sZFRleHQ6IHN0cmluZywgbmV3VGV4dDogc3RyaW5nKSB7XG4gICAgaWYgKHNhdmVkU2VsZWN0aW9uUmVmLmN1cnJlbnQgJiYgZWRpdG9yICYmICFlZGl0b3IuaXNEZXN0cm95ZWQpIHtcbiAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuc2V0VGV4dFNlbGVjdGlvbihzYXZlZFNlbGVjdGlvblJlZi5jdXJyZW50KS51bnNldEhpZ2hsaWdodCgpLnJ1bigpO1xuICAgICAgc2F2ZWRTZWxlY3Rpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIHNldFRvb2xiYXJQb3NpdGlvbihudWxsKTtcbiAgICBzZXRTZWxlY3RlZFRleHQoXCJcIik7XG4gICAgc2V0SW5saW5lRGlmZih7IG9sZFRleHQsIG5ld1RleHQgfSk7XG4gIH0sIFtlZGl0b3JdKTtcblxuICBjb25zdCBoYW5kbGVUb29sYmFyQ2xvc2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0b29sYmFyQ2xvc2UoKSB7XG4gICAgaWYgKHNhdmVkU2VsZWN0aW9uUmVmLmN1cnJlbnQgJiYgZWRpdG9yICYmICFlZGl0b3IuaXNEZXN0cm95ZWQpIHtcbiAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuc2V0VGV4dFNlbGVjdGlvbihzYXZlZFNlbGVjdGlvblJlZi5jdXJyZW50KS51bnNldEhpZ2hsaWdodCgpLnJ1bigpO1xuICAgICAgc2F2ZWRTZWxlY3Rpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIHNldFRvb2xiYXJQb3NpdGlvbihudWxsKTtcbiAgICBzZXRTZWxlY3RlZFRleHQoXCJcIik7XG4gIH0sIFtlZGl0b3JdKTtcblxuICBjb25zdCBoYW5kbGVJbmxpbmVEaWZmQWNjZXB0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gaW5saW5lQWNjZXB0KCkge1xuICAgIGlmICghaW5saW5lRGlmZiB8fCAhZWRpdG9yIHx8IGVkaXRvci5pc0Rlc3Ryb3llZCkge1xuICAgICAgc2V0SW5saW5lRGlmZihudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50TWQgPSBtYXJrZG93blRleHQ7XG4gICAgY29uc3QgdXBkYXRlZCA9IGN1cnJlbnRNZC5yZXBsYWNlKGlubGluZURpZmYub2xkVGV4dCwgaW5saW5lRGlmZi5uZXdUZXh0KTtcbiAgICBzZXRNYXJrZG93blRleHQodXBkYXRlZCk7XG4gICAgaWYgKHJlcG9JbmZvKSB7XG4gICAgICBzZXRMb2NhbERyYWZ0KHJlcG9JbmZvLm93bmVyICsgXCIvXCIgKyByZXBvSW5mby5yZXBvLCBmaWxlUGF0aCwgdXBkYXRlZCk7XG4gICAgfVxuICAgIHNldFNhdmVTdGF0dXMoXCJzYXZlZFwiKTtcbiAgICBlZGl0b3IuY29tbWFuZHMuc2V0Q29udGVudCh1cGRhdGVkKTtcbiAgICBzZXRJbmxpbmVEaWZmKG51bGwpO1xuICAgIHNldEluaXRpYWxDb250ZW50KHVwZGF0ZWQpO1xuICB9LCBbaW5saW5lRGlmZiwgZWRpdG9yLCBtYXJrZG93blRleHQsIHJlcG9JbmZvLCBmaWxlUGF0aCwgc2V0U2F2ZVN0YXR1c10pO1xuXG4gIGNvbnN0IGhhbmRsZUlubGluZURpZmZSZWplY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBpbmxpbmVSZWplY3QoKSB7XG4gICAgc2V0SW5saW5lRGlmZihudWxsKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiByZWdpc3RlclNob3J0Y3V0cygpIHtcbiAgICBpZiAoZmlsZVR5cGUgIT09IFwibWFya2Rvd25cIikgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICBpZiAoKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpICYmIGUuc2hpZnRLZXkgJiYgZS5rZXkgPT09IFwiS1wiKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGlzUG9saXNoaW5nIHx8IGlzQ29udGludWluZykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBtYXJrZG93blRleHQ7XG4gICAgICAgIGlmICghY29udGVudC50cmltKCkpIHJldHVybjtcblxuICAgICAgICBzZXRQb2xpc2hDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICBzZXRJc1BvbGlzaGluZyh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChlLm1ldGFLZXkgfHwgZS5jdHJsS2V5KSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoaXNQb2xpc2hpbmcgfHwgaXNDb250aW51aW5nKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRleHRCZWZvcmUgPSBtYXJrZG93blRleHQ7XG5cbiAgICAgICAgaWYgKGVkaXRvciAmJiAhZWRpdG9yLmlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgY29uc3QgeyBmcm9tIH0gPSBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICAgIGNvbnN0IGRvY1RleHQgPSBlZGl0b3Iuc3RvcmFnZS5tYXJrZG93bi5nZXRNYXJrZG93bigpO1xuICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZWRpdG9yLnN0YXRlLmRvYy50ZXh0QmV0d2VlbigwLCBmcm9tLCBcIlxcblwiKTtcbiAgICAgICAgICBpZiAodGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICAgICAgICB0ZXh0QmVmb3JlID0gdGV4dENvbnRlbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHRCZWZvcmUgPSBkb2NUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGV4dEJlZm9yZS50cmltKCkpIHJldHVybjtcbiAgICAgICAgc2V0Q29udGludWVUZXh0KHRleHRCZWZvcmUpO1xuICAgICAgICBzZXRJc0NvbnRpbnVpbmcodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIH07XG4gIH0sIFttYXJrZG93blRleHQsIGVkaXRvciwgaXNQb2xpc2hpbmcsIGlzQ29udGludWluZywgZmlsZVR5cGVdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gdHJhY2tTZWxlY3Rpb24oKSB7XG4gICAgaWYgKCFlZGl0b3IgfHwgZWRpdG9yLmlzRGVzdHJveWVkKSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25VcGRhdGUoKSB7XG4gICAgICBpZiAoIWVkaXRvciB8fCBlZGl0b3IuaXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgaWYgKHNlbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpO1xuICAgICAgICBzZWxlY3Rpb25EZWJvdW5jZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gZWRpdG9yLnN0YXRlLnNlbGVjdGlvbjtcbiAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICBpZiAoc2F2ZWRTZWxlY3Rpb25SZWYuY3VycmVudCAmJiBlZGl0b3IgJiYgIWVkaXRvci5pc0Rlc3Ryb3llZCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLnNldFRleHRTZWxlY3Rpb24oc2F2ZWRTZWxlY3Rpb25SZWYuY3VycmVudCkudW5zZXRIaWdobGlnaHQoKS5zZXRUZXh0U2VsZWN0aW9uKGZyb20pLnJ1bigpO1xuICAgICAgICAgIHNhdmVkU2VsZWN0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlbGVjdGVkVGV4dChcIlwiKTtcbiAgICAgICAgc2V0VG9vbGJhclBvc2l0aW9uKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRleHQgPSBlZGl0b3Iuc3RhdGUuZG9jLnRleHRCZXR3ZWVuKGZyb20sIHRvLCBcIiBcIik7XG4gICAgICBpZiAodGV4dC50cmltKCkubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRUZXh0KFwiXCIpO1xuICAgICAgICBzZXRUb29sYmFyUG9zaXRpb24obnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0aW9uRGVib3VuY2VSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gc2hvd1Rvb2xiYXIoKSB7XG4gICAgICAgIGlmICghZWRpdG9yIHx8IGVkaXRvci5pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZWwgPSBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoY3VycmVudFNlbC5mcm9tID09PSBjdXJyZW50U2VsLnRvKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSBlZGl0b3Iuc3RhdGUuZG9jLnRleHRCZXR3ZWVuKGN1cnJlbnRTZWwuZnJvbSwgY3VycmVudFNlbC50bywgXCIgXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRleHQudHJpbSgpLmxlbmd0aCA8IDEwKSByZXR1cm47XG5cbiAgICAgICAgc2V0U2VsZWN0ZWRUZXh0KGN1cnJlbnRUZXh0KTtcblxuICAgICAgICBzYXZlZFNlbGVjdGlvblJlZi5jdXJyZW50ID0geyBmcm9tOiBjdXJyZW50U2VsLmZyb20sIHRvOiBjdXJyZW50U2VsLnRvIH07XG4gICAgICAgIGVkaXRvci5jaGFpbigpLnNldFRleHRTZWxlY3Rpb24oeyBmcm9tOiBjdXJyZW50U2VsLmZyb20sIHRvOiBjdXJyZW50U2VsLnRvIH0pLnNldEhpZ2hsaWdodCh7IGNvbG9yOiBcInJnYmEoMTg0LCAxMzQsIDExLCAwLjIpXCIgfSkucnVuKCk7XG5cbiAgICAgICAgY29uc3QgY29vcmRzID0gZWRpdG9yLnZpZXcuY29vcmRzQXRQb3MoY3VycmVudFNlbC5mcm9tKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZWRpdG9yQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHNldFRvb2xiYXJQb3NpdGlvbih7XG4gICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AgLSByZWN0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IGNvb3Jkcy5sZWZ0IC0gcmVjdC5sZWZ0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCA2MDApO1xuICAgIH1cblxuICAgIGVkaXRvci5vbihcInNlbGVjdGlvblVwZGF0ZVwiLCBoYW5kbGVTZWxlY3Rpb25VcGRhdGUpO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgZWRpdG9yLm9mZihcInNlbGVjdGlvblVwZGF0ZVwiLCBoYW5kbGVTZWxlY3Rpb25VcGRhdGUpO1xuICAgICAgaWYgKHNlbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtlZGl0b3JdKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPExvYWRlcjIgc2l6ZT17MTZ9IHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGluIDFzIGxpbmVhciBpbmZpbml0ZVwiIH19IC8+XG4gICAgICAgIExvYWRpbmcuLi5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjEycHggMjRweFwiLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtmaWxlUGF0aH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgcGFkZGluZzogMjQsXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpbWFnZVVybCAmJiAoXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17aW1hZ2VVcmx9XG4gICAgICAgICAgICAgIGFsdD17ZmlsZU5hbWV9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IG1heFdpZHRoOiBcIjEwMCVcIiwgbWF4SGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvbnRhaW5cIiB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZmlsZVR5cGUgPT09IFwiYmluYXJ5XCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICBnYXA6IDEyLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMTJweCAyNHB4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2ZpbGVQYXRofVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIFRoaXMgZmlsZSB0eXBlIGNhbm5vdCBiZSBkaXNwbGF5ZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChmaWxlVHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICBjb25zdCBsaW5lcyA9IHBsYWluVGV4dC5zcGxpdChcIlxcblwiKTtcbiAgICBjb25zdCBsaW5lQ291bnQgPSBsaW5lcy5sZW5ndGg7XG4gICAgY29uc3QgZ3V0dGVyV2lkdGggPSBNYXRoLm1heChTdHJpbmcobGluZUNvdW50KS5sZW5ndGggKiA5ICsgMTYsIDQwKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjEycHggMjRweFwiLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuPntmaWxlUGF0aH08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93OiBcImF1dG9cIiwgZGlzcGxheTogXCJmbGV4XCIgfX0+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6IGd1dHRlcldpZHRoLFxuICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIxNnB4IDBcIixcbiAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWpldGJyYWlucy1tb25vKSwgbW9ub3NwYWNlXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxNSxcbiAgICAgICAgICAgICAgbGluZUhlaWdodDogXCIxLjdcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGluZXMubWFwKGZ1bmN0aW9uIHJlbmRlckxpbmVOdW0oXywgaSkge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBzdHlsZT17eyBwYWRkaW5nUmlnaHQ6IDgsIGhlaWdodDogXCIxLjdlbVwiIH19PlxuICAgICAgICAgICAgICAgICAge2kgKyAxfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB2YWx1ZT17cGxhaW5UZXh0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVBsYWluVGV4dENoYW5nZX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlUGxhaW5UZXh0S2V5RG93bn1cbiAgICAgICAgICAgIHNwZWxsQ2hlY2s9e2ZhbHNlfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1qZXRicmFpbnMtbW9ubyksIG1vbm9zcGFjZVwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTUsXG4gICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMS43XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICByZXNpemU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjE2cHggMTZweCAxNnB4IDEycHhcIixcbiAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZVwiLFxuICAgICAgICAgICAgICBvdmVyZmxvd1dyYXA6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChpbml0aWFsQ29udGVudCA9PT0gbnVsbCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICBMb2FkaW5nLi4uXG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGlzUG9saXNoaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiBcIjEwMCVcIiwgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiIH19PlxuICAgICAgICA8UG9saXNoVmlld1xuICAgICAgICAgIGNvbnRlbnQ9e3BvbGlzaENvbnRlbnR9XG4gICAgICAgICAgb25Db21wbGV0ZT17aGFuZGxlUG9saXNoQ29tcGxldGV9XG4gICAgICAgICAgb25DYW5jZWw9e2hhbmRsZVBvbGlzaENhbmNlbH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBmaWxlVGl0bGUgPSBmaWxlTmFtZS5yZXBsYWNlKC9cXC5tZCQvLCBcIlwiKS5yZXBsYWNlKC9bLV9dL2csIFwiIFwiKS5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24gY2FwaXRhbGl6ZShjKSB7XG4gICAgcmV0dXJuIGMudG9VcHBlckNhc2UoKTtcbiAgfSk7XG5cbiAgY29uc3QgZWRpdG9yQ29udGVudCA9IGlzTWFya2Rvd25WaWV3ID8gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIG1heFdpZHRoOiA2ODAsXG4gICAgICAgIG1hcmdpbjogXCIwIGF1dG9cIixcbiAgICAgICAgcGFkZGluZzogXCIzcmVtIDJyZW0gNnJlbVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgdmFsdWU9e21hcmtkb3duVGV4dH1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZU1hcmtkb3duVGV4dGFyZWF9XG4gICAgICAgIHNwZWxsQ2hlY2s9e2ZhbHNlfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBtaW5IZWlnaHQ6IFwiY2FsYygxMDB2aCAtIDIwMHB4KVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWpldGJyYWlucy1tb25vKSwgbW9ub3NwYWNlXCIsXG4gICAgICAgICAgZm9udFNpemU6IDE1LFxuICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNyxcbiAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgIHJlc2l6ZTogXCJub25lXCIsXG4gICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICkgOiAoXG4gICAgPFRpcHRhcEVkaXRvclxuICAgICAgaW5pdGlhbENvbnRlbnQ9e2luaXRpYWxDb250ZW50fVxuICAgICAgb25Db250ZW50Q2hhbmdlPXtoYW5kbGVDb250ZW50Q2hhbmdlfVxuICAgICAgb25FZGl0b3I9e2hhbmRsZUVkaXRvclJlYWR5fVxuICAgIC8+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7IWlzRm9jdXNNb2RlICYmIDxFZGl0b3JUb29sYmFyIGVkaXRvcj17ZWRpdG9yfSAvPn1cblxuICAgICAgeyFpc0ZvY3VzTW9kZSAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgbWF4V2lkdGg6IDY4MCxcbiAgICAgICAgICAgIG1hcmdpbjogXCIwIGF1dG9cIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41cmVtIDJyZW0gMFwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8aDFcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1saXRlcmF0YSksIEdlb3JnaWEsIHNlcmlmXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgICAgICAgICAgZm9udFdlaWdodDogNzAwLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZmlsZVRpdGxlfVxuICAgICAgICAgIDwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiByZWY9e2VkaXRvckNvbnRhaW5lclJlZn0gc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3dZOiBcImF1dG9cIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9fT5cbiAgICAgICAge2VkaXRvckNvbnRlbnR9XG5cbiAgICAgICAge2lzQ29udGludWluZyAmJiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IDY4MCxcbiAgICAgICAgICAgICAgbWFyZ2luOiBcIjAgYXV0b1wiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAgMnJlbSAycmVtXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDb250aW51ZVdyaXRpbmdcbiAgICAgICAgICAgICAgcHJlY2VkaW5nVGV4dD17Y29udGludWVUZXh0fVxuICAgICAgICAgICAgICBvbkFjY2VwdD17aGFuZGxlQ29udGludWVBY2NlcHR9XG4gICAgICAgICAgICAgIG9uUmVqZWN0PXtoYW5kbGVDb250aW51ZVJlamVjdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2lubGluZURpZmYgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIG1heFdpZHRoOiA2ODAsXG4gICAgICAgICAgICAgIG1hcmdpbjogXCIwIGF1dG9cIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIwLjVyZW0gMnJlbVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5saW5lRGlmZlxuICAgICAgICAgICAgICBvbGRUZXh0PXtpbmxpbmVEaWZmLm9sZFRleHR9XG4gICAgICAgICAgICAgIG5ld1RleHQ9e2lubGluZURpZmYubmV3VGV4dH1cbiAgICAgICAgICAgICAgb25BY2NlcHQ9e2hhbmRsZUlubGluZURpZmZBY2NlcHR9XG4gICAgICAgICAgICAgIG9uUmVqZWN0PXtoYW5kbGVJbmxpbmVEaWZmUmVqZWN0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7dG9vbGJhclBvc2l0aW9uICYmIHNlbGVjdGVkVGV4dCAmJiAhaXNQb2xpc2hpbmcgJiYgIWlzQ29udGludWluZyAmJiBlZGl0b3IgJiYgKFxuICAgICAgICAgIDxTZWxlY3Rpb25Ub29sYmFyXG4gICAgICAgICAgICBlZGl0b3I9e2VkaXRvcn1cbiAgICAgICAgICAgIHNlbGVjdGVkVGV4dD17c2VsZWN0ZWRUZXh0fVxuICAgICAgICAgICAgcG9zaXRpb249e3Rvb2xiYXJQb3NpdGlvbn1cbiAgICAgICAgICAgIG9uQUlSZXN1bHQ9e2hhbmRsZVRvb2xiYXJSZXN1bHR9XG4gICAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVUb29sYmFyQ2xvc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8Rm9jdXNNb2RlPntlZGl0b3JDb250ZW50fTwvRm9jdXNNb2RlPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VQYXJhbXMiLCJ1c2VBcHBTdG9yZSIsImdldExvY2FsRHJhZnQiLCJzZXRMb2NhbERyYWZ0IiwiZ2V0UmVwb0luZm8iLCJUaXB0YXBFZGl0b3IiLCJFZGl0b3JUb29sYmFyIiwiRm9jdXNNb2RlIiwiUG9saXNoVmlldyIsIkNvbnRpbnVlV3JpdGluZyIsIlNlbGVjdGlvblRvb2xiYXIiLCJJbmxpbmVEaWZmIiwiTG9hZGVyMiIsImlzSW1hZ2VGaWxlIiwicGF0aCIsImV4dCIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImlzTWFya2Rvd25GaWxlIiwiZW5kc1dpdGgiLCJpc1RleHRGaWxlIiwiZ2V0RmlsZU5hbWUiLCJGaWxlUGFnZSIsInBhcmFtcyIsInBhdGhTZWdtZW50cyIsImZpbGVQYXRoIiwiam9pbiIsImZpbGVOYW1lIiwiaXNNYXJrZG93blZpZXciLCJzZWxlY3RNZFZpZXciLCJzIiwiZWRpdG9yIiwiaXNGb2N1c01vZGUiLCJzZWxlY3RGb2N1cyIsInNldENoYXB0ZXIiLCJzZWxlY3RTZXRDaGFwdGVyIiwic2V0U2F2ZVN0YXR1cyIsInNlbGVjdFNldFNhdmUiLCJrZXlzU3RvcmVkIiwic2VsZWN0S2V5cyIsInByZWZlcmVuY2VzIiwiaW5pdGlhbENvbnRlbnQiLCJzZXRJbml0aWFsQ29udGVudCIsIm1hcmtkb3duVGV4dCIsInNldE1hcmtkb3duVGV4dCIsInBsYWluVGV4dCIsInNldFBsYWluVGV4dCIsImZpbGVTaGEiLCJzZXRGaWxlU2hhIiwidW5kZWZpbmVkIiwic2hhUmVmIiwic2V0RWRpdG9yIiwiaW1hZ2VVcmwiLCJzZXRJbWFnZVVybCIsImZpbGVUeXBlIiwic2V0RmlsZVR5cGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImRlYm91bmNlUmVmIiwic2F2ZURlYm91bmNlUmVmIiwiaXNQb2xpc2hpbmciLCJzZXRJc1BvbGlzaGluZyIsInBvbGlzaENvbnRlbnQiLCJzZXRQb2xpc2hDb250ZW50IiwiaXNDb250aW51aW5nIiwic2V0SXNDb250aW51aW5nIiwiY29udGludWVUZXh0Iiwic2V0Q29udGludWVUZXh0IiwiY29udGludWVSZXN1bHQiLCJzZXRDb250aW51ZVJlc3VsdCIsInNlbGVjdGVkVGV4dCIsInNldFNlbGVjdGVkVGV4dCIsInRvb2xiYXJQb3NpdGlvbiIsInNldFRvb2xiYXJQb3NpdGlvbiIsImlubGluZURpZmYiLCJzZXRJbmxpbmVEaWZmIiwiZWRpdG9yQ29udGFpbmVyUmVmIiwic2VsZWN0aW9uRGVib3VuY2VSZWYiLCJzYXZlZFNlbGVjdGlvblJlZiIsInJlcG9JbmZvIiwic2V0UmVwb0luZm8iLCJsb2FkUmVwb0luZm8iLCJpbmZvIiwicmF3IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsIm93bmVyIiwicmVwbyIsImZ1bGxfbmFtZSIsImJyYW5jaCIsImRlZmF1bHRfYnJhbmNoIiwidHJhY2tDaGFwdGVyIiwiY2xlYW51cCIsImxvYWRGaWxlIiwidXJsIiwiZHJhZnQiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInRoZW4iLCJoYW5kbGVSZXMiLCJyZXMiLCJqc29uIiwiaGFuZGxlRGF0YSIsImRhdGEiLCJlcnJvciIsInNoYSIsImN1cnJlbnQiLCJjb250ZW50IiwiY2F0Y2giLCJoYW5kbGVFcnIiLCJmaW5hbGx5IiwiZG9uZSIsInNhdmVUb0dpdEh1YiIsInJldHJ5Q291bnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicHVzaFRvR2l0SHViIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJyZWZldGNoUmVzIiwicmVmZXRjaERhdGEiLCJmcmVzaERhdGEiLCJyZWZldGNoRXJyIiwiaGFuZGxlQ29udGVudENoYW5nZSIsImhhbmRsZUNoYW5nZSIsIm1kIiwic2F2ZUFmdGVyRGVsYXkiLCJoYW5kbGVQbGFpblRleHRDaGFuZ2UiLCJlIiwidGV4dCIsInRhcmdldCIsInZhbHVlIiwiaGFuZGxlUGxhaW5UZXh0S2V5RG93biIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVNYXJrZG93blRleHRhcmVhIiwiaGFuZGxlVGV4dGFyZWEiLCJzYXZlUmF3TWQiLCJoYW5kbGVFZGl0b3JSZWFkeSIsIm9uRWRpdG9yIiwiZWQiLCJoYW5kbGVQb2xpc2hDb21wbGV0ZSIsInBvbGlzaERvbmUiLCJuZXdDb250ZW50IiwiaXNEZXN0cm95ZWQiLCJjb21tYW5kcyIsInNldENvbnRlbnQiLCJoYW5kbGVQb2xpc2hDYW5jZWwiLCJwb2xpc2hDYW5jZWwiLCJoYW5kbGVDb250aW51ZUFjY2VwdCIsImNvbnRpbnVlQWNjZXB0IiwibmV3VGV4dCIsInVwZGF0ZWQiLCJoYW5kbGVDb250aW51ZVJlamVjdCIsImNvbnRpbnVlUmVqZWN0IiwiaGFuZGxlVG9vbGJhclJlc3VsdCIsInRvb2xiYXJSZXN1bHQiLCJvbGRUZXh0IiwiY2hhaW4iLCJmb2N1cyIsInNldFRleHRTZWxlY3Rpb24iLCJ1bnNldEhpZ2hsaWdodCIsInJ1biIsImhhbmRsZVRvb2xiYXJDbG9zZSIsInRvb2xiYXJDbG9zZSIsImhhbmRsZUlubGluZURpZmZBY2NlcHQiLCJpbmxpbmVBY2NlcHQiLCJjdXJyZW50TWQiLCJyZXBsYWNlIiwiaGFuZGxlSW5saW5lRGlmZlJlamVjdCIsImlubGluZVJlamVjdCIsInJlZ2lzdGVyU2hvcnRjdXRzIiwiaGFuZGxlS2V5RG93biIsInNoaWZ0S2V5IiwidHJpbSIsInRleHRCZWZvcmUiLCJmcm9tIiwic3RhdGUiLCJzZWxlY3Rpb24iLCJkb2NUZXh0Iiwic3RvcmFnZSIsIm1hcmtkb3duIiwiZ2V0TWFya2Rvd24iLCJ0ZXh0Q29udGVudCIsImRvYyIsInRleHRCZXR3ZWVuIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0cmFja1NlbGVjdGlvbiIsImhhbmRsZVNlbGVjdGlvblVwZGF0ZSIsInRvIiwibGVuZ3RoIiwic2hvd1Rvb2xiYXIiLCJjdXJyZW50U2VsIiwiY3VycmVudFRleHQiLCJzZXRIaWdobGlnaHQiLCJjb2xvciIsImNvb3JkcyIsInZpZXciLCJjb29yZHNBdFBvcyIsImNvbnRhaW5lciIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJsZWZ0Iiwib24iLCJvZmYiLCJkaXYiLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJoZWlnaHQiLCJnYXAiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJzaXplIiwiYW5pbWF0aW9uIiwiZmxleERpcmVjdGlvbiIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJib3JkZXJCb3R0b20iLCJmbGV4Iiwib3ZlcmZsb3ciLCJpbWciLCJzcmMiLCJhbHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm9iamVjdEZpdCIsIndpZHRoIiwibGluZXMiLCJsaW5lQ291bnQiLCJndXR0ZXJXaWR0aCIsIk1hdGgiLCJtYXgiLCJTdHJpbmciLCJzcGFuIiwiZmxleFNocmluayIsImJvcmRlclJpZ2h0IiwibGluZUhlaWdodCIsInRleHRBbGlnbiIsInVzZXJTZWxlY3QiLCJtYXAiLCJyZW5kZXJMaW5lTnVtIiwiXyIsImkiLCJwYWRkaW5nUmlnaHQiLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwic3BlbGxDaGVjayIsImJvcmRlciIsIm91dGxpbmUiLCJyZXNpemUiLCJtYXJnaW4iLCJ3aGl0ZVNwYWNlIiwib3ZlcmZsb3dXcmFwIiwib3ZlcmZsb3dYIiwib25Db21wbGV0ZSIsIm9uQ2FuY2VsIiwiZmlsZVRpdGxlIiwiY2FwaXRhbGl6ZSIsImMiLCJ0b1VwcGVyQ2FzZSIsImVkaXRvckNvbnRlbnQiLCJtaW5IZWlnaHQiLCJvbkNvbnRlbnRDaGFuZ2UiLCJoMSIsImZvbnRXZWlnaHQiLCJwYWRkaW5nQm90dG9tIiwicmVmIiwib3ZlcmZsb3dZIiwicG9zaXRpb24iLCJwcmVjZWRpbmdUZXh0Iiwib25BY2NlcHQiLCJvblJlamVjdCIsIm9uQUlSZXN1bHQiLCJvbkNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/book/[...path]/page.tsx\n");

/***/ }),

/***/ "(ssr)/./app/book/layout.tsx":
/*!*****************************!*\
  !*** ./app/book/layout.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BookLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_shell_ShellLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/shell/ShellLayout */ \"(ssr)/./components/shell/ShellLayout.tsx\");\n/* harmony import */ var _components_sidebar_LeftSidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/sidebar/LeftSidebar */ \"(ssr)/./components/sidebar/LeftSidebar.tsx\");\n/* harmony import */ var _components_shell_StatusBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/shell/StatusBar */ \"(ssr)/./components/shell/StatusBar.tsx\");\n/* harmony import */ var _components_rightpanel_RightPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/rightpanel/RightPanel */ \"(ssr)/./components/rightpanel/RightPanel.tsx\");\n/* harmony import */ var _components_shell_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/shell/KeyboardShortcuts */ \"(ssr)/./components/shell/KeyboardShortcuts.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction BookLayout({ children }) {\n    const [shortcutsOpen, setShortcutsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleToggleShortcuts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleToggleShortcuts() {\n        setShortcutsOpen(function toggle(prev) {\n            return !prev;\n        });\n    }, []);\n    const handleCloseShortcuts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleCloseShortcuts() {\n        setShortcutsOpen(false);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100vh\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shell_ShellLayout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                leftContent: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_LeftSidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                    lineNumber: 26,\n                    columnNumber: 22\n                }, void 0),\n                rightContent: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_rightpanel_RightPanel__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                    lineNumber: 27,\n                    columnNumber: 23\n                }, void 0),\n                onToggleShortcuts: handleToggleShortcuts,\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"shell-status-bar\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shell_StatusBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                    lineNumber: 33,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                lineNumber: 32,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shell_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                open: shortcutsOpen,\n                onClose: handleCloseShortcuts\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/app/book/layout.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvYm9vay9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRThEO0FBQ0w7QUFDRTtBQUNOO0FBQ087QUFDUztBQUV0RCxTQUFTTyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR1YsK0NBQVFBLENBQUM7SUFFbkQsTUFBTVcsd0JBQXdCVixrREFBV0EsQ0FBQyxTQUFTVTtRQUNqREQsaUJBQWlCLFNBQVNFLE9BQU9DLElBQUk7WUFDbkMsT0FBTyxDQUFDQTtRQUNWO0lBQ0YsR0FBRyxFQUFFO0lBRUwsTUFBTUMsdUJBQXVCYixrREFBV0EsQ0FBQyxTQUFTYTtRQUNoREosaUJBQWlCO0lBQ25CLEdBQUcsRUFBRTtJQUVMLHFCQUNFLDhEQUFDSztRQUFJQyxPQUFPO1lBQUVDLFNBQVM7WUFBUUMsZUFBZTtZQUFVQyxRQUFRO1FBQVE7OzBCQUN0RSw4REFBQ2pCLHFFQUFXQTtnQkFDVmtCLDJCQUFhLDhEQUFDakIsdUVBQVdBOzs7OztnQkFDekJrQiw0QkFBYyw4REFBQ2hCLHlFQUFVQTs7Ozs7Z0JBQ3pCaUIsbUJBQW1CWDswQkFFbEJIOzs7Ozs7MEJBRUgsOERBQUNPO2dCQUFJUSxXQUFVOzBCQUNiLDRFQUFDbkIsbUVBQVNBOzs7Ozs7Ozs7OzBCQUVaLDhEQUFDRSwyRUFBaUJBO2dCQUFDa0IsTUFBTWY7Z0JBQWVnQixTQUFTWDs7Ozs7Ozs7Ozs7O0FBR3ZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vYXBwL2Jvb2svbGF5b3V0LnRzeD9mNmFiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHR5cGUgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU2hlbGxMYXlvdXQgZnJvbSBcIkAvY29tcG9uZW50cy9zaGVsbC9TaGVsbExheW91dFwiO1xuaW1wb3J0IExlZnRTaWRlYmFyIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhci9MZWZ0U2lkZWJhclwiO1xuaW1wb3J0IFN0YXR1c0JhciBmcm9tIFwiQC9jb21wb25lbnRzL3NoZWxsL1N0YXR1c0JhclwiO1xuaW1wb3J0IFJpZ2h0UGFuZWwgZnJvbSBcIkAvY29tcG9uZW50cy9yaWdodHBhbmVsL1JpZ2h0UGFuZWxcIjtcbmltcG9ydCBLZXlib2FyZFNob3J0Y3V0cyBmcm9tIFwiQC9jb21wb25lbnRzL3NoZWxsL0tleWJvYXJkU2hvcnRjdXRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJvb2tMYXlvdXQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xuICBjb25zdCBbc2hvcnRjdXRzT3Blbiwgc2V0U2hvcnRjdXRzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlU2hvcnRjdXRzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gaGFuZGxlVG9nZ2xlU2hvcnRjdXRzKCkge1xuICAgIHNldFNob3J0Y3V0c09wZW4oZnVuY3Rpb24gdG9nZ2xlKHByZXYpIHtcbiAgICAgIHJldHVybiAhcHJldjtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNsb3NlU2hvcnRjdXRzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gaGFuZGxlQ2xvc2VTaG9ydGN1dHMoKSB7XG4gICAgc2V0U2hvcnRjdXRzT3BlbihmYWxzZSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGhlaWdodDogXCIxMDB2aFwiIH19PlxuICAgICAgPFNoZWxsTGF5b3V0XG4gICAgICAgIGxlZnRDb250ZW50PXs8TGVmdFNpZGViYXIgLz59XG4gICAgICAgIHJpZ2h0Q29udGVudD17PFJpZ2h0UGFuZWwgLz59XG4gICAgICAgIG9uVG9nZ2xlU2hvcnRjdXRzPXtoYW5kbGVUb2dnbGVTaG9ydGN1dHN9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2hlbGxMYXlvdXQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoZWxsLXN0YXR1cy1iYXJcIj5cbiAgICAgICAgPFN0YXR1c0JhciAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8S2V5Ym9hcmRTaG9ydGN1dHMgb3Blbj17c2hvcnRjdXRzT3Blbn0gb25DbG9zZT17aGFuZGxlQ2xvc2VTaG9ydGN1dHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlNoZWxsTGF5b3V0IiwiTGVmdFNpZGViYXIiLCJTdGF0dXNCYXIiLCJSaWdodFBhbmVsIiwiS2V5Ym9hcmRTaG9ydGN1dHMiLCJCb29rTGF5b3V0IiwiY2hpbGRyZW4iLCJzaG9ydGN1dHNPcGVuIiwic2V0U2hvcnRjdXRzT3BlbiIsImhhbmRsZVRvZ2dsZVNob3J0Y3V0cyIsInRvZ2dsZSIsInByZXYiLCJoYW5kbGVDbG9zZVNob3J0Y3V0cyIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJoZWlnaHQiLCJsZWZ0Q29udGVudCIsInJpZ2h0Q29udGVudCIsIm9uVG9nZ2xlU2hvcnRjdXRzIiwiY2xhc3NOYW1lIiwib3BlbiIsIm9uQ2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/book/layout.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/ContinueWriting.tsx":
/*!***********************************************!*\
  !*** ./components/editor/ContinueWriting.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContinueWriting)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction ContinueWriting({ precedingText, onAccept, onReject }) {\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const preferences = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectPrefs(s) {\n        return s.preferences;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function generate() {\n        if (!preferences.keysStored) {\n            setError(\"No API key configured\");\n            setLoading(false);\n            return;\n        }\n        let cancelled = false;\n        async function run() {\n            try {\n                const res = await fetch(\"/api/ai/generate\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        text: precedingText,\n                        mode: \"continue\",\n                        model: preferences.defaultModel\n                    })\n                });\n                if (!res.ok) throw new Error(\"API error: \" + res.status);\n                const data = await res.json();\n                if (cancelled) return;\n                setResult(data.result || \"\");\n                setLoading(false);\n            } catch (err) {\n                if (cancelled) return;\n                setError(err instanceof Error ? err.message : \"Failed to continue\");\n                setLoading(false);\n            }\n        }\n        run();\n        return function cleanup() {\n            cancelled = true;\n        };\n    }, [\n        precedingText,\n        preferences.keysStored,\n        preferences.defaultModel\n    ]);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleKey(e) {\n        if (loading) return;\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            if (result) onAccept(result);\n        }\n        if (e.key === \"Escape\") {\n            e.preventDefault();\n            onReject();\n        }\n    }, [\n        loading,\n        result,\n        onAccept,\n        onReject\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function registerKeys() {\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        handleKeyDown\n    ]);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                gap: 6,\n                padding: \"4px 8px\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 13,\n                color: \"var(--color-text-muted)\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                    children: `\n          @keyframes continueDots {\n            0%, 20% { opacity: 0.2; }\n            50% { opacity: 1; }\n            80%, 100% { opacity: 0.2; }\n          }\n        `\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                    lineNumber: 98,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"Continuing your story\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        display: \"inline-flex\",\n                        gap: 2\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                animation: \"continueDots 1.4s infinite\",\n                                animationDelay: \"0s\"\n                            },\n                            children: \".\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                animation: \"continueDots 1.4s infinite\",\n                                animationDelay: \"0.2s\"\n                            },\n                            children: \".\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                animation: \"continueDots 1.4s infinite\",\n                                animationDelay: \"0.4s\"\n                            },\n                            children: \".\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                            lineNumber: 109,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                    lineNumber: 106,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n            lineNumber: 87,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                gap: 8,\n                padding: \"4px 8px\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 13\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"var(--color-error)\"\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: onReject,\n                    style: {\n                        padding: \"2px 8px\",\n                        fontSize: 12,\n                        fontFamily: \"inherit\",\n                        border: \"1px solid var(--color-border)\",\n                        borderRadius: 4,\n                        backgroundColor: \"transparent\",\n                        color: \"var(--color-text-muted)\",\n                        cursor: \"pointer\"\n                    },\n                    children: \"Dismiss\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                    lineNumber: 128,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n            lineNumber: 117,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline\",\n            fontFamily: \"var(--font-literata), serif\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-success) 15%, transparent)\",\n                    color: \"var(--color-text)\",\n                    padding: \"1px 2px\",\n                    borderRadius: 2,\n                    borderLeft: \"2px solid var(--color-success)\"\n                },\n                children: result\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                lineNumber: 154,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    display: \"inline-flex\",\n                    gap: 2,\n                    marginLeft: 6,\n                    verticalAlign: \"middle\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function accept() {\n                            onAccept(result);\n                        },\n                        title: \"Accept (Enter)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 22,\n                            height: 22,\n                            padding: 0,\n                            background: \"none\",\n                            border: \"1px solid var(--color-success)\",\n                            borderRadius: 4,\n                            color: \"var(--color-success)\",\n                            cursor: \"pointer\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            size: 13\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                            lineNumber: 192,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onReject,\n                        title: \"Reject (Esc)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 22,\n                            height: 22,\n                            padding: 0,\n                            background: \"none\",\n                            border: \"1px solid var(--color-error)\",\n                            borderRadius: 4,\n                            color: \"var(--color-error)\",\n                            cursor: \"pointer\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            size: 13\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n                lineNumber: 165,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/ContinueWriting.tsx\",\n        lineNumber: 148,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9Db250aW51ZVdyaXRpbmcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUV5RDtBQUNqQjtBQUNGO0FBUXZCLFNBQVNNLGdCQUFnQixFQUFFQyxhQUFhLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUF3QjtJQUNqRyxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1gsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDWSxRQUFRQyxVQUFVLEdBQUdiLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2MsT0FBT0MsU0FBUyxHQUFHZiwrQ0FBUUEsQ0FBZ0I7SUFFbEQsTUFBTWdCLGNBQWNYLG1EQUFXQSxDQUFDLFNBQVNZLFlBQVlDLENBQUM7UUFDcEQsT0FBT0EsRUFBRUYsV0FBVztJQUN0QjtJQUVBZixnREFBU0EsQ0FBQyxTQUFTa0I7UUFDakIsSUFBSSxDQUFDSCxZQUFZSSxVQUFVLEVBQUU7WUFDM0JMLFNBQVM7WUFDVEosV0FBVztZQUNYO1FBQ0Y7UUFFQSxJQUFJVSxZQUFZO1FBRWhCLGVBQWVDO1lBQ2IsSUFBSTtnQkFDRixNQUFNQyxNQUFNLE1BQU1DLE1BQU0sb0JBQW9CO29CQUMxQ0MsUUFBUTtvQkFDUkMsU0FBUzt3QkFDUCxnQkFBZ0I7b0JBQ2xCO29CQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7d0JBQ25CQyxNQUFNdkI7d0JBQ053QixNQUFNO3dCQUNOQyxPQUFPaEIsWUFBWWlCLFlBQVk7b0JBQ2pDO2dCQUNGO2dCQUVBLElBQUksQ0FBQ1YsSUFBSVcsRUFBRSxFQUFFLE1BQU0sSUFBSUMsTUFBTSxnQkFBZ0JaLElBQUlhLE1BQU07Z0JBRXZELE1BQU1DLE9BQU8sTUFBTWQsSUFBSWUsSUFBSTtnQkFDM0IsSUFBSWpCLFdBQVc7Z0JBRWZSLFVBQVV3QixLQUFLekIsTUFBTSxJQUFJO2dCQUN6QkQsV0FBVztZQUNiLEVBQUUsT0FBTzRCLEtBQWM7Z0JBQ3JCLElBQUlsQixXQUFXO2dCQUNm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QixTQUFTOzRCQUNUcUIsWUFBWTs0QkFDWlosUUFBUTs0QkFDUkMsY0FBYzs0QkFDZFAsT0FBTzs0QkFDUFMsUUFBUTt3QkFDVjtrQ0FFQSw0RUFBQ2xFLG1GQUFLQTs0QkFBQzRFLE1BQU07Ozs7Ozs7Ozs7O2tDQUVmLDhEQUFDZjt3QkFDQ0MsU0FBU3hEO3dCQUNUaUUsT0FBTTt3QkFDTnJCLE9BQU87NEJBQ0xDLFNBQVM7NEJBQ1RDLFlBQVk7NEJBQ1pvQixnQkFBZ0I7NEJBQ2hCQyxPQUFPOzRCQUNQQyxRQUFROzRCQUNScEIsU0FBUzs0QkFDVHFCLFlBQVk7NEJBQ1paLFFBQVE7NEJBQ1JDLGNBQWM7NEJBQ2RQLE9BQU87NEJBQ1BTLFFBQVE7d0JBQ1Y7a0NBRUEsNEVBQUNqRSxtRkFBQ0E7NEJBQUMyRSxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL0NvbnRpbnVlV3JpdGluZy50c3g/OWY4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoZWNrLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuXG5pbnRlcmZhY2UgQ29udGludWVXcml0aW5nUHJvcHMge1xuICBwcmVjZWRpbmdUZXh0OiBzdHJpbmc7XG4gIG9uQWNjZXB0OiAobmV3VGV4dDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblJlamVjdDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGludWVXcml0aW5nKHsgcHJlY2VkaW5nVGV4dCwgb25BY2NlcHQsIG9uUmVqZWN0IH06IENvbnRpbnVlV3JpdGluZ1Byb3BzKSB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgcHJlZmVyZW5jZXMgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RQcmVmcyhzKSB7XG4gICAgcmV0dXJuIHMucHJlZmVyZW5jZXM7XG4gIH0pO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBnZW5lcmF0ZSgpIHtcbiAgICBpZiAoIXByZWZlcmVuY2VzLmtleXNTdG9yZWQpIHtcbiAgICAgIHNldEVycm9yKFwiTm8gQVBJIGtleSBjb25maWd1cmVkXCIpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gcnVuKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2FpL2dlbmVyYXRlXCIsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdGV4dDogcHJlY2VkaW5nVGV4dCxcbiAgICAgICAgICAgIG1vZGU6IFwiY29udGludWVcIixcbiAgICAgICAgICAgIG1vZGVsOiBwcmVmZXJlbmNlcy5kZWZhdWx0TW9kZWwsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJBUEkgZXJyb3I6IFwiICsgcmVzLnN0YXR1cyk7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHJldHVybjtcblxuICAgICAgICBzZXRSZXN1bHQoZGF0YS5yZXN1bHQgfHwgXCJcIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHJldHVybjtcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGNvbnRpbnVlXCIpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBydW4oKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbcHJlY2VkaW5nVGV4dCwgcHJlZmVyZW5jZXMua2V5c1N0b3JlZCwgcHJlZmVyZW5jZXMuZGVmYXVsdE1vZGVsXSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGhhbmRsZUtleShlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGxvYWRpbmcpIHJldHVybjtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHJlc3VsdCkgb25BY2NlcHQocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvblJlamVjdCgpO1xuICAgIH1cbiAgfSwgW2xvYWRpbmcsIHJlc3VsdCwgb25BY2NlcHQsIG9uUmVqZWN0XSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHJlZ2lzdGVyS2V5cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgfTtcbiAgfSwgW2hhbmRsZUtleURvd25dKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgZ2FwOiA2LFxuICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDhweFwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3R5bGU+e2BcbiAgICAgICAgICBAa2V5ZnJhbWVzIGNvbnRpbnVlRG90cyB7XG4gICAgICAgICAgICAwJSwgMjAlIHsgb3BhY2l0eTogMC4yOyB9XG4gICAgICAgICAgICA1MCUgeyBvcGFjaXR5OiAxOyB9XG4gICAgICAgICAgICA4MCUsIDEwMCUgeyBvcGFjaXR5OiAwLjI7IH1cbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPHNwYW4+Q29udGludWluZyB5b3VyIHN0b3J5PC9zcGFuPlxuICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsIGdhcDogMiB9fT5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBhbmltYXRpb246IFwiY29udGludWVEb3RzIDEuNHMgaW5maW5pdGVcIiwgYW5pbWF0aW9uRGVsYXk6IFwiMHNcIiB9fT4uPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGFuaW1hdGlvbjogXCJjb250aW51ZURvdHMgMS40cyBpbmZpbml0ZVwiLCBhbmltYXRpb25EZWxheTogXCIwLjJzXCIgfX0+Ljwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBhbmltYXRpb246IFwiY29udGludWVEb3RzIDEuNHMgaW5maW5pdGVcIiwgYW5pbWF0aW9uRGVsYXk6IFwiMC40c1wiIH19Pi48L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiIH19PntlcnJvcn08L3NwYW4+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvblJlamVjdH1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogXCIycHggOHB4XCIsXG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgRGlzbWlzc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImlubGluZVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtbGl0ZXJhdGEpLCBzZXJpZlwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8c3BhblxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tY29sb3Itc3VjY2VzcykgMTUlLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiMXB4IDJweFwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgICBib3JkZXJMZWZ0OiBcIjJweCBzb2xpZCB2YXIoLS1jb2xvci1zdWNjZXNzKVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7cmVzdWx0fVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW5cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgZ2FwOiAyLFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IDYsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGFjY2VwdCgpIHtcbiAgICAgICAgICAgIG9uQWNjZXB0KHJlc3VsdCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICB0aXRsZT1cIkFjY2VwdCAoRW50ZXIpXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgd2lkdGg6IDIyLFxuICAgICAgICAgICAgaGVpZ2h0OiAyMixcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3Itc3VjY2VzcylcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hlY2sgc2l6ZT17MTN9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25SZWplY3R9XG4gICAgICAgICAgdGl0bGU9XCJSZWplY3QgKEVzYylcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjIsXG4gICAgICAgICAgICBoZWlnaHQ6IDIyLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiLFxuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPFggc2l6ZT17MTN9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQ2hlY2siLCJYIiwidXNlQXBwU3RvcmUiLCJDb250aW51ZVdyaXRpbmciLCJwcmVjZWRpbmdUZXh0Iiwib25BY2NlcHQiLCJvblJlamVjdCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwicmVzdWx0Iiwic2V0UmVzdWx0IiwiZXJyb3IiLCJzZXRFcnJvciIsInByZWZlcmVuY2VzIiwic2VsZWN0UHJlZnMiLCJzIiwiZ2VuZXJhdGUiLCJrZXlzU3RvcmVkIiwiY2FuY2VsbGVkIiwicnVuIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0ZXh0IiwibW9kZSIsIm1vZGVsIiwiZGVmYXVsdE1vZGVsIiwib2siLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiZXJyIiwibWVzc2FnZSIsImNsZWFudXAiLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlS2V5IiwiZSIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJyZWdpc3RlcktleXMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJwYWRkaW5nIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJzcGFuIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJidXR0b24iLCJvbkNsaWNrIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwiY3Vyc29yIiwiYm9yZGVyTGVmdCIsIm1hcmdpbkxlZnQiLCJ2ZXJ0aWNhbEFsaWduIiwiYWNjZXB0IiwidGl0bGUiLCJqdXN0aWZ5Q29udGVudCIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZCIsInNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/ContinueWriting.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/DiffView.tsx":
/*!****************************************!*\
  !*** ./components/editor/DiffView.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DiffView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Check,CheckCheck,X,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,CheckCheck,X,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,CheckCheck,X,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,CheckCheck,X,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _lib_diff__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/diff */ \"(ssr)/./lib/diff.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction groupChanges(changes) {\n    const groups = [];\n    let currentOriginal = [];\n    let currentRevised = [];\n    let currentIndices = [];\n    let hasChange = false;\n    for(let i = 0; i < changes.length; i++){\n        const change = changes[i];\n        if (change.type === \"equal\") {\n            if (hasChange) {\n                groups.push({\n                    original: currentOriginal,\n                    revised: currentRevised,\n                    changeIndices: currentIndices\n                });\n                currentOriginal = [];\n                currentRevised = [];\n                currentIndices = [];\n                hasChange = false;\n            }\n            currentOriginal.push(change);\n            currentRevised.push(change);\n        } else if (change.type === \"remove\") {\n            currentOriginal.push(change);\n            currentIndices.push(i);\n            hasChange = true;\n        } else if (change.type === \"add\") {\n            currentRevised.push(change);\n            currentIndices.push(i);\n            hasChange = true;\n        }\n    }\n    if (currentOriginal.length > 0 || currentRevised.length > 0) {\n        groups.push({\n            original: currentOriginal,\n            revised: currentRevised,\n            changeIndices: currentIndices\n        });\n    }\n    return groups;\n}\nfunction DiffView({ originalText, revisedText, onAcceptAll, onRejectAll, onAcceptChange, onRejectChange }) {\n    const leftRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rightRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const changes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function computeChanges() {\n        return (0,_lib_diff__WEBPACK_IMPORTED_MODULE_2__.computeDiff)(originalText, revisedText);\n    }, [\n        originalText,\n        revisedText\n    ]);\n    const groups = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function computeGroups() {\n        return groupChanges(changes);\n    }, [\n        changes\n    ]);\n    const handleLeftScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleLeftScroll() {\n        if (scrollingRef.current) return;\n        scrollingRef.current = true;\n        if (leftRef.current && rightRef.current) {\n            rightRef.current.scrollTop = leftRef.current.scrollTop;\n        }\n        requestAnimationFrame(function resetFlag() {\n            scrollingRef.current = false;\n        });\n    }, []);\n    const handleRightScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleRightScroll() {\n        if (scrollingRef.current) return;\n        scrollingRef.current = true;\n        if (leftRef.current && rightRef.current) {\n            leftRef.current.scrollTop = rightRef.current.scrollTop;\n        }\n        requestAnimationFrame(function resetFlag() {\n            scrollingRef.current = false;\n        });\n    }, []);\n    function renderSpan(change) {\n        if (change.type === \"remove\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-error) 15%, transparent)\",\n                    textDecoration: \"line-through\",\n                    textDecorationColor: \"var(--color-error)\"\n                },\n                children: change.value\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                lineNumber: 107,\n                columnNumber: 9\n            }, this);\n        }\n        if (change.type === \"add\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-success) 15%, transparent)\"\n                },\n                children: change.value\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                lineNumber: 120,\n                columnNumber: 9\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            children: change.value\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n            lineNumber: 129,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"flex-end\",\n                    gap: 8,\n                    padding: \"8px 12px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onAcceptAll,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            padding: \"4px 10px\",\n                            fontSize: 12,\n                            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                            border: \"1px solid var(--color-success)\",\n                            borderRadius: 5,\n                            backgroundColor: \"transparent\",\n                            color: \"var(--color-success)\",\n                            cursor: \"pointer\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                lineNumber: 168,\n                                columnNumber: 11\n                            }, this),\n                            \"Accept All\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                        lineNumber: 152,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onRejectAll,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            padding: \"4px 10px\",\n                            fontSize: 12,\n                            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                            border: \"1px solid var(--color-error)\",\n                            borderRadius: 5,\n                            backgroundColor: \"transparent\",\n                            color: \"var(--color-error)\",\n                            cursor: \"pointer\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, this),\n                            \"Reject All\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                        lineNumber: 171,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                lineNumber: 141,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    display: \"flex\",\n                    minHeight: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: leftRef,\n                        onScroll: handleLeftScroll,\n                        style: {\n                            flex: 1,\n                            overflowY: \"auto\",\n                            padding: 16,\n                            borderRight: \"1px solid var(--color-border)\",\n                            fontFamily: \"var(--font-literata), serif\",\n                            fontSize: 14,\n                            lineHeight: 1.7,\n                            whiteSpace: \"pre-wrap\",\n                            wordBreak: \"break-word\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 10,\n                                    textTransform: \"uppercase\",\n                                    letterSpacing: 1,\n                                    color: \"var(--color-text-muted)\",\n                                    marginBottom: 12,\n                                    fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n                                },\n                                children: \"Original\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                lineNumber: 208,\n                                columnNumber: 11\n                            }, this),\n                            groups.map(function renderLeftGroup(group, gi) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: group.original.map(function renderLeftChange(change, ci) {\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: renderSpan(change)\n                                        }, ci, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                            lineNumber: 215,\n                                            columnNumber: 26\n                                        }, this);\n                                    })\n                                }, gi, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                        lineNumber: 193,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"flex-start\",\n                            padding: \"40px 4px 4px\",\n                            gap: 8,\n                            flexShrink: 0\n                        },\n                        children: groups.map(function renderActions(group, gi) {\n                            if (group.changeIndices.length === 0) return null;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    gap: 2\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function accept() {\n                                            for (const idx of group.changeIndices){\n                                                onAcceptChange(idx);\n                                            }\n                                        },\n                                        title: \"Accept\",\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            justifyContent: \"center\",\n                                            width: 22,\n                                            height: 22,\n                                            padding: 0,\n                                            background: \"none\",\n                                            border: \"1px solid var(--color-success)\",\n                                            borderRadius: 4,\n                                            color: \"var(--color-success)\",\n                                            cursor: \"pointer\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                            lineNumber: 258,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function reject() {\n                                            for (const idx of group.changeIndices){\n                                                onRejectChange(idx);\n                                            }\n                                        },\n                                        title: \"Reject\",\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            justifyContent: \"center\",\n                                            width: 22,\n                                            height: 22,\n                                            padding: 0,\n                                            background: \"none\",\n                                            border: \"1px solid var(--color-error)\",\n                                            borderRadius: 4,\n                                            color: \"var(--color-error)\",\n                                            cursor: \"pointer\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_CheckCheck_X_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                            lineNumber: 281,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, gi, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: rightRef,\n                        onScroll: handleRightScroll,\n                        style: {\n                            flex: 1,\n                            overflowY: \"auto\",\n                            padding: 16,\n                            fontFamily: \"var(--font-literata), serif\",\n                            fontSize: 14,\n                            lineHeight: 1.7,\n                            whiteSpace: \"pre-wrap\",\n                            wordBreak: \"break-word\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 10,\n                                    textTransform: \"uppercase\",\n                                    letterSpacing: 1,\n                                    color: \"var(--color-text-muted)\",\n                                    marginBottom: 12,\n                                    fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n                                },\n                                children: \"Revised\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                lineNumber: 302,\n                                columnNumber: 11\n                            }, this),\n                            groups.map(function renderRightGroup(group, gi) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: group.revised.map(function renderRightChange(change, ci) {\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: renderSpan(change)\n                                        }, ci, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                            lineNumber: 309,\n                                            columnNumber: 26\n                                        }, this);\n                                    })\n                                }, gi, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                                    lineNumber: 307,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                        lineNumber: 288,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n                lineNumber: 192,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/DiffView.tsx\",\n        lineNumber: 133,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxZQUFZOzRCQUNaQyxXQUFXO3dCQUNiOzswQ0FFQSw4REFBQzNCO2dDQUFJTCxPQUFPO29DQUFFa0IsVUFBVTtvQ0FBSWUsZUFBZTtvQ0FBYUMsZUFBZTtvQ0FBR2IsT0FBTztvQ0FBMkJjLGNBQWM7b0NBQUkxQixZQUFZO2dDQUEyQzswQ0FBRzs7Ozs7OzRCQUd2TDFDLE9BQU9xRSxHQUFHLENBQUMsU0FBU2EsaUJBQWlCWCxLQUFLLEVBQUVDLEVBQUU7Z0NBQzdDLHFCQUNFLDhEQUFDeEM7OENBQ0V1QyxNQUFNNUQsT0FBTyxDQUFDMEQsR0FBRyxDQUFDLFNBQVNjLGtCQUFrQjVFLE1BQU0sRUFBRW1FLEVBQUU7d0NBQ3RELHFCQUFPLDhEQUFDMUM7c0RBQWVELFdBQVd4QjsyQ0FBaEJtRTs7Ozs7b0NBQ3BCO21DQUhTRjs7Ozs7NEJBTWY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLViIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL0RpZmZWaWV3LnRzeD8zY2Y5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaGVjaywgWCwgQ2hlY2tDaGVjaywgWENpcmNsZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IGNvbXB1dGVEaWZmIH0gZnJvbSBcIkAvbGliL2RpZmZcIjtcbmltcG9ydCB0eXBlIHsgRGlmZkNoYW5nZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5cbmludGVyZmFjZSBEaWZmVmlld1Byb3BzIHtcbiAgb3JpZ2luYWxUZXh0OiBzdHJpbmc7XG4gIHJldmlzZWRUZXh0OiBzdHJpbmc7XG4gIG9uQWNjZXB0QWxsOiAoKSA9PiB2b2lkO1xuICBvblJlamVjdEFsbDogKCkgPT4gdm9pZDtcbiAgb25BY2NlcHRDaGFuZ2U6IChpbmRleDogbnVtYmVyKSA9PiB2b2lkO1xuICBvblJlamVjdENoYW5nZTogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQ2hhbmdlcyhjaGFuZ2VzOiBEaWZmQ2hhbmdlW10pOiB7IG9yaWdpbmFsOiBEaWZmQ2hhbmdlW107IHJldmlzZWQ6IERpZmZDaGFuZ2VbXTsgY2hhbmdlSW5kaWNlczogbnVtYmVyW10gfVtdIHtcbiAgY29uc3QgZ3JvdXBzOiB7IG9yaWdpbmFsOiBEaWZmQ2hhbmdlW107IHJldmlzZWQ6IERpZmZDaGFuZ2VbXTsgY2hhbmdlSW5kaWNlczogbnVtYmVyW10gfVtdID0gW107XG4gIGxldCBjdXJyZW50T3JpZ2luYWw6IERpZmZDaGFuZ2VbXSA9IFtdO1xuICBsZXQgY3VycmVudFJldmlzZWQ6IERpZmZDaGFuZ2VbXSA9IFtdO1xuICBsZXQgY3VycmVudEluZGljZXM6IG51bWJlcltdID0gW107XG4gIGxldCBoYXNDaGFuZ2UgPSBmYWxzZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJlcXVhbFwiKSB7XG4gICAgICBpZiAoaGFzQ2hhbmdlKSB7XG4gICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICBvcmlnaW5hbDogY3VycmVudE9yaWdpbmFsLFxuICAgICAgICAgIHJldmlzZWQ6IGN1cnJlbnRSZXZpc2VkLFxuICAgICAgICAgIGNoYW5nZUluZGljZXM6IGN1cnJlbnRJbmRpY2VzLFxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudE9yaWdpbmFsID0gW107XG4gICAgICAgIGN1cnJlbnRSZXZpc2VkID0gW107XG4gICAgICAgIGN1cnJlbnRJbmRpY2VzID0gW107XG4gICAgICAgIGhhc0NoYW5nZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY3VycmVudE9yaWdpbmFsLnB1c2goY2hhbmdlKTtcbiAgICAgIGN1cnJlbnRSZXZpc2VkLnB1c2goY2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZS50eXBlID09PSBcInJlbW92ZVwiKSB7XG4gICAgICBjdXJyZW50T3JpZ2luYWwucHVzaChjaGFuZ2UpO1xuICAgICAgY3VycmVudEluZGljZXMucHVzaChpKTtcbiAgICAgIGhhc0NoYW5nZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJhZGRcIikge1xuICAgICAgY3VycmVudFJldmlzZWQucHVzaChjaGFuZ2UpO1xuICAgICAgY3VycmVudEluZGljZXMucHVzaChpKTtcbiAgICAgIGhhc0NoYW5nZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGN1cnJlbnRPcmlnaW5hbC5sZW5ndGggPiAwIHx8IGN1cnJlbnRSZXZpc2VkLmxlbmd0aCA+IDApIHtcbiAgICBncm91cHMucHVzaCh7XG4gICAgICBvcmlnaW5hbDogY3VycmVudE9yaWdpbmFsLFxuICAgICAgcmV2aXNlZDogY3VycmVudFJldmlzZWQsXG4gICAgICBjaGFuZ2VJbmRpY2VzOiBjdXJyZW50SW5kaWNlcyxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBncm91cHM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpZmZWaWV3KHtcbiAgb3JpZ2luYWxUZXh0LFxuICByZXZpc2VkVGV4dCxcbiAgb25BY2NlcHRBbGwsXG4gIG9uUmVqZWN0QWxsLFxuICBvbkFjY2VwdENoYW5nZSxcbiAgb25SZWplY3RDaGFuZ2UsXG59OiBEaWZmVmlld1Byb3BzKSB7XG4gIGNvbnN0IGxlZnRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCByaWdodFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNjcm9sbGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG5cbiAgY29uc3QgY2hhbmdlcyA9IHVzZU1lbW8oZnVuY3Rpb24gY29tcHV0ZUNoYW5nZXMoKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVEaWZmKG9yaWdpbmFsVGV4dCwgcmV2aXNlZFRleHQpO1xuICB9LCBbb3JpZ2luYWxUZXh0LCByZXZpc2VkVGV4dF0pO1xuXG4gIGNvbnN0IGdyb3VwcyA9IHVzZU1lbW8oZnVuY3Rpb24gY29tcHV0ZUdyb3VwcygpIHtcbiAgICByZXR1cm4gZ3JvdXBDaGFuZ2VzKGNoYW5nZXMpO1xuICB9LCBbY2hhbmdlc10pO1xuXG4gIGNvbnN0IGhhbmRsZUxlZnRTY3JvbGwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBoYW5kbGVMZWZ0U2Nyb2xsKCkge1xuICAgIGlmIChzY3JvbGxpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIHNjcm9sbGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAobGVmdFJlZi5jdXJyZW50ICYmIHJpZ2h0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHJpZ2h0UmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gbGVmdFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHJlc2V0RmxhZygpIHtcbiAgICAgIHNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVSaWdodFNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGhhbmRsZVJpZ2h0U2Nyb2xsKCkge1xuICAgIGlmIChzY3JvbGxpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIHNjcm9sbGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAobGVmdFJlZi5jdXJyZW50ICYmIHJpZ2h0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGxlZnRSZWYuY3VycmVudC5zY3JvbGxUb3AgPSByaWdodFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHJlc2V0RmxhZygpIHtcbiAgICAgIHNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBmdW5jdGlvbiByZW5kZXJTcGFuKGNoYW5nZTogRGlmZkNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImNvbG9yLW1peChpbiBzcmdiLCB2YXIoLS1jb2xvci1lcnJvcikgMTUlLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBcImxpbmUtdGhyb3VnaFwiLFxuICAgICAgICAgICAgdGV4dERlY29yYXRpb25Db2xvcjogXCJ2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2NoYW5nZS52YWx1ZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZS50eXBlID09PSBcImFkZFwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhblxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLXN1Y2Nlc3MpIDE1JSwgdHJhbnNwYXJlbnQpXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtjaGFuZ2UudmFsdWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiA8c3Bhbj57Y2hhbmdlLnZhbHVlfTwvc3Bhbj47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgcGFkZGluZzogXCI4cHggMTJweFwiLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkFjY2VwdEFsbH1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgcGFkZGluZzogXCI0cHggMTBweFwiLFxuICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hlY2tDaGVjayBzaXplPXsxM30gLz5cbiAgICAgICAgICBBY2NlcHQgQWxsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25SZWplY3RBbGx9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDEwcHhcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItZXJyb3IpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8WENpcmNsZSBzaXplPXsxM30gLz5cbiAgICAgICAgICBSZWplY3QgQWxsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgZGlzcGxheTogXCJmbGV4XCIsIG1pbkhlaWdodDogMCB9fT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17bGVmdFJlZn1cbiAgICAgICAgICBvblNjcm9sbD17aGFuZGxlTGVmdFNjcm9sbH1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiAxNixcbiAgICAgICAgICAgIGJvcmRlclJpZ2h0OiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtbGl0ZXJhdGEpLCBzZXJpZlwiLFxuICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgbGluZUhlaWdodDogMS43LFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtd3JhcFwiLFxuICAgICAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTAsIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsIGxldHRlclNwYWNpbmc6IDEsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsIG1hcmdpbkJvdHRvbTogMTIsIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiIH19PlxuICAgICAgICAgICAgT3JpZ2luYWxcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Z3JvdXBzLm1hcChmdW5jdGlvbiByZW5kZXJMZWZ0R3JvdXAoZ3JvdXAsIGdpKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8c3BhbiBrZXk9e2dpfT5cbiAgICAgICAgICAgICAgICB7Z3JvdXAub3JpZ2luYWwubWFwKGZ1bmN0aW9uIHJlbmRlckxlZnRDaGFuZ2UoY2hhbmdlLCBjaSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGtleT17Y2l9PntyZW5kZXJTcGFuKGNoYW5nZSl9PC9zcGFuPjtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1zdGFydFwiLFxuICAgICAgICAgICAgcGFkZGluZzogXCI0MHB4IDRweCA0cHhcIixcbiAgICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtncm91cHMubWFwKGZ1bmN0aW9uIHJlbmRlckFjdGlvbnMoZ3JvdXAsIGdpKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAuY2hhbmdlSW5kaWNlcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2dpfSBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiAyIH19PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGFjY2VwdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZHggb2YgZ3JvdXAuY2hhbmdlSW5kaWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQWNjZXB0Q2hhbmdlKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFjY2VwdFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3Itc3VjY2VzcylcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1zdWNjZXNzKVwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8Q2hlY2sgc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkeCBvZiBncm91cC5jaGFuZ2VJbmRpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb25SZWplY3RDaGFuZ2UoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVqZWN0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIyLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIyLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFggc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17cmlnaHRSZWZ9XG4gICAgICAgICAgb25TY3JvbGw9e2hhbmRsZVJpZ2h0U2Nyb2xsfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2LFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWxpdGVyYXRhKSwgc2VyaWZcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNyxcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlLXdyYXBcIixcbiAgICAgICAgICAgIHdvcmRCcmVhazogXCJicmVhay13b3JkXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IDEwLCB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLCBsZXR0ZXJTcGFjaW5nOiAxLCBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLCBtYXJnaW5Cb3R0b206IDEyLCBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIiB9fT5cbiAgICAgICAgICAgIFJldmlzZWRcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Z3JvdXBzLm1hcChmdW5jdGlvbiByZW5kZXJSaWdodEdyb3VwKGdyb3VwLCBnaSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPHNwYW4ga2V5PXtnaX0+XG4gICAgICAgICAgICAgICAge2dyb3VwLnJldmlzZWQubWFwKGZ1bmN0aW9uIHJlbmRlclJpZ2h0Q2hhbmdlKGNoYW5nZSwgY2kpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8c3BhbiBrZXk9e2NpfT57cmVuZGVyU3BhbihjaGFuZ2UpfTwvc3Bhbj47XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwiQ2hlY2siLCJYIiwiQ2hlY2tDaGVjayIsIlhDaXJjbGUiLCJjb21wdXRlRGlmZiIsImdyb3VwQ2hhbmdlcyIsImNoYW5nZXMiLCJncm91cHMiLCJjdXJyZW50T3JpZ2luYWwiLCJjdXJyZW50UmV2aXNlZCIsImN1cnJlbnRJbmRpY2VzIiwiaGFzQ2hhbmdlIiwiaSIsImxlbmd0aCIsImNoYW5nZSIsInR5cGUiLCJwdXNoIiwib3JpZ2luYWwiLCJyZXZpc2VkIiwiY2hhbmdlSW5kaWNlcyIsIkRpZmZWaWV3Iiwib3JpZ2luYWxUZXh0IiwicmV2aXNlZFRleHQiLCJvbkFjY2VwdEFsbCIsIm9uUmVqZWN0QWxsIiwib25BY2NlcHRDaGFuZ2UiLCJvblJlamVjdENoYW5nZSIsImxlZnRSZWYiLCJyaWdodFJlZiIsInNjcm9sbGluZ1JlZiIsImNvbXB1dGVDaGFuZ2VzIiwiY29tcHV0ZUdyb3VwcyIsImhhbmRsZUxlZnRTY3JvbGwiLCJjdXJyZW50Iiwic2Nyb2xsVG9wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVzZXRGbGFnIiwiaGFuZGxlUmlnaHRTY3JvbGwiLCJyZW5kZXJTcGFuIiwic3BhbiIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwidGV4dERlY29yYXRpb24iLCJ0ZXh0RGVjb3JhdGlvbkNvbG9yIiwidmFsdWUiLCJkaXYiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImhlaWdodCIsImZvbnRGYW1pbHkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJnYXAiLCJwYWRkaW5nIiwiYm9yZGVyQm90dG9tIiwiZmxleFNocmluayIsImJ1dHRvbiIsIm9uQ2xpY2siLCJmb250U2l6ZSIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImNvbG9yIiwiY3Vyc29yIiwic2l6ZSIsImZsZXgiLCJtaW5IZWlnaHQiLCJyZWYiLCJvblNjcm9sbCIsIm92ZXJmbG93WSIsImJvcmRlclJpZ2h0IiwibGluZUhlaWdodCIsIndoaXRlU3BhY2UiLCJ3b3JkQnJlYWsiLCJ0ZXh0VHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsIm1hcmdpbkJvdHRvbSIsIm1hcCIsInJlbmRlckxlZnRHcm91cCIsImdyb3VwIiwiZ2kiLCJyZW5kZXJMZWZ0Q2hhbmdlIiwiY2kiLCJyZW5kZXJBY3Rpb25zIiwiYWNjZXB0IiwiaWR4IiwidGl0bGUiLCJ3aWR0aCIsImJhY2tncm91bmQiLCJyZWplY3QiLCJyZW5kZXJSaWdodEdyb3VwIiwicmVuZGVyUmlnaHRDaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/DiffView.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/EditorToolbar.tsx":
/*!*********************************************!*\
  !*** ./components/editor/EditorToolbar.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditorToolbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bold.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/italic.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/strikethrough.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-1.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-2.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-3.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/quote.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list-ordered.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/minus.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/code.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Code,Code2,Heading1,Heading2,Heading3,ImageIcon,Italic,List,ListOrdered,Minus,Quote,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/code-xml.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction ToolbarButton({ icon, isActive, onClick, title }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        title: title,\n        style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            width: 28,\n            height: 28,\n            borderRadius: 4,\n            border: \"none\",\n            cursor: \"pointer\",\n            backgroundColor: isActive ? \"var(--color-accent)\" : \"transparent\",\n            color: isActive ? \"#ffffff\" : \"var(--color-text-muted)\",\n            padding: 0,\n            transition: \"background-color 150ms ease\"\n        },\n        onMouseEnter: function handleEnter(e) {\n            if (!isActive) {\n                e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n            }\n        },\n        onMouseLeave: function handleLeave(e) {\n            if (!isActive) {\n                e.currentTarget.style.backgroundColor = \"transparent\";\n            }\n        },\n        children: icon\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n        lineNumber: 34,\n        columnNumber: 5\n    }, this);\n}\nfunction EditorToolbar({ editor }) {\n    const isMarkdownView = (0,_store__WEBPACK_IMPORTED_MODULE_1__.useAppStore)(function selectMarkdownView(s) {\n        return s.editor.isMarkdownView;\n    });\n    const toggleMarkdownView = (0,_store__WEBPACK_IMPORTED_MODULE_1__.useAppStore)(function selectToggleMd(s) {\n        return s.toggleMarkdownView;\n    });\n    function handleImage() {\n        if (!editor) return;\n        const url = window.prompt(\"Image URL:\");\n        if (url) {\n            editor.chain().focus().setImage({\n                src: url\n            }).run();\n        }\n    }\n    if (!editor) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            gap: 2,\n            padding: \"4px 8px\",\n            backgroundColor: \"var(--color-surface)\",\n            borderBottom: \"1px solid var(--color-border)\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"bold\"),\n                onClick: function toggleBold() {\n                    editor.chain().focus().toggleBold().run();\n                },\n                title: \"Bold\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 100,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"italic\"),\n                onClick: function toggleItalic() {\n                    editor.chain().focus().toggleItalic().run();\n                },\n                title: \"Italic\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 108,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 117,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"strike\"),\n                onClick: function toggleStrike() {\n                    editor.chain().focus().toggleStrike().run();\n                },\n                title: \"Strikethrough\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 116,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: 1,\n                    height: 16,\n                    backgroundColor: \"var(--color-border)\",\n                    margin: \"0 4px\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 125,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"heading\", {\n                    level: 1\n                }),\n                onClick: function toggleH1() {\n                    editor.chain().focus().toggleHeading({\n                        level: 1\n                    }).run();\n                },\n                title: \"Heading 1\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 134,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 143,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"heading\", {\n                    level: 2\n                }),\n                onClick: function toggleH2() {\n                    editor.chain().focus().toggleHeading({\n                        level: 2\n                    }).run();\n                },\n                title: \"Heading 2\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 142,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 151,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"heading\", {\n                    level: 3\n                }),\n                onClick: function toggleH3() {\n                    editor.chain().focus().toggleHeading({\n                        level: 3\n                    }).run();\n                },\n                title: \"Heading 3\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 150,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    width: 1,\n                    height: 16,\n                    backgroundColor: \"var(--color-border)\",\n                    margin: \"0 4px\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 159,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 169,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"blockquote\"),\n                onClick: function toggleQuote() {\n                    editor.chain().focus().toggleBlockquote().run();\n                },\n                title: \"Quote\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 168,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 177,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"bulletList\"),\n                onClick: function toggleBullet() {\n                    editor.chain().focus().toggleBulletList().run();\n                },\n                title: \"Bullet List\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 176,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 185,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"orderedList\"),\n                onClick: function toggleOrdered() {\n                    editor.chain().focus().toggleOrderedList().run();\n                },\n                title: \"Ordered List\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 184,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 15\n                }, void 0),\n                isActive: false,\n                onClick: function insertHr() {\n                    editor.chain().focus().setHorizontalRule().run();\n                },\n                title: \"Horizontal Rule\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 192,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 201,\n                    columnNumber: 15\n                }, void 0),\n                isActive: editor.isActive(\"code\"),\n                onClick: function toggleCode() {\n                    editor.chain().focus().toggleCode().run();\n                },\n                title: \"Code\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 200,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 15\n                }, void 0),\n                isActive: false,\n                onClick: handleImage,\n                title: \"Image\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 208,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarButton, {\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Code_Code2_Heading1_Heading2_Heading3_ImageIcon_Italic_List_ListOrdered_Minus_Quote_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    size: 15\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                    lineNumber: 218,\n                    columnNumber: 15\n                }, void 0),\n                isActive: isMarkdownView,\n                onClick: toggleMarkdownView,\n                title: \"Markdown View\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n                lineNumber: 217,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/EditorToolbar.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9FZGl0b3JUb29sYmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHc0M7QUFlaEI7QUFhdEIsU0FBU2MsY0FBYyxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQXNCO0lBQzNFLHFCQUNFLDhEQUFDQztRQUNDRixTQUFTQTtRQUNUQyxPQUFPQTtRQUNQRSxPQUFPO1lBQ0xDLFNBQVM7WUFDVEMsWUFBWTtZQUNaQyxnQkFBZ0I7WUFDaEJDLE9BQU87WUFDUEMsUUFBUTtZQUNSQyxjQUFjO1lBQ2RDLFFBQVE7WUFDUkMsUUFBUTtZQUNSQyxpQkFBaUJiLFdBQVcsd0JBQXdCO1lBQ3BEYyxPQUFPZCxXQUFXLFlBQVk7WUFDOUJlLFNBQVM7WUFDVEMsWUFBWTtRQUNkO1FBQ0FDLGNBQWMsU0FBU0MsWUFBWUMsQ0FBQztZQUNsQyxJQUFJLENBQUNuQixVQUFVO2dCQUNibUIsRUFBRUMsYUFBYSxDQUFDaEIsS0FBSyxDQUFDUyxlQUFlLEdBQUc7WUFDMUM7UUFDRjtRQUNBUSxjQUFjLFNBQVNDLFlBQVlILENBQUM7WUFDbEMsSUFBSSxDQUFDbkIsVUFBVTtnQkFDYm1CLEVBQUVDLGFBQWEsQ0FBQ2hCLEtBQUssQ0FBQ1MsZUFBZSxHQUFHO1lBQzFDO1FBQ0Y7a0JBRUNkOzs7Ozs7QUFHUDtBQUVlLFNBQVN3QixjQUFjLEVBQUVDLE1BQU0sRUFBc0I7SUFDbEUsTUFBTUMsaUJBQWlCekMsbURBQVdBLENBQUMsU0FBUzBDLG1CQUFtQkMsQ0FBQztRQUM5RCxPQUFPQSxFQUFFSCxNQUFNLENBQUNDLGNBQWM7SUFDaEM7SUFDQSxNQUFNRyxxQkFBcUI1QyxtREFBV0EsQ0FBQyxTQUFTNkMsZUFBZUYsQ0FBQztRQUM5RCxPQUFPQSxFQUFFQyxrQkFBa0I7SUFDN0I7SUFFQSxTQUFTRTtRQUNQLElBQUksQ0FBQ04sUUFBUTtRQUNiLE1BQU1PLE1BQU1DLE9BQU9DLE1B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Q0NDLG9CQUFNLDhEQUFDSCxtTEFBU0E7b0JBQUNnRCxNQUFNOzs7Ozs7Z0JBQ3ZCNUMsVUFBVTtnQkFDVkMsU0FBUzZCO2dCQUNUNUIsT0FBTTs7Ozs7OzBCQUdSLDhEQUFDcUM7Z0JBQUluQyxPQUFPO29CQUFFMkQsTUFBTTtnQkFBRTs7Ozs7OzBCQUV0Qiw4REFBQ2pFO2dCQUNDQyxvQkFBTSw4REFBQ0YsbUxBQUtBO29CQUFDK0MsTUFBTTs7Ozs7O2dCQUNuQjVDLFVBQVV5QjtnQkFDVnhCLFNBQVMyQjtnQkFDVDFCLE9BQU07Ozs7Ozs7Ozs7OztBQUlkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vY29tcG9uZW50cy9lZGl0b3IvRWRpdG9yVG9vbGJhci50c3g/ZDhkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHR5cGUgeyBFZGl0b3IgfSBmcm9tIFwiQHRpcHRhcC9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHtcbiAgQm9sZCxcbiAgSXRhbGljLFxuICBTdHJpa2V0aHJvdWdoLFxuICBIZWFkaW5nMSxcbiAgSGVhZGluZzIsXG4gIEhlYWRpbmczLFxuICBRdW90ZSxcbiAgTGlzdCxcbiAgTGlzdE9yZGVyZWQsXG4gIE1pbnVzLFxuICBDb2RlLFxuICBJbWFnZUljb24sXG4gIENvZGUyLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmludGVyZmFjZSBFZGl0b3JUb29sYmFyUHJvcHMge1xuICBlZGl0b3I6IEVkaXRvciB8IG51bGw7XG59XG5cbmludGVyZmFjZSBUb29sYmFyQnV0dG9uUHJvcHMge1xuICBpY29uOiBSZWFjdC5SZWFjdE5vZGU7XG4gIGlzQWN0aXZlPzogYm9vbGVhbjtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbiAgdGl0bGU6IHN0cmluZztcbn1cblxuZnVuY3Rpb24gVG9vbGJhckJ1dHRvbih7IGljb24sIGlzQWN0aXZlLCBvbkNsaWNrLCB0aXRsZSB9OiBUb29sYmFyQnV0dG9uUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICB3aWR0aDogMjgsXG4gICAgICAgIGhlaWdodDogMjgsXG4gICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0FjdGl2ZSA/IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBjb2xvcjogaXNBY3RpdmUgPyBcIiNmZmZmZmZcIiA6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kLWNvbG9yIDE1MG1zIGVhc2VcIixcbiAgICAgIH19XG4gICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIGhhbmRsZUVudGVyKGUpIHtcbiAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIGhhbmRsZUxlYXZlKGUpIHtcbiAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgPlxuICAgICAge2ljb259XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVkaXRvclRvb2xiYXIoeyBlZGl0b3IgfTogRWRpdG9yVG9vbGJhclByb3BzKSB7XG4gIGNvbnN0IGlzTWFya2Rvd25WaWV3ID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0TWFya2Rvd25WaWV3KHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3IuaXNNYXJrZG93blZpZXc7XG4gIH0pO1xuICBjb25zdCB0b2dnbGVNYXJrZG93blZpZXcgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RUb2dnbGVNZChzKSB7XG4gICAgcmV0dXJuIHMudG9nZ2xlTWFya2Rvd25WaWV3O1xuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVJbWFnZSgpIHtcbiAgICBpZiAoIWVkaXRvcikgcmV0dXJuO1xuICAgIGNvbnN0IHVybCA9IHdpbmRvdy5wcm9tcHQoXCJJbWFnZSBVUkw6XCIpO1xuICAgIGlmICh1cmwpIHtcbiAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuc2V0SW1hZ2UoeyBzcmM6IHVybCB9KS5ydW4oKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWVkaXRvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgZ2FwOiAyLFxuICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLXN1cmZhY2UpXCIsXG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgaWNvbj17PEJvbGQgc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17ZWRpdG9yLmlzQWN0aXZlKFwiYm9sZFwiKX1cbiAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gdG9nZ2xlQm9sZCgpIHtcbiAgICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUJvbGQoKS5ydW4oKTtcbiAgICAgICAgfX1cbiAgICAgICAgdGl0bGU9XCJCb2xkXCJcbiAgICAgIC8+XG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8SXRhbGljIHNpemU9ezE1fSAvPn1cbiAgICAgICAgaXNBY3RpdmU9e2VkaXRvci5pc0FjdGl2ZShcIml0YWxpY1wiKX1cbiAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gdG9nZ2xlSXRhbGljKCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkudG9nZ2xlSXRhbGljKCkucnVuKCk7XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPVwiSXRhbGljXCJcbiAgICAgIC8+XG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8U3RyaWtldGhyb3VnaCBzaXplPXsxNX0gLz59XG4gICAgICAgIGlzQWN0aXZlPXtlZGl0b3IuaXNBY3RpdmUoXCJzdHJpa2VcIil9XG4gICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHRvZ2dsZVN0cmlrZSgpIHtcbiAgICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZVN0cmlrZSgpLnJ1bigpO1xuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIlN0cmlrZXRocm91Z2hcIlxuICAgICAgLz5cblxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGhlaWdodDogMTYsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBtYXJnaW46IFwiMCA0cHhcIixcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIDxUb29sYmFyQnV0dG9uXG4gICAgICAgIGljb249ezxIZWFkaW5nMSBzaXplPXsxNX0gLz59XG4gICAgICAgIGlzQWN0aXZlPXtlZGl0b3IuaXNBY3RpdmUoXCJoZWFkaW5nXCIsIHsgbGV2ZWw6IDEgfSl9XG4gICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHRvZ2dsZUgxKCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkudG9nZ2xlSGVhZGluZyh7IGxldmVsOiAxIH0pLnJ1bigpO1xuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIkhlYWRpbmcgMVwiXG4gICAgICAvPlxuICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgaWNvbj17PEhlYWRpbmcyIHNpemU9ezE1fSAvPn1cbiAgICAgICAgaXNBY3RpdmU9e2VkaXRvci5pc0FjdGl2ZShcImhlYWRpbmdcIiwgeyBsZXZlbDogMiB9KX1cbiAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gdG9nZ2xlSDIoKSB7XG4gICAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS50b2dnbGVIZWFkaW5nKHsgbGV2ZWw6IDIgfSkucnVuKCk7XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPVwiSGVhZGluZyAyXCJcbiAgICAgIC8+XG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8SGVhZGluZzMgc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17ZWRpdG9yLmlzQWN0aXZlKFwiaGVhZGluZ1wiLCB7IGxldmVsOiAzIH0pfVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiB0b2dnbGVIMygpIHtcbiAgICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUhlYWRpbmcoeyBsZXZlbDogMyB9KS5ydW4oKTtcbiAgICAgICAgfX1cbiAgICAgICAgdGl0bGU9XCJIZWFkaW5nIDNcIlxuICAgICAgLz5cblxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGhlaWdodDogMTYsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBtYXJnaW46IFwiMCA0cHhcIixcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIDxUb29sYmFyQnV0dG9uXG4gICAgICAgIGljb249ezxRdW90ZSBzaXplPXsxNX0gLz59XG4gICAgICAgIGlzQWN0aXZlPXtlZGl0b3IuaXNBY3RpdmUoXCJibG9ja3F1b3RlXCIpfVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiB0b2dnbGVRdW90ZSgpIHtcbiAgICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUJsb2NrcXVvdGUoKS5ydW4oKTtcbiAgICAgICAgfX1cbiAgICAgICAgdGl0bGU9XCJRdW90ZVwiXG4gICAgICAvPlxuICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgaWNvbj17PExpc3Qgc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17ZWRpdG9yLmlzQWN0aXZlKFwiYnVsbGV0TGlzdFwiKX1cbiAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gdG9nZ2xlQnVsbGV0KCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkudG9nZ2xlQnVsbGV0TGlzdCgpLnJ1bigpO1xuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIkJ1bGxldCBMaXN0XCJcbiAgICAgIC8+XG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8TGlzdE9yZGVyZWQgc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17ZWRpdG9yLmlzQWN0aXZlKFwib3JkZXJlZExpc3RcIil9XG4gICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHRvZ2dsZU9yZGVyZWQoKSB7XG4gICAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS50b2dnbGVPcmRlcmVkTGlzdCgpLnJ1bigpO1xuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIk9yZGVyZWQgTGlzdFwiXG4gICAgICAvPlxuICAgICAgPFRvb2xiYXJCdXR0b25cbiAgICAgICAgaWNvbj17PE1pbnVzIHNpemU9ezE1fSAvPn1cbiAgICAgICAgaXNBY3RpdmU9e2ZhbHNlfVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBpbnNlcnRIcigpIHtcbiAgICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnNldEhvcml6b250YWxSdWxlKCkucnVuKCk7XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPVwiSG9yaXpvbnRhbCBSdWxlXCJcbiAgICAgIC8+XG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8Q29kZSBzaXplPXsxNX0gLz59XG4gICAgICAgIGlzQWN0aXZlPXtlZGl0b3IuaXNBY3RpdmUoXCJjb2RlXCIpfVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiB0b2dnbGVDb2RlKCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkudG9nZ2xlQ29kZSgpLnJ1bigpO1xuICAgICAgICB9fVxuICAgICAgICB0aXRsZT1cIkNvZGVcIlxuICAgICAgLz5cbiAgICAgIDxUb29sYmFyQnV0dG9uXG4gICAgICAgIGljb249ezxJbWFnZUljb24gc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17ZmFsc2V9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUltYWdlfVxuICAgICAgICB0aXRsZT1cIkltYWdlXCJcbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fSAvPlxuXG4gICAgICA8VG9vbGJhckJ1dHRvblxuICAgICAgICBpY29uPXs8Q29kZTIgc2l6ZT17MTV9IC8+fVxuICAgICAgICBpc0FjdGl2ZT17aXNNYXJrZG93blZpZXd9XG4gICAgICAgIG9uQ2xpY2s9e3RvZ2dsZU1hcmtkb3duVmlld31cbiAgICAgICAgdGl0bGU9XCJNYXJrZG93biBWaWV3XCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlQXBwU3RvcmUiLCJCb2xkIiwiSXRhbGljIiwiU3RyaWtldGhyb3VnaCIsIkhlYWRpbmcxIiwiSGVhZGluZzIiLCJIZWFkaW5nMyIsIlF1b3RlIiwiTGlzdCIsIkxpc3RPcmRlcmVkIiwiTWludXMiLCJDb2RlIiwiSW1hZ2VJY29uIiwiQ29kZTIiLCJUb29sYmFyQnV0dG9uIiwiaWNvbiIsImlzQWN0aXZlIiwib25DbGljayIsInRpdGxlIiwiYnV0dG9uIiwic3R5bGUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJjdXJzb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInBhZGRpbmciLCJ0cmFuc2l0aW9uIiwib25Nb3VzZUVudGVyIiwiaGFuZGxlRW50ZXIiLCJlIiwiY3VycmVudFRhcmdldCIsIm9uTW91c2VMZWF2ZSIsImhhbmRsZUxlYXZlIiwiRWRpdG9yVG9vbGJhciIsImVkaXRvciIsImlzTWFya2Rvd25WaWV3Iiwic2VsZWN0TWFya2Rvd25WaWV3IiwicyIsInRvZ2dsZU1hcmtkb3duVmlldyIsInNlbGVjdFRvZ2dsZU1kIiwiaGFuZGxlSW1hZ2UiLCJ1cmwiLCJ3aW5kb3ciLCJwcm9tcHQiLCJjaGFpbiIsImZvY3VzIiwic2V0SW1hZ2UiLCJzcmMiLCJydW4iLCJkaXYiLCJmbGV4RGlyZWN0aW9uIiwiZ2FwIiwiYm9yZGVyQm90dG9tIiwiZm9udEZhbWlseSIsInNpemUiLCJ0b2dnbGVCb2xkIiwidG9nZ2xlSXRhbGljIiwidG9nZ2xlU3RyaWtlIiwibWFyZ2luIiwibGV2ZWwiLCJ0b2dnbGVIMSIsInRvZ2dsZUhlYWRpbmciLCJ0b2dnbGVIMiIsInRvZ2dsZUgzIiwidG9nZ2xlUXVvdGUiLCJ0b2dnbGVCbG9ja3F1b3RlIiwidG9nZ2xlQnVsbGV0IiwidG9nZ2xlQnVsbGV0TGlzdCIsInRvZ2dsZU9yZGVyZWQiLCJ0b2dnbGVPcmRlcmVkTGlzdCIsImluc2VydEhyIiwic2V0SG9yaXpvbnRhbFJ1bGUiLCJ0b2dnbGVDb2RlIiwiZmxleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/EditorToolbar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/FocusMode.tsx":
/*!*****************************************!*\
  !*** ./components/editor/FocusMode.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FocusMode)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Minimize2_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Minimize2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/minimize-2.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction FocusMode({ children }) {\n    const isFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectFocus(s) {\n        return s.editor.isFocusMode;\n    });\n    const wordCount = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectWordCount(s) {\n        return s.editor.wordCount;\n    });\n    const toggleFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectToggle(s) {\n        return s.toggleFocusMode;\n    });\n    const [showHint, setShowHint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hintOpacity, setHintOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [exitHovered, setExitHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleEscapeOrF11(e) {\n        if (e.key === \"Escape\" || e.key === \"F11\") {\n            e.preventDefault();\n            toggleFocusMode();\n        }\n    }, [\n        toggleFocusMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function registerFocusKeys() {\n        if (!isFocusMode) return;\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        isFocusMode,\n        handleKeyDown\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function showEscapeHint() {\n        if (!isFocusMode) {\n            setShowHint(false);\n            setHintOpacity(0);\n            return;\n        }\n        setShowHint(true);\n        const fadeInTimer = setTimeout(function fadeIn() {\n            setHintOpacity(1);\n        }, 50);\n        const fadeOutTimer = setTimeout(function fadeOut() {\n            setHintOpacity(0);\n        }, 2500);\n        const hideTimer = setTimeout(function hide() {\n            setShowHint(false);\n        }, 3000);\n        return function cleanup() {\n            clearTimeout(fadeInTimer);\n            clearTimeout(fadeOutTimer);\n            clearTimeout(hideTimer);\n        };\n    }, [\n        isFocusMode\n    ]);\n    if (!isFocusMode) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            inset: 0,\n            zIndex: 100,\n            backgroundColor: \"var(--color-bg)\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            overflow: \"auto\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                lineNumber: 87,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    bottom: 16,\n                    left: \"50%\",\n                    transform: \"translateX(-50%)\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 12,\n                    fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                    fontSize: 12,\n                    color: \"var(--color-text-muted)\",\n                    userSelect: \"none\",\n                    pointerEvents: \"none\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            wordCount.toLocaleString(),\n                            \" \",\n                            wordCount === 1 ? \"word\" : \"words\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 9\n                    }, this),\n                    showHint && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            opacity: hintOpacity,\n                            transition: \"opacity 500ms ease\",\n                            fontSize: 11,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: \"Press Escape to exit\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                lineNumber: 89,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: function onExitFocus() {\n                    toggleFocusMode();\n                },\n                onMouseEnter: function onEnter() {\n                    setExitHovered(true);\n                },\n                onMouseLeave: function onLeave() {\n                    setExitHovered(false);\n                },\n                style: {\n                    position: \"fixed\",\n                    bottom: 16,\n                    right: 20,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 6,\n                    fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                    fontSize: 12,\n                    color: \"var(--color-text-muted)\",\n                    background: \"transparent\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    padding: \"6px 10px\",\n                    borderRadius: 6,\n                    opacity: exitHovered ? 0.8 : 0.3,\n                    transition: \"opacity 200ms ease\",\n                    userSelect: \"none\"\n                },\n                children: [\n                    \"Exit Focus\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Minimize2_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        size: 14,\n                        strokeWidth: 1.5\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                        lineNumber: 151,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n                lineNumber: 120,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/FocusMode.tsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9Gb2N1c01vZGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRXlEO0FBQ2hCO0FBQ0g7QUFNdkIsU0FBU0ssVUFBVSxFQUFFQyxRQUFRLEVBQWtCO0lBQzVELE1BQU1DLGNBQWNILG1EQUFXQSxDQUFDLFNBQVNJLFlBQVlDLENBQUM7UUFDcEQsT0FBT0EsRUFBRUMsTUFBTSxDQUFDSCxXQUFXO0lBQzdCO0lBQ0EsTUFBTUksWUFBWVAsbURBQVdBLENBQUMsU0FBU1EsZ0JBQWdCSCxDQUFDO1FBQ3RELE9BQU9BLEVBQUVDLE1BQU0sQ0FBQ0MsU0FBUztJQUMzQjtJQUNBLE1BQU1FLGtCQUFrQlQsbURBQVdBLENBQUMsU0FBU1UsYUFBYUwsQ0FBQztRQUN6RCxPQUFPQSxFQUFFSSxlQUFlO0lBQzFCO0lBRUEsTUFBTSxDQUFDRSxVQUFVQyxZQUFZLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2UsYUFBYUMsZUFBZSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDaUIsYUFBYUMsZUFBZSxHQUFHbEIsK0NBQVFBLENBQUM7SUFFL0MsTUFBTW1CLGdCQUFnQnBCLGtEQUFXQSxDQUMvQixTQUFTcUIsa0JBQWtCQyxDQUFnQjtRQUN6QyxJQUFJQSxFQUFFQyxHQUFHLEtBQUssWUFBWUQsRUFBRUMsR0FBRyxLQUFLLE9BQU87WUFDekNELEVBQUVFLGNBQWM7WUFDaEJaO1FBQ0Y7SUFDRixHQUNBO1FBQUNBO0tBQWdCO0lBR25CYixnREFBU0EsQ0FBQyxTQUFTMEI7UUFDakIsSUFBSSxDQUFDbkIsYUFBYTtRQUNsQm9CLE9BQU9DLGdCQUFnQixDQUFDLFdBQVdQO1FBQ25DLE9BQU8sU0FBU1E7WUFDZEYsT0FBT0csbUJBQW1CLENBQUMsV0FBV1Q7UUFDeEM7SUFDRixHQUFHO1FBQUNkO1FBQWFjO0tBQWM7SUFFL0JyQixnREFBU0EsQ0FBQyxTQUFTK0I7UUFDakIsSUFBSSxDQUFDeEIsYUFBYTtZQUNoQlMsWUFBWTtZQUNaRSxlQUFlO1lBQ2Y7UUFDRjtRQUVBRixZQUFZO1FBQ1osTUFBTWdCLGNBQWNDLFdBQVcsU0FBU0M7WUFDdENoQixlQUFlO1FBQ2pCLEdBQUc7UUFFSCxNQUFNaUIsZUFBZUYsV0FBVyxTQUFTRztZQUN2Q2xCLGVBQWU7UUFDakIsR0FBRztRQUVILE1BQU1tQixZQUFZSixXQUFXLFNBQVNLO1lBQ3BDdEIsWUFBWTtRQUNkLEdBQUc7UUFFSCxPQUFPLFNBQVNhO1lBQ2RVLGFBQWFQO1lBQ2JPLGFBQWFKO1lBQ2JJLGFBQWFGO1FBQ2Y7SUFDRixHQUFHO1FBQUM5QjtLQUFZO0lBRWhCLElBQUksQ0FBQ0EsYUFBYTtRQUNoQixPQUFPO0lBQ1Q7SUFFQSxxQkFDRSw4REFBQ2lDO1FBQ0NDLE9BQU87WUFDTEMsVUFBVTtZQUNWQyxPQUFPO1lBQ1BDLFFBQVE7WUFDUkMsaUJBQWlCO1lBQ2pCQyxTQUFTO1lBQ1RDLGVBQWU7WUFDZkMsVUFBVTtRQUNaOzswQkFFQSw4REFBQ1I7Z0JBQUlDLE9BQU87b0JBQUVRLE1BQU07b0JBQUdDLFdBQVc7Z0JBQU87MEJBQUk1Qzs7Ozs7OzBCQUU3Qyw4REFBQ2tDO2dCQUNDQyxPQUFPO29CQUNMQyxVQUFVO29CQUNWUyxRQUFRO29CQUNSQyxNQUFNO29CQUNOQyxXQUFXO29CQUNYUCxTQUFTO29CQUNUUSxZQUFZO29CQUNaQyxLQUFLO29CQUNMQyxZQUFZO29CQUNaQyxVQUFVO29CQUNWQyxPQUFPO29CQUNQQyxZQUFZO29CQUNaQyxlQUFlO2dCQUNqQjs7a0NBRUEsOERBQUNDOzs0QkFBTWxELFVBQVVtRCxjQUFjOzRCQUFHOzRCQUFFbkQsY0FBYyxJQUFJLFNBQVM7Ozs7Ozs7b0JBQzlESSwwQkFDQyw4REFBQzhDO3dCQUNDcEIsT0FBTzs0QkFDTHNCLFNBQVM5Qzs0QkFDVCtDLFlBQVk7NEJBQ1pQLFVBQVU7NEJBQ1ZDLE9BQU87d0JBQ1Q7a0NBQ0Q7Ozs7Ozs7Ozs7OzswQkFNTCw4REFBQ087Z0JBQ0NDLFNBQVMsU0FBU0M7b0JBQ2hCdEQ7Z0JBQ0Y7Z0JBQ0F1RCxjQUFjLFNBQVNDO29CQUNyQmpELGVBQWU7Z0JBQ2pCO2dCQUNBa0QsY0FBYyxTQUFTQztvQkFDckJuRCxlQUFlO2dCQUNqQjtnQkFDQXFCLE9BQU87b0JBQ0xDLFVBQVU7b0JBQ1ZTLFFBQVE7b0JBQ1JxQixPQUFPO29CQUNQMUIsU0FBUztvQkFDVFEsWUFBWTtvQkFDWkMsS0FBSztvQkFDTEMsWUFBWTtvQkFDWkMsVUFBVTtvQkFDVkMsT0FBTztvQkFDUGUsWUFBWTtvQkFDWkMsUUFBUTtvQkFDUkMsUUFBUTtvQkFDUkMsU0FBUztvQkFDVEMsY0FBYztvQkFDZGQsU0FBUzVDLGNBQWMsTUFBTTtvQkFDN0I2QyxZQUFZO29CQUNaTCxZQUFZO2dCQUNkOztvQkFDRDtrQ0FFQyw4REFBQ3hELHFGQUFTQTt3QkFBQzJFLE1BQU07d0JBQUlDLGFBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUkxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL0ZvY3VzTW9kZS50c3g/ZTM0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1pbmltaXplMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcblxuaW50ZXJmYWNlIEZvY3VzTW9kZVByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9jdXNNb2RlKHsgY2hpbGRyZW4gfTogRm9jdXNNb2RlUHJvcHMpIHtcbiAgY29uc3QgaXNGb2N1c01vZGUgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RGb2N1cyhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmlzRm9jdXNNb2RlO1xuICB9KTtcbiAgY29uc3Qgd29yZENvdW50ID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0V29yZENvdW50KHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3Iud29yZENvdW50O1xuICB9KTtcbiAgY29uc3QgdG9nZ2xlRm9jdXNNb2RlID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VG9nZ2xlKHMpIHtcbiAgICByZXR1cm4gcy50b2dnbGVGb2N1c01vZGU7XG4gIH0pO1xuXG4gIGNvbnN0IFtzaG93SGludCwgc2V0U2hvd0hpbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaGludE9wYWNpdHksIHNldEhpbnRPcGFjaXR5XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZXhpdEhvdmVyZWQsIHNldEV4aXRIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgZnVuY3Rpb24gaGFuZGxlRXNjYXBlT3JGMTEoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiIHx8IGUua2V5ID09PSBcIkYxMVwiKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9nZ2xlRm9jdXNNb2RlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbdG9nZ2xlRm9jdXNNb2RlXSxcbiAgKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gcmVnaXN0ZXJGb2N1c0tleXMoKSB7XG4gICAgaWYgKCFpc0ZvY3VzTW9kZSkgcmV0dXJuO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICB9O1xuICB9LCBbaXNGb2N1c01vZGUsIGhhbmRsZUtleURvd25dKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gc2hvd0VzY2FwZUhpbnQoKSB7XG4gICAgaWYgKCFpc0ZvY3VzTW9kZSkge1xuICAgICAgc2V0U2hvd0hpbnQoZmFsc2UpO1xuICAgICAgc2V0SGludE9wYWNpdHkoMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U2hvd0hpbnQodHJ1ZSk7XG4gICAgY29uc3QgZmFkZUluVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIGZhZGVJbigpIHtcbiAgICAgIHNldEhpbnRPcGFjaXR5KDEpO1xuICAgIH0sIDUwKTtcblxuICAgIGNvbnN0IGZhZGVPdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gZmFkZU91dCgpIHtcbiAgICAgIHNldEhpbnRPcGFjaXR5KDApO1xuICAgIH0sIDI1MDApO1xuXG4gICAgY29uc3QgaGlkZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgc2V0U2hvd0hpbnQoZmFsc2UpO1xuICAgIH0sIDMwMDApO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZmFkZUluVGltZXIpO1xuICAgICAgY2xlYXJUaW1lb3V0KGZhZGVPdXRUaW1lcik7XG4gICAgICBjbGVhclRpbWVvdXQoaGlkZVRpbWVyKTtcbiAgICB9O1xuICB9LCBbaXNGb2N1c01vZGVdKTtcblxuICBpZiAoIWlzRm9jdXNNb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIGluc2V0OiAwLFxuICAgICAgICB6SW5kZXg6IDEwMCxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93WTogXCJhdXRvXCIgfX0+e2NoaWxkcmVufTwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICBib3R0b206IDE2LFxuICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoLTUwJSlcIixcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGdhcDogMTIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuPnt3b3JkQ291bnQudG9Mb2NhbGVTdHJpbmcoKX0ge3dvcmRDb3VudCA9PT0gMSA/IFwid29yZFwiIDogXCJ3b3Jkc1wifTwvc3Bhbj5cbiAgICAgICAge3Nob3dIaW50ICYmIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgb3BhY2l0eTogaGludE9wYWNpdHksXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSA1MDBtcyBlYXNlXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUHJlc3MgRXNjYXBlIHRvIGV4aXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBvbkV4aXRGb2N1cygpIHtcbiAgICAgICAgICB0b2dnbGVGb2N1c01vZGUoKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKCkge1xuICAgICAgICAgIHNldEV4aXRIb3ZlcmVkKHRydWUpO1xuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoKSB7XG4gICAgICAgICAgc2V0RXhpdEhvdmVyZWQoZmFsc2UpO1xuICAgICAgICB9fVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgYm90dG9tOiAxNixcbiAgICAgICAgICByaWdodDogMjAsXG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBnYXA6IDYsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxMHB4XCIsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgIG9wYWNpdHk6IGV4aXRIb3ZlcmVkID8gMC44IDogMC4zLFxuICAgICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAyMDBtcyBlYXNlXCIsXG4gICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIEV4aXQgRm9jdXNcbiAgICAgICAgPE1pbmltaXplMiBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlU3RhdGUiLCJNaW5pbWl6ZTIiLCJ1c2VBcHBTdG9yZSIsIkZvY3VzTW9kZSIsImNoaWxkcmVuIiwiaXNGb2N1c01vZGUiLCJzZWxlY3RGb2N1cyIsInMiLCJlZGl0b3IiLCJ3b3JkQ291bnQiLCJzZWxlY3RXb3JkQ291bnQiLCJ0b2dnbGVGb2N1c01vZGUiLCJzZWxlY3RUb2dnbGUiLCJzaG93SGludCIsInNldFNob3dIaW50IiwiaGludE9wYWNpdHkiLCJzZXRIaW50T3BhY2l0eSIsImV4aXRIb3ZlcmVkIiwic2V0RXhpdEhvdmVyZWQiLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlRXNjYXBlT3JGMTEiLCJlIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJyZWdpc3RlckZvY3VzS2V5cyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhbnVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3dFc2NhcGVIaW50IiwiZmFkZUluVGltZXIiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwiZmFkZU91dFRpbWVyIiwiZmFkZU91dCIsImhpZGVUaW1lciIsImhpZGUiLCJjbGVhclRpbWVvdXQiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwiaW5zZXQiLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwiZmxleCIsIm92ZXJmbG93WSIsImJvdHRvbSIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJhbGlnbkl0ZW1zIiwiZ2FwIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJ1c2VyU2VsZWN0IiwicG9pbnRlckV2ZW50cyIsInNwYW4iLCJ0b0xvY2FsZVN0cmluZyIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiYnV0dG9uIiwib25DbGljayIsIm9uRXhpdEZvY3VzIiwib25Nb3VzZUVudGVyIiwib25FbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9uTGVhdmUiLCJyaWdodCIsImJhY2tncm91bmQiLCJib3JkZXIiLCJjdXJzb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwic2l6ZSIsInN0cm9rZVdpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/FocusMode.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/InlineDiff.tsx":
/*!******************************************!*\
  !*** ./components/editor/InlineDiff.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InlineDiff)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction InlineDiff({ oldText, newText, onAccept, onReject }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline\",\n            fontFamily: \"var(--font-literata), serif\"\n        },\n        children: [\n            oldText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-error) 15%, transparent)\",\n                    textDecoration: \"line-through\",\n                    textDecorationColor: \"var(--color-error)\",\n                    color: \"var(--color-text-muted)\",\n                    padding: \"1px 2px\",\n                    borderRadius: 2\n                },\n                children: oldText\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                lineNumber: 21,\n                columnNumber: 9\n            }, this),\n            newText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-success) 15%, transparent)\",\n                    color: \"var(--color-text)\",\n                    padding: \"1px 2px\",\n                    borderRadius: 2\n                },\n                children: newText\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                lineNumber: 35,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    display: \"inline-flex\",\n                    gap: 2,\n                    marginLeft: 4,\n                    verticalAlign: \"middle\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onAccept,\n                        title: \"Accept (Enter)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 20,\n                            height: 20,\n                            padding: 0,\n                            background: \"none\",\n                            border: \"1px solid var(--color-success)\",\n                            borderRadius: 4,\n                            color: \"var(--color-success)\",\n                            cursor: \"pointer\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                            size: 12\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                        lineNumber: 54,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onReject,\n                        title: \"Reject (Esc)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 20,\n                            height: 20,\n                            padding: 0,\n                            background: \"none\",\n                            border: \"1px solid var(--color-error)\",\n                            borderRadius: 4,\n                            color: \"var(--color-error)\",\n                            cursor: \"pointer\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            size: 12\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/InlineDiff.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9JbmxpbmVEaWZmLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFd0M7QUFTekIsU0FBU0UsV0FBVyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQW1CO0lBQzFGLHFCQUNFLDhEQUFDQztRQUNDQyxPQUFPO1lBQ0xDLFNBQVM7WUFDVEMsWUFBWTtRQUNkOztZQUVDUCx5QkFDQyw4REFBQ0k7Z0JBQ0NDLE9BQU87b0JBQ0xHLGlCQUFpQjtvQkFDakJDLGdCQUFnQjtvQkFDaEJDLHFCQUFxQjtvQkFDckJDLE9BQU87b0JBQ1BDLFNBQVM7b0JBQ1RDLGNBQWM7Z0JBQ2hCOzBCQUVDYjs7Ozs7O1lBR0pDLHlCQUNDLDhEQUFDRztnQkFDQ0MsT0FBTztvQkFDTEcsaUJBQWlCO29CQUNqQkcsT0FBTztvQkFDUEMsU0FBUztvQkFDVEMsY0FBYztnQkFDaEI7MEJBRUNaOzs7Ozs7MEJBR0wsOERBQUNHO2dCQUNDQyxPQUFPO29CQUNMQyxTQUFTO29CQUNUUSxLQUFLO29CQUNMQyxZQUFZO29CQUNaQyxlQUFlO2dCQUNqQjs7a0NBRUEsOERBQUNDO3dCQUNDQyxTQUFTaEI7d0JBQ1RpQixPQUFNO3dCQUNOZCxPQUFPOzRCQUNMQyxTQUFTOzRCQUNUYyxZQUFZOzRCQUNaQyxnQkFBZ0I7NEJBQ2hCQyxPQUFPOzRCQUNQQyxRQUFROzRCQUNSWCxTQUFTOzRCQUNUWSxZQUFZOzRCQUNaQyxRQUFROzRCQUNSWixjQUFjOzRCQUNkRixPQUFPOzRCQUNQZSxRQUFRO3dCQUNWO2tDQUVBLDRFQUFDN0IsbUZBQUtBOzRCQUFDOEIsTUFBTTs7Ozs7Ozs7Ozs7a0NBRWYsOERBQUNWO3dCQUNDQyxTQUFTZjt3QkFDVGdCLE9BQU07d0JBQ05kLE9BQU87NEJBQ0xDLFNBQVM7NEJBQ1RjLFlBQVk7NEJBQ1pDLGdCQUFnQjs0QkFDaEJDLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JYLFNBQVM7NEJBQ1RZLFlBQVk7NEJBQ1pDLFFBQVE7NEJBQ1JaLGNBQWM7NEJBQ2RGLE9BQU87NEJBQ1BlLFFBQVE7d0JBQ1Y7a0NBRUEsNEVBQUM1QixtRkFBQ0E7NEJBQUM2QixNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL0lubGluZURpZmYudHN4PzE1ZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENoZWNrLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbnRlcmZhY2UgSW5saW5lRGlmZlByb3BzIHtcbiAgb2xkVGV4dDogc3RyaW5nO1xuICBuZXdUZXh0OiBzdHJpbmc7XG4gIG9uQWNjZXB0OiAoKSA9PiB2b2lkO1xuICBvblJlamVjdDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5saW5lRGlmZih7IG9sZFRleHQsIG5ld1RleHQsIG9uQWNjZXB0LCBvblJlamVjdCB9OiBJbmxpbmVEaWZmUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmVcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWxpdGVyYXRhKSwgc2VyaWZcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAge29sZFRleHQgJiYgKFxuICAgICAgICA8c3BhblxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWVycm9yKSAxNSUsIHRyYW5zcGFyZW50KVwiLFxuICAgICAgICAgICAgdGV4dERlY29yYXRpb246IFwibGluZS10aHJvdWdoXCIsXG4gICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbkNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMXB4IDJweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7b2xkVGV4dH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKX1cbiAgICAgIHtuZXdUZXh0ICYmIChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImNvbG9yLW1peChpbiBzcmdiLCB2YXIoLS1jb2xvci1zdWNjZXNzKSAxNSUsIHRyYW5zcGFyZW50KVwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMXB4IDJweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7bmV3VGV4dH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKX1cbiAgICAgIDxzcGFuXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgIGdhcDogMixcbiAgICAgICAgICBtYXJnaW5MZWZ0OiA0LFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkFjY2VwdH1cbiAgICAgICAgICB0aXRsZT1cIkFjY2VwdCAoRW50ZXIpXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgd2lkdGg6IDIwLFxuICAgICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3Itc3VjY2VzcylcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hlY2sgc2l6ZT17MTJ9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25SZWplY3R9XG4gICAgICAgICAgdGl0bGU9XCJSZWplY3QgKEVzYylcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgICAgICBoZWlnaHQ6IDIwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiLFxuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPFggc2l6ZT17MTJ9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJDaGVjayIsIlgiLCJJbmxpbmVEaWZmIiwib2xkVGV4dCIsIm5ld1RleHQiLCJvbkFjY2VwdCIsIm9uUmVqZWN0Iiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImZvbnRGYW1pbHkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0RGVjb3JhdGlvbiIsInRleHREZWNvcmF0aW9uQ29sb3IiLCJjb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJnYXAiLCJtYXJnaW5MZWZ0IiwidmVydGljYWxBbGlnbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZCIsImJvcmRlciIsImN1cnNvciIsInNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/InlineDiff.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/PolishView.tsx":
/*!******************************************!*\
  !*** ./components/editor/PolishView.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PolishView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_diff__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/diff */ \"(ssr)/./lib/diff.ts\");\n/* harmony import */ var _DiffView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DiffView */ \"(ssr)/./components/editor/DiffView.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nfunction PolishView({ content, onComplete, onCancel }) {\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [polished, setPolished] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [accepted, setAccepted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [resolved, setResolved] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [done, setDone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const preferences = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectPrefs(s) {\n        return s.preferences;\n    });\n    const changes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function computeChanges() {\n        if (!polished) return [];\n        return (0,_lib_diff__WEBPACK_IMPORTED_MODULE_3__.computeDiff)(content, polished);\n    }, [\n        content,\n        polished\n    ]);\n    const totalChanges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function countChanges() {\n        return changes.filter(function isChange(c) {\n            return c.type !== \"equal\";\n        }).length;\n    }, [\n        changes\n    ]);\n    const resolvedCount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function countResolved() {\n        return resolved.filter(Boolean).length;\n    }, [\n        resolved\n    ]);\n    const acceptedCount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function countAccepted() {\n        return accepted.filter(function wasAccepted(val, i) {\n            return val && resolved[i];\n        }).length;\n    }, [\n        accepted,\n        resolved\n    ]);\n    const rejectedCount = resolvedCount - acceptedCount;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function polish() {\n        if (!preferences.keysStored) {\n            setError(\"No API key configured\");\n            setLoading(false);\n            return;\n        }\n        let cancelled = false;\n        async function run() {\n            try {\n                const res = await fetch(\"/api/ai/edit\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        text: content,\n                        mode: \"cleanup\",\n                        model: preferences.defaultModel\n                    })\n                });\n                if (!res.ok) throw new Error(\"API error: \" + res.status);\n                const data = await res.json();\n                if (cancelled) return;\n                setPolished(data.result || \"\");\n                const diff = (0,_lib_diff__WEBPACK_IMPORTED_MODULE_3__.computeDiff)(content, data.result || \"\");\n                setAccepted(new Array(diff.length).fill(false));\n                setResolved(new Array(diff.length).fill(false));\n                setLoading(false);\n            } catch (err) {\n                if (cancelled) return;\n                setError(err instanceof Error ? err.message : \"Failed to polish\");\n                setLoading(false);\n            }\n        }\n        run();\n        return function cleanup() {\n            cancelled = true;\n        };\n    }, [\n        content,\n        preferences.keysStored,\n        preferences.defaultModel\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function checkDone() {\n        if (!polished || loading) return;\n        if (totalChanges > 0 && resolvedCount >= totalChanges) {\n            setDone(true);\n        }\n    }, [\n        polished,\n        loading,\n        totalChanges,\n        resolvedCount\n    ]);\n    const handleAcceptChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function acceptChange(index) {\n        setAccepted(function updateAccepted(prev) {\n            const next = [\n                ...prev\n            ];\n            next[index] = true;\n            return next;\n        });\n        setResolved(function updateResolved(prev) {\n            const next = [\n                ...prev\n            ];\n            next[index] = true;\n            return next;\n        });\n    }, []);\n    const handleRejectChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function rejectChange(index) {\n        setAccepted(function updateAccepted(prev) {\n            const next = [\n                ...prev\n            ];\n            next[index] = false;\n            return next;\n        });\n        setResolved(function updateResolved(prev) {\n            const next = [\n                ...prev\n            ];\n            next[index] = true;\n            return next;\n        });\n    }, []);\n    const handleAcceptAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function acceptAll() {\n        setAccepted(function updateAccepted(prev) {\n            return prev.map(function setTrue() {\n                return true;\n            });\n        });\n        setResolved(function updateResolved(prev) {\n            return prev.map(function setTrue() {\n                return true;\n            });\n        });\n    }, []);\n    const handleRejectAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function rejectAll() {\n        setAccepted(function updateAccepted(prev) {\n            return prev.map(function setFalse() {\n                return false;\n            });\n        });\n        setResolved(function updateResolved(prev) {\n            return prev.map(function setTrue() {\n                return true;\n            });\n        });\n    }, []);\n    function handleDone() {\n        const result = (0,_lib_diff__WEBPACK_IMPORTED_MODULE_3__.applyChanges)(content, changes, accepted);\n        onComplete(result);\n    }\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                gap: 16\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                    children: `\n          @keyframes polishPulse {\n            0%, 100% { opacity: 0.5; }\n            50% { opacity: 1; }\n          }\n        `\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 175,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: 16,\n                        color: \"var(--color-text-muted)\",\n                        animation: \"polishPulse 2s ease-in-out infinite\"\n                    },\n                    children: \"Polishing your prose\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 181,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        width: 48,\n                        height: 2,\n                        backgroundColor: \"var(--color-accent)\",\n                        borderRadius: 1,\n                        animation: \"polishPulse 2s ease-in-out infinite\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 190,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n            lineNumber: 163,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                gap: 12\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: 14,\n                        color: \"var(--color-error)\"\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 217,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: onCancel,\n                    style: {\n                        padding: \"6px 16px\",\n                        fontSize: 13,\n                        fontFamily: \"inherit\",\n                        border: \"1px solid var(--color-border)\",\n                        borderRadius: 6,\n                        backgroundColor: \"transparent\",\n                        color: \"var(--color-text)\",\n                        cursor: \"pointer\"\n                    },\n                    children: \"Back to editor\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 218,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n            lineNumber: 205,\n            columnNumber: 7\n        }, this);\n    }\n    if (done) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                backgroundColor: \"var(--color-bg)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                gap: 16\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    size: 32,\n                    style: {\n                        color: \"var(--color-success)\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: 16,\n                        color: \"var(--color-text)\"\n                    },\n                    children: [\n                        acceptedCount,\n                        \" \",\n                        acceptedCount === 1 ? \"change\" : \"changes\",\n                        \" accepted, \",\n                        rejectedCount,\n                        \" rejected\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 252,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleDone,\n                    style: {\n                        padding: \"8px 24px\",\n                        fontSize: 14,\n                        fontFamily: \"inherit\",\n                        fontWeight: 600,\n                        border: \"none\",\n                        borderRadius: 8,\n                        backgroundColor: \"var(--color-accent)\",\n                        color: \"#fff\",\n                        cursor: \"pointer\"\n                    },\n                    children: \"Done\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 255,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n            lineNumber: 239,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            backgroundColor: \"var(--color-bg)\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    padding: \"8px 16px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                    gap: 12\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onCancel,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            padding: \"4px 8px\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            border: \"none\",\n                            borderRadius: 5,\n                            backgroundColor: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                size: 14\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                                lineNumber: 310,\n                                columnNumber: 11\n                            }, this),\n                            \"Cancel\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            flex: 1\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                        lineNumber: 313,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: 12,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            resolvedCount,\n                            \" / \",\n                            totalChanges,\n                            \" resolved\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                        lineNumber: 314,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                lineNumber: 284,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    minHeight: 0\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DiffView__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    originalText: content,\n                    revisedText: polished,\n                    onAcceptAll: handleAcceptAll,\n                    onRejectAll: handleRejectAll,\n                    onAcceptChange: handleAcceptChange,\n                    onRejectChange: handleRejectChange\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                    lineNumber: 319,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n                lineNumber: 318,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PolishView.tsx\",\n        lineNumber: 276,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Vjs4QkFDRDs7Ozs7Ozs7Ozs7O0lBS1A7SUFFQSxxQkFDRSw4REFBQ25CO1FBQ0NDLE9BQU87WUFDTEMsU0FBUztZQUNUQyxlQUFlO1lBQ2ZHLFFBQVE7WUFDUkMsaUJBQWlCO1FBQ25COzswQkFFQSw4REFBQ1A7Z0JBQ0NDLE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1RFLFlBQVk7b0JBQ1phLFNBQVM7b0JBQ1RLLGNBQWM7b0JBQ2RkLFlBQVk7b0JBQ1pDLEtBQUs7Z0JBQ1A7O2tDQUVBLDhEQUFDTTt3QkFDQ0MsU0FBUy9GO3dCQUNUZ0YsT0FBTzs0QkFDTEMsU0FBUzs0QkFDVEUsWUFBWTs0QkFDWkssS0FBSzs0QkFDTFEsU0FBUzs0QkFDVFAsVUFBVTs0QkFDVkYsWUFBWTs0QkFDWlUsUUFBUTs0QkFDUkosY0FBYzs0QkFDZFAsaUJBQWlCOzRCQUNqQkksT0FBTzs0QkFDUFEsUUFBUTt3QkFDVjs7MENBRUEsOERBQUMxRyxpR0FBU0E7Z0NBQUMyRyxNQUFNOzs7Ozs7NEJBQU07Ozs7Ozs7a0NBR3pCLDhEQUFDcEI7d0JBQUlDLE9BQU87NEJBQUVzQixNQUFNO3dCQUFFOzs7Ozs7a0NBQ3RCLDhEQUFDdkI7d0JBQUlDLE9BQU87NEJBQUVTLFVBQVU7NEJBQUlDLE9BQU87d0JBQTBCOzs0QkFDMURqRTs0QkFBYzs0QkFBSVA7NEJBQWE7Ozs7Ozs7Ozs7Ozs7MEJBR3BDLDhEQUFDNkQ7Z0JBQUlDLE9BQU87b0JBQUVzQixNQUFNO29CQUFHQyxXQUFXO2dCQUFFOzBCQUNsQyw0RUFBQzNHLGlEQUFRQTtvQkFDUDRHLGNBQWMxRztvQkFDZDJHLGFBQWF0RztvQkFDYnVHLGFBQWFuQztvQkFDYm9DLGFBQWFoQztvQkFDYmlDLGdCQUFnQjlDO29CQUNoQitDLGdCQUFnQnhDOzs7Ozs7Ozs7Ozs7Ozs7OztBQUsxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL1BvbGlzaFZpZXcudHN4P2QwZTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaGVja0NpcmNsZSwgQXJyb3dMZWZ0IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgY29tcHV0ZURpZmYsIGFwcGx5Q2hhbmdlcyB9IGZyb20gXCJAL2xpYi9kaWZmXCI7XG5pbXBvcnQgRGlmZlZpZXcgZnJvbSBcIi4vRGlmZlZpZXdcIjtcblxuaW50ZXJmYWNlIFBvbGlzaFZpZXdQcm9wcyB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgb25Db21wbGV0ZTogKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvbGlzaFZpZXcoeyBjb250ZW50LCBvbkNvbXBsZXRlLCBvbkNhbmNlbCB9OiBQb2xpc2hWaWV3UHJvcHMpIHtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtwb2xpc2hlZCwgc2V0UG9saXNoZWRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthY2NlcHRlZCwgc2V0QWNjZXB0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbltdPihbXSk7XG4gIGNvbnN0IFtyZXNvbHZlZCwgc2V0UmVzb2x2ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbltdPihbXSk7XG4gIGNvbnN0IFtkb25lLCBzZXREb25lXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBwcmVmZXJlbmNlcyA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdFByZWZzKHMpIHtcbiAgICByZXR1cm4gcy5wcmVmZXJlbmNlcztcbiAgfSk7XG5cbiAgY29uc3QgY2hhbmdlcyA9IHVzZU1lbW8oZnVuY3Rpb24gY29tcHV0ZUNoYW5nZXMoKSB7XG4gICAgaWYgKCFwb2xpc2hlZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBjb21wdXRlRGlmZihjb250ZW50LCBwb2xpc2hlZCk7XG4gIH0sIFtjb250ZW50LCBwb2xpc2hlZF0pO1xuXG4gIGNvbnN0IHRvdGFsQ2hhbmdlcyA9IHVzZU1lbW8oZnVuY3Rpb24gY291bnRDaGFuZ2VzKCkge1xuICAgIHJldHVybiBjaGFuZ2VzLmZpbHRlcihmdW5jdGlvbiBpc0NoYW5nZShjKSB7XG4gICAgICByZXR1cm4gYy50eXBlICE9PSBcImVxdWFsXCI7XG4gICAgfSkubGVuZ3RoO1xuICB9LCBbY2hhbmdlc10pO1xuXG4gIGNvbnN0IHJlc29sdmVkQ291bnQgPSB1c2VNZW1vKGZ1bmN0aW9uIGNvdW50UmVzb2x2ZWQoKSB7XG4gICAgcmV0dXJuIHJlc29sdmVkLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gIH0sIFtyZXNvbHZlZF0pO1xuXG4gIGNvbnN0IGFjY2VwdGVkQ291bnQgPSB1c2VNZW1vKGZ1bmN0aW9uIGNvdW50QWNjZXB0ZWQoKSB7XG4gICAgcmV0dXJuIGFjY2VwdGVkLmZpbHRlcihmdW5jdGlvbiB3YXNBY2NlcHRlZCh2YWwsIGkpIHtcbiAgICAgIHJldHVybiB2YWwgJiYgcmVzb2x2ZWRbaV07XG4gICAgfSkubGVuZ3RoO1xuICB9LCBbYWNjZXB0ZWQsIHJlc29sdmVkXSk7XG5cbiAgY29uc3QgcmVqZWN0ZWRDb3VudCA9IHJlc29sdmVkQ291bnQgLSBhY2NlcHRlZENvdW50O1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBwb2xpc2goKSB7XG4gICAgaWYgKCFwcmVmZXJlbmNlcy5rZXlzU3RvcmVkKSB7XG4gICAgICBzZXRFcnJvcihcIk5vIEFQSSBrZXkgY29uZmlndXJlZFwiKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9haS9lZGl0XCIsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdGV4dDogY29udGVudCxcbiAgICAgICAgICAgIG1vZGU6IFwiY2xlYW51cFwiLFxuICAgICAgICAgICAgbW9kZWw6IHByZWZlcmVuY2VzLmRlZmF1bHRNb2RlbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihcIkFQSSBlcnJvcjogXCIgKyByZXMuc3RhdHVzKTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xuXG4gICAgICAgIHNldFBvbGlzaGVkKGRhdGEucmVzdWx0IHx8IFwiXCIpO1xuICAgICAgICBjb25zdCBkaWZmID0gY29tcHV0ZURpZmYoY29udGVudCwgZGF0YS5yZXN1bHQgfHwgXCJcIik7XG4gICAgICAgIHNldEFjY2VwdGVkKG5ldyBBcnJheShkaWZmLmxlbmd0aCkuZmlsbChmYWxzZSkpO1xuICAgICAgICBzZXRSZXNvbHZlZChuZXcgQXJyYXkoZGlmZi5sZW5ndGgpLmZpbGwoZmFsc2UpKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xuICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gcG9saXNoXCIpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBydW4oKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbY29udGVudCwgcHJlZmVyZW5jZXMua2V5c1N0b3JlZCwgcHJlZmVyZW5jZXMuZGVmYXVsdE1vZGVsXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoIXBvbGlzaGVkIHx8IGxvYWRpbmcpIHJldHVybjtcbiAgICBpZiAodG90YWxDaGFuZ2VzID4gMCAmJiByZXNvbHZlZENvdW50ID49IHRvdGFsQ2hhbmdlcykge1xuICAgICAgc2V0RG9uZSh0cnVlKTtcbiAgICB9XG4gIH0sIFtwb2xpc2hlZCwgbG9hZGluZywgdG90YWxDaGFuZ2VzLCByZXNvbHZlZENvdW50XSk7XG5cbiAgY29uc3QgaGFuZGxlQWNjZXB0Q2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gYWNjZXB0Q2hhbmdlKGluZGV4OiBudW1iZXIpIHtcbiAgICBzZXRBY2NlcHRlZChmdW5jdGlvbiB1cGRhdGVBY2NlcHRlZChwcmV2KSB7XG4gICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgbmV4dFtpbmRleF0gPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG4gICAgc2V0UmVzb2x2ZWQoZnVuY3Rpb24gdXBkYXRlUmVzb2x2ZWQocHJldikge1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgIG5leHRbaW5kZXhdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlUmVqZWN0Q2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gcmVqZWN0Q2hhbmdlKGluZGV4OiBudW1iZXIpIHtcbiAgICBzZXRBY2NlcHRlZChmdW5jdGlvbiB1cGRhdGVBY2NlcHRlZChwcmV2KSB7XG4gICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgbmV4dFtpbmRleF0gPSBmYWxzZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICAgIHNldFJlc29sdmVkKGZ1bmN0aW9uIHVwZGF0ZVJlc29sdmVkKHByZXYpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICBuZXh0W2luZGV4XSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUFjY2VwdEFsbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGFjY2VwdEFsbCgpIHtcbiAgICBzZXRBY2NlcHRlZChmdW5jdGlvbiB1cGRhdGVBY2NlcHRlZChwcmV2KSB7XG4gICAgICByZXR1cm4gcHJldi5tYXAoZnVuY3Rpb24gc2V0VHJ1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzZXRSZXNvbHZlZChmdW5jdGlvbiB1cGRhdGVSZXNvbHZlZChwcmV2KSB7XG4gICAgICByZXR1cm4gcHJldi5tYXAoZnVuY3Rpb24gc2V0VHJ1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVJlamVjdEFsbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHJlamVjdEFsbCgpIHtcbiAgICBzZXRBY2NlcHRlZChmdW5jdGlvbiB1cGRhdGVBY2NlcHRlZChwcmV2KSB7XG4gICAgICByZXR1cm4gcHJldi5tYXAoZnVuY3Rpb24gc2V0RmFsc2UoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHNldFJlc29sdmVkKGZ1bmN0aW9uIHVwZGF0ZVJlc29sdmVkKHByZXYpIHtcbiAgICAgIHJldHVybiBwcmV2Lm1hcChmdW5jdGlvbiBzZXRUcnVlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRG9uZSgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhcHBseUNoYW5nZXMoY29udGVudCwgY2hhbmdlcywgYWNjZXB0ZWQpO1xuICAgIG9uQ29tcGxldGUocmVzdWx0KTtcbiAgfVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZ2FwOiAxNixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHN0eWxlPntgXG4gICAgICAgICAgQGtleWZyYW1lcyBwb2xpc2hQdWxzZSB7XG4gICAgICAgICAgICAwJSwgMTAwJSB7IG9wYWNpdHk6IDAuNTsgfVxuICAgICAgICAgICAgNTAlIHsgb3BhY2l0eTogMTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBhbmltYXRpb246IFwicG9saXNoUHVsc2UgMnMgZWFzZS1pbi1vdXQgaW5maW5pdGVcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgUG9saXNoaW5nIHlvdXIgcHJvc2XigKZcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgd2lkdGg6IDQ4LFxuICAgICAgICAgICAgaGVpZ2h0OiAyLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogMSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogXCJwb2xpc2hQdWxzZSAycyBlYXNlLWluLW91dCBpbmZpbml0ZVwiLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTQsIGNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiIH19PntlcnJvcn08L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxNnB4XCIsXG4gICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgQmFjayB0byBlZGl0b3JcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGRvbmUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBnYXA6IDE2LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Q2hlY2tDaXJjbGUgc2l6ZT17MzJ9IHN0eWxlPXt7IGNvbG9yOiBcInZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIgfX0gLz5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTYsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIgfX0+XG4gICAgICAgICAge2FjY2VwdGVkQ291bnR9IHthY2NlcHRlZENvdW50ID09PSAxID8gXCJjaGFuZ2VcIiA6IFwiY2hhbmdlc1wifSBhY2NlcHRlZCwge3JlamVjdGVkQ291bnR9IHJlamVjdGVkXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRG9uZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogXCI4cHggMjRweFwiLFxuICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIERvbmVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxNnB4XCIsXG4gICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxBcnJvd0xlZnQgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0gLz5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIgfX0+XG4gICAgICAgICAge3Jlc29sdmVkQ291bnR9IC8ge3RvdGFsQ2hhbmdlc30gcmVzb2x2ZWRcbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgbWluSGVpZ2h0OiAwIH19PlxuICAgICAgICA8RGlmZlZpZXdcbiAgICAgICAgICBvcmlnaW5hbFRleHQ9e2NvbnRlbnR9XG4gICAgICAgICAgcmV2aXNlZFRleHQ9e3BvbGlzaGVkfVxuICAgICAgICAgIG9uQWNjZXB0QWxsPXtoYW5kbGVBY2NlcHRBbGx9XG4gICAgICAgICAgb25SZWplY3RBbGw9e2hhbmRsZVJlamVjdEFsbH1cbiAgICAgICAgICBvbkFjY2VwdENoYW5nZT17aGFuZGxlQWNjZXB0Q2hhbmdlfVxuICAgICAgICAgIG9uUmVqZWN0Q2hhbmdlPXtoYW5kbGVSZWplY3RDaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsIkNoZWNrQ2lyY2xlIiwiQXJyb3dMZWZ0IiwidXNlQXBwU3RvcmUiLCJjb21wdXRlRGlmZiIsImFwcGx5Q2hhbmdlcyIsIkRpZmZWaWV3IiwiUG9saXNoVmlldyIsImNvbnRlbnQiLCJvbkNvbXBsZXRlIiwib25DYW5jZWwiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInBvbGlzaGVkIiwic2V0UG9saXNoZWQiLCJlcnJvciIsInNldEVycm9yIiwiYWNjZXB0ZWQiLCJzZXRBY2NlcHRlZCIsInJlc29sdmVkIiwic2V0UmVzb2x2ZWQiLCJkb25lIiwic2V0RG9uZSIsInByZWZlcmVuY2VzIiwic2VsZWN0UHJlZnMiLCJzIiwiY2hhbmdlcyIsImNvbXB1dGVDaGFuZ2VzIiwidG90YWxDaGFuZ2VzIiwiY291bnRDaGFuZ2VzIiwiZmlsdGVyIiwiaXNDaGFuZ2UiLCJjIiwidHlwZSIsImxlbmd0aCIsInJlc29sdmVkQ291bnQiLCJjb3VudFJlc29sdmVkIiwiQm9vbGVhbiIsImFjY2VwdGVkQ291bnQiLCJjb3VudEFjY2VwdGVkIiwid2FzQWNjZXB0ZWQiLCJ2YWwiLCJpIiwicmVqZWN0ZWRDb3VudCIsInBvbGlzaCIsImtleXNTdG9yZWQiLCJjYW5jZWxsZWQiLCJydW4iLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRleHQiLCJtb2RlIiwibW9kZWwiLCJkZWZhdWx0TW9kZWwiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJyZXN1bHQiLCJkaWZmIiwiQXJyYXkiLCJmaWxsIiwiZXJyIiwibWVzc2FnZSIsImNsZWFudXAiLCJjaGVja0RvbmUiLCJoYW5kbGVBY2NlcHRDaGFuZ2UiLCJhY2NlcHRDaGFuZ2UiLCJpbmRleCIsInVwZGF0ZUFjY2VwdGVkIiwicHJldiIsIm5leHQiLCJ1cGRhdGVSZXNvbHZlZCIsImhhbmRsZVJlamVjdENoYW5nZSIsInJlamVjdENoYW5nZSIsImhhbmRsZUFjY2VwdEFsbCIsImFjY2VwdEFsbCIsIm1hcCIsInNldFRydWUiLCJoYW5kbGVSZWplY3RBbGwiLCJyZWplY3RBbGwiLCJzZXRGYWxzZSIsImhhbmRsZURvbmUiLCJkaXYiLCJzdHlsZSIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiZm9udEZhbWlseSIsImdhcCIsImZvbnRTaXplIiwiY29sb3IiLCJhbmltYXRpb24iLCJ3aWR0aCIsImJvcmRlclJhZGl1cyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwYWRkaW5nIiwiYm9yZGVyIiwiY3Vyc29yIiwic2l6ZSIsImZvbnRXZWlnaHQiLCJib3JkZXJCb3R0b20iLCJmbGV4IiwibWluSGVpZ2h0Iiwib3JpZ2luYWxUZXh0IiwicmV2aXNlZFRleHQiLCJvbkFjY2VwdEFsbCIsIm9uUmVqZWN0QWxsIiwib25BY2NlcHRDaGFuZ2UiLCJvblJlamVjdENoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/PolishView.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/PublishPanel.tsx":
/*!********************************************!*\
  !*** ./components/editor/PublishPanel.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PublishPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/archive.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,BookOpen,Download,ExternalLink,FileText,Loader2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/storage */ \"(ssr)/./lib/storage.ts\");\n/* harmony import */ var _lib_github__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/github */ \"(ssr)/./lib/github.ts\");\n/* harmony import */ var _lib_book__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/book */ \"(ssr)/./lib/book.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction flattenChapterIds(book) {\n    const result = [];\n    for (const part of book.parts){\n        for (const ch of part.chapters){\n            result.push({\n                id: ch.id,\n                label: ch.label,\n                file: ch.file\n            });\n        }\n    }\n    return result;\n}\nfunction downloadBlob(blob, filename) {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\nfunction StatusLabel({ status, format }) {\n    const labels = {\n        epub: \"Preparing your EPUB\",\n        pdf: \"Generating PDF\",\n        markdown: \"Bundling manuscript\"\n    };\n    if (status === \"loading\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 6,\n                fontSize: 12,\n                color: \"var(--color-accent)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    size: 14,\n                    style: {\n                        animation: \"spin 1s linear infinite\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 9\n                }, this),\n                labels[format]\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n            lineNumber: 55,\n            columnNumber: 7\n        }, this);\n    }\n    if (status === \"done\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 6,\n                fontSize: 12,\n                color: \"var(--color-success)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    size: 14\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                    lineNumber: 83,\n                    columnNumber: 9\n                }, this),\n                \"Downloaded\"\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n            lineNumber: 73,\n            columnNumber: 7\n        }, this);\n    }\n    if (status === \"error\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                fontSize: 12,\n                color: \"var(--color-error)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n            },\n            children: \"Export failed. Try again.\"\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n            lineNumber: 91,\n            columnNumber: 7\n        }, this);\n    }\n    return null;\n}\nfunction PublishPanel({ open, onClose }) {\n    const preferences = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectPrefs(s) {\n        return s.preferences;\n    });\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const [exportState, setExportState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        epub: \"idle\",\n        pdf: \"idle\",\n        markdown: \"idle\"\n    });\n    const [editingImprint, setEditingImprint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const repoKey = currentBook ?? \"local\";\n    const config = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.getItem)(\"scriva:config:\" + repoKey, null);\n    const book = config?.book;\n    const fetchAllChapters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async function fetchAll() {\n        if (!config || !book) throw new Error(\"No book configuration found\");\n        if (!preferences.keysStored) throw new Error(\"Keys not configured\");\n        const flat = flattenChapterIds(book);\n        const chapters = [];\n        for (const ch of flat){\n            const path = (0,_lib_book__WEBPACK_IMPORTED_MODULE_5__.getChapterPath)(book, ch.id);\n            if (!path) continue;\n            try {\n                const file = await (0,_lib_github__WEBPACK_IMPORTED_MODULE_4__.getFileContent)(config.owner, config.repo, path, config.branch);\n                chapters.push({\n                    title: ch.label,\n                    content: file.content,\n                    filename: ch.file\n                });\n            } catch  {\n                chapters.push({\n                    title: ch.label,\n                    content: \"\",\n                    filename: ch.file\n                });\n            }\n        }\n        return chapters;\n    }, [\n        config,\n        book,\n        preferences.keysStored\n    ]);\n    async function handleExportEpub() {\n        try {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    epub: \"loading\"\n                };\n            });\n            const chapters = await fetchAllChapters();\n            const response = await fetch(\"/api/export/epub\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    book: {\n                        title: book.title,\n                        author: book.author,\n                        description: book.description,\n                        coverImage: book.coverImage,\n                        subtitle: book.subtitle\n                    },\n                    chapters: chapters.map(function mapCh(ch) {\n                        return {\n                            title: ch.title,\n                            content: ch.content\n                        };\n                    })\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Export failed\");\n            }\n            const blob = await response.blob();\n            const safeName = (book.title || \"book\").replace(/[^a-zA-Z0-9 ]/g, \"\");\n            downloadBlob(blob, safeName + \".epub\");\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    epub: \"done\"\n                };\n            });\n        } catch  {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    epub: \"error\"\n                };\n            });\n        }\n    }\n    async function handleExportPdf() {\n        try {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    pdf: \"loading\"\n                };\n            });\n            const chapters = await fetchAllChapters();\n            const htmlParts = [];\n            if (book) {\n                htmlParts.push('<div style=\"text-align:center;margin-bottom:4rem;\">');\n                htmlParts.push('<h1 style=\"font-size:36px;font-weight:800;\">' + book.title + \"</h1>\");\n                if (book.subtitle) {\n                    htmlParts.push('<p style=\"font-size:20px;font-style:italic;color:#666;\">' + book.subtitle + \"</p>\");\n                }\n                htmlParts.push('<p style=\"font-size:14px;color:#999;letter-spacing:0.05em;\">by ' + book.author + \"</p>\");\n                htmlParts.push(\"</div>\");\n            }\n            for(let i = 0; i < chapters.length; i++){\n                const ch = chapters[i];\n                htmlParts.push('<div class=\"chapter\">');\n                htmlParts.push(\"<h2>\" + ch.title + \"</h2>\");\n                const lines = ch.content.split(\"\\n\");\n                for (const line of lines){\n                    const trimmed = line.trim();\n                    if (trimmed === \"\") continue;\n                    if (trimmed.startsWith(\"# \")) {\n                        htmlParts.push(\"<h1>\" + trimmed.slice(2) + \"</h1>\");\n                    } else if (trimmed.startsWith(\"## \")) {\n                        htmlParts.push(\"<h2>\" + trimmed.slice(3) + \"</h2>\");\n                    } else if (trimmed.startsWith(\"### \")) {\n                        htmlParts.push(\"<h3>\" + trimmed.slice(4) + \"</h3>\");\n                    } else if (trimmed.startsWith(\"> \")) {\n                        htmlParts.push(\"<blockquote><p>\" + trimmed.slice(2) + \"</p></blockquote>\");\n                    } else if (trimmed === \"---\") {\n                        htmlParts.push(\"<hr />\");\n                    } else {\n                        htmlParts.push(\"<p>\" + trimmed + \"</p>\");\n                    }\n                }\n                htmlParts.push(\"</div>\");\n            }\n            const response = await fetch(\"/api/export/pdf\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    html: htmlParts.join(\"\\n\")\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Export failed\");\n            }\n            const blob = await response.blob();\n            const safeName = (book?.title || \"manuscript\").replace(/[^a-zA-Z0-9 ]/g, \"\");\n            downloadBlob(blob, safeName + \".pdf\");\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    pdf: \"done\"\n                };\n            });\n        } catch  {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    pdf: \"error\"\n                };\n            });\n        }\n    }\n    async function handleExportMarkdown() {\n        try {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    markdown: \"loading\"\n                };\n            });\n            const chapters = await fetchAllChapters();\n            const response = await fetch(\"/api/export/markdown\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    book,\n                    chapters: chapters.map(function mapCh(ch) {\n                        return {\n                            filename: ch.filename,\n                            content: ch.content\n                        };\n                    })\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Export failed\");\n            }\n            const blob = await response.blob();\n            const safeName = (book?.title || \"manuscript\").replace(/[^a-zA-Z0-9 ]/g, \"\").replace(/\\s+/g, \"-\");\n            downloadBlob(blob, safeName + \"-manuscript.zip\");\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    markdown: \"done\"\n                };\n            });\n        } catch  {\n            setExportState(function set(s) {\n                return {\n                    ...s,\n                    markdown: \"error\"\n                };\n            });\n        }\n    }\n    if (!open) return null;\n    const exportOptions = [\n        {\n            format: \"epub\",\n            title: \"EPUB\",\n            description: \"E-book for Kindle, Apple Books, and other readers\",\n            icon: _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n            handler: handleExportEpub\n        },\n        {\n            format: \"pdf\",\n            title: \"PDF\",\n            description: \"Print-ready manuscript with professional typography\",\n            icon: _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n            handler: handleExportPdf\n        },\n        {\n            format: \"markdown\",\n            title: \"Manuscript Bundle\",\n            description: \"Markdown files in a zip archive\",\n            icon: _barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n            handler: handleExportMarkdown\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            inset: 0,\n            zIndex: 100,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n            backdropFilter: \"blur(4px)\"\n        },\n        onClick: function handleOverlayClick(e) {\n            if (e.target === e.currentTarget) {\n                onClose();\n            }\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: 520,\n                maxHeight: \"80vh\",\n                overflowY: \"auto\",\n                backgroundColor: \"var(--color-bg)\",\n                borderRadius: 16,\n                border: \"1px solid var(--color-border)\",\n                boxShadow: \"0 24px 64px rgba(0,0,0,0.3)\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                        padding: \"20px 24px 16px\",\n                        borderBottom: \"1px solid var(--color-border)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            style: {\n                                fontFamily: \"var(--font-literata), Georgia, serif\",\n                                fontSize: 20,\n                                fontWeight: 700,\n                                color: \"var(--color-text)\",\n                                margin: 0\n                            },\n                            children: \"Publish\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                            lineNumber: 387,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                width: 28,\n                                height: 28,\n                                borderRadius: 6,\n                                border: \"none\",\n                                background: \"transparent\",\n                                color: \"var(--color-text-muted)\",\n                                cursor: \"pointer\"\n                            },\n                            onMouseEnter: function onEnter(e) {\n                                e.currentTarget.style.background = \"var(--color-surface)\";\n                            },\n                            onMouseLeave: function onLeave(e) {\n                                e.currentTarget.style.background = \"transparent\";\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                size: 18\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                lineNumber: 419,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                            lineNumber: 398,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                    lineNumber: 378,\n                    columnNumber: 9\n                }, this),\n                book && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"16px 24px\",\n                        borderBottom: \"1px solid var(--color-border)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                alignItems: \"start\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            style: {\n                                                fontFamily: \"var(--font-literata), Georgia, serif\",\n                                                fontSize: 16,\n                                                fontWeight: 600,\n                                                color: \"var(--color-text)\",\n                                                margin: 0,\n                                                marginBottom: 4\n                                            },\n                                            children: book.title\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 432,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            style: {\n                                                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                                fontSize: 13,\n                                                color: \"var(--color-text-muted)\",\n                                                margin: 0\n                                            },\n                                            children: [\n                                                \"by \",\n                                                book.author\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 444,\n                                            columnNumber: 17\n                                        }, this),\n                                        book.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            style: {\n                                                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                                fontSize: 12,\n                                                color: \"var(--color-text-muted)\",\n                                                margin: \"6px 0 0\",\n                                                lineHeight: 1.5\n                                            },\n                                            children: book.description\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 455,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                    lineNumber: 431,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: function toggleImprint() {\n                                        setEditingImprint(function toggle(v) {\n                                            return !v;\n                                        });\n                                    },\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: 4,\n                                        fontSize: 12,\n                                        color: \"var(--color-accent)\",\n                                        background: \"none\",\n                                        border: \"none\",\n                                        cursor: \"pointer\",\n                                        fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                        whiteSpace: \"nowrap\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_BookOpen_Download_ExternalLink_FileText_Loader2_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Edit Imprint\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this),\n                        editingImprint && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                fontSize: 12,\n                                color: \"var(--color-text-muted)\",\n                                marginTop: 8,\n                                padding: \"8px 12px\",\n                                backgroundColor: \"var(--color-surface)\",\n                                borderRadius: 8,\n                                lineHeight: 1.5\n                            },\n                            children: \"Edit your book.json file to update the title, author, description, and cover image metadata used during export.\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                            lineNumber: 492,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                    lineNumber: 424,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"16px 24px 24px\",\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        gap: 12\n                    },\n                    children: exportOptions.map(function renderOption(opt) {\n                        const Icon = opt.icon;\n                        const status = exportState[opt.format];\n                        const isLoading = status === \"loading\";\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: isLoading ? undefined : opt.handler,\n                            disabled: isLoading,\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: 16,\n                                padding: 20,\n                                backgroundColor: \"var(--color-surface)\",\n                                border: \"1px solid var(--color-border)\",\n                                borderRadius: 12,\n                                cursor: isLoading ? \"wait\" : \"pointer\",\n                                textAlign: \"left\",\n                                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                width: \"100%\",\n                                transition: \"background-color 150ms ease, border-color 150ms ease\"\n                            },\n                            onMouseEnter: isLoading ? undefined : function onEnter(e) {\n                                e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                e.currentTarget.style.borderColor = \"var(--color-accent)\";\n                            },\n                            onMouseLeave: isLoading ? undefined : function onLeave(e) {\n                                e.currentTarget.style.backgroundColor = \"var(--color-surface)\";\n                                e.currentTarget.style.borderColor = \"var(--color-border)\";\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        justifyContent: \"center\",\n                                        width: 40,\n                                        height: 40,\n                                        borderRadius: 10,\n                                        backgroundColor: \"var(--color-bg)\",\n                                        color: \"var(--color-accent)\",\n                                        flexShrink: 0\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                        size: 20,\n                                        strokeWidth: 1.5\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                        lineNumber: 566,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        flex: 1,\n                                        minWidth: 0\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: 14,\n                                                fontWeight: 600,\n                                                color: \"var(--color-text)\",\n                                                marginBottom: 2\n                                            },\n                                            children: opt.title\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 569,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: 12,\n                                                color: \"var(--color-text-muted)\",\n                                                lineHeight: 1.4\n                                            },\n                                            children: opt.description\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusLabel, {\n                                            status: status,\n                                            format: opt.format\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                            lineNumber: 588,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                                    lineNumber: 568,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, opt.format, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                            lineNumber: 518,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n                    lineNumber: 511,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n            lineNumber: 367,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/PublishPanel.tsx\",\n        lineNumber: 350,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9QdWJsaXNoUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThDO0FBQ2lEO0FBQ3pEO0FBQ0U7QUFDTTtBQUNGO0FBaUI1QyxTQUFTYSxrQkFBa0JDLElBQVU7SUFDbkMsTUFBTUMsU0FBd0QsRUFBRTtJQUNoRSxLQUFLLE1BQU1DLFFBQVFGLEtBQUtHLEtBQUssQ0FBRTtRQUM3QixLQUFLLE1BQU1DLE1BQU1GLEtBQUtHLFFBQVEsQ0FBRTtZQUM5QkosT0FBT0ssSUFBSSxDQUFDO2dCQUFFQyxJQUFJSCxHQUFHRyxFQUFFO2dCQUFFQyxPQUFPSixHQUFHSSxLQUFLO2dCQUFFQyxNQUFNTCxHQUFHSyxJQUFJO1lBQUM7UUFDMUQ7SUFDRjtJQUNBLE9BQU9SO0FBQ1Q7QUFFQSxTQUFTUyxhQUFhQyxJQUFVLEVBQUVDLFFBQWdCO0lBQ2hELE1BQU1DLE1BQU1DLElBQUlDLGVBQWUsQ0FBQ0o7SUFDaEMsTUFBTUssSUFBSUMsU0FBU0MsYUFBYSxDQUFDO0lBQ2pDRixFQUFFRyxJQUFJLEdBQUdOO0lBQ1RHLEVBQUVJLFFBQVEsR0FBR1I7SUFDYkssU0FBU0ksSUFBSSxDQUFDQyxXQUFXLENBQUNOO0lBQzFCQSxFQUFFTyxLQUFLO0lBQ1BOLFNBQVNJLElBQUksQ0FBQ0csV0FBVyxDQUFDUjtJQUMxQkYsSUFBSVcsZUFBZSxDQUFDWjtBQUN0QjtBQUVBLFNBQVNhLFlBQVksRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQWtEO0lBQ3JGLE1BQU1DLFNBQXVDO1FBQzNDQyxNQUFNO1FBQ05DLEtBQUs7UUFDTEMsVUFBVTtJQUNaO0lBRUEsSUFBSUwsV0FBVyxXQUFXO1FBQ3hCLHFCQUNFLDhEQUFDTTtZQUNDQyxPQUFPO2dCQUNMQyxTQUFTO2dCQUNUQyxZQUFZO2dCQUNaQyxLQUFLO2dCQUNMQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxZQUFZO1lBQ2Q7OzhCQUVBLDhEQUFDaEQscUlBQU9B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Qzs7OENBR04sOERBQUNqRDtvQ0FDQ3hFLE9BQU87d0NBQ0xDLFNBQVM7d0NBQ1RDLFlBQVk7d0NBQ1owRSxnQkFBZ0I7d0NBQ2hCUSxPQUFPO3dDQUNQWSxRQUFRO3dDQUNSVCxjQUFjO3dDQUNkVixpQkFBaUI7d0NBQ2pCeEUsT0FBTzt3Q0FDUHFILFlBQVk7b0NBQ2Q7OENBRUEsNEVBQUNQO3dDQUFLNUcsTUFBTTt3Q0FBSW9ILGFBQWE7Ozs7Ozs7Ozs7OzhDQUUvQiw4REFBQ25EO29DQUFJeEUsT0FBTzt3Q0FBRTRILE1BQU07d0NBQUdDLFVBQVU7b0NBQUU7O3NEQUNqQyw4REFBQ3JEOzRDQUNDeEUsT0FBTztnREFDTEksVUFBVTtnREFDVnlGLFlBQVk7Z0RBQ1p4RixPQUFPO2dEQUNQbUcsY0FBYzs0Q0FDaEI7c0RBRUNVLElBQUlqRixLQUFLOzs7Ozs7c0RBRVosOERBQUN1Qzs0Q0FDQ3hFLE9BQU87Z0RBQ0xJLFVBQVU7Z0RBQ1ZDLE9BQU87Z0RBQ1BxRyxZQUFZOzRDQUNkO3NEQUVDUSxJQUFJdEUsV0FBVzs7Ozs7O3NEQUVsQiw4REFBQ3BEOzRDQUFZQyxRQUFRQTs0Q0FBUUMsUUFBUXdILElBQUl4SCxNQUFNOzs7Ozs7Ozs7Ozs7OzJCQXJFNUN3SCxJQUFJeEgsTUFBTTs7Ozs7b0JBeUVyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLViIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL1B1Ymxpc2hQYW5lbC50c3g/MzFiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBYLCBCb29rT3BlbiwgRmlsZVRleHQsIEFyY2hpdmUsIExvYWRlcjIsIERvd25sb2FkLCBFeHRlcm5hbExpbmsgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyBnZXRJdGVtIH0gZnJvbSBcIkAvbGliL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldEZpbGVDb250ZW50IH0gZnJvbSBcIkAvbGliL2dpdGh1YlwiO1xuaW1wb3J0IHsgZ2V0Q2hhcHRlclBhdGggfSBmcm9tIFwiQC9saWIvYm9va1wiO1xuaW1wb3J0IHR5cGUgeyBCb29rQ29uZmlnLCBCb29rIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuaW50ZXJmYWNlIFB1Ymxpc2hQYW5lbFByb3BzIHtcbiAgb3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBFeHBvcnRGb3JtYXQgPSBcImVwdWJcIiB8IFwicGRmXCIgfCBcIm1hcmtkb3duXCI7XG50eXBlIEV4cG9ydFN0YXR1cyA9IFwiaWRsZVwiIHwgXCJsb2FkaW5nXCIgfCBcImRvbmVcIiB8IFwiZXJyb3JcIjtcblxuaW50ZXJmYWNlIEV4cG9ydFN0YXRlIHtcbiAgZXB1YjogRXhwb3J0U3RhdHVzO1xuICBwZGY6IEV4cG9ydFN0YXR1cztcbiAgbWFya2Rvd246IEV4cG9ydFN0YXR1cztcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkNoYXB0ZXJJZHMoYm9vazogQm9vayk6IHsgaWQ6IHN0cmluZzsgbGFiZWw6IHN0cmluZzsgZmlsZTogc3RyaW5nIH1bXSB7XG4gIGNvbnN0IHJlc3VsdDogeyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyBmaWxlOiBzdHJpbmcgfVtdID0gW107XG4gIGZvciAoY29uc3QgcGFydCBvZiBib29rLnBhcnRzKSB7XG4gICAgZm9yIChjb25zdCBjaCBvZiBwYXJ0LmNoYXB0ZXJzKSB7XG4gICAgICByZXN1bHQucHVzaCh7IGlkOiBjaC5pZCwgbGFiZWw6IGNoLmxhYmVsLCBmaWxlOiBjaC5maWxlIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkb3dubG9hZEJsb2IoYmxvYjogQmxvYiwgZmlsZW5hbWU6IHN0cmluZykge1xuICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICBhLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbn1cblxuZnVuY3Rpb24gU3RhdHVzTGFiZWwoeyBzdGF0dXMsIGZvcm1hdCB9OiB7IHN0YXR1czogRXhwb3J0U3RhdHVzOyBmb3JtYXQ6IEV4cG9ydEZvcm1hdCB9KSB7XG4gIGNvbnN0IGxhYmVsczogUmVjb3JkPEV4cG9ydEZvcm1hdCwgc3RyaW5nPiA9IHtcbiAgICBlcHViOiBcIlByZXBhcmluZyB5b3VyIEVQVULigKZcIixcbiAgICBwZGY6IFwiR2VuZXJhdGluZyBQREbigKZcIixcbiAgICBtYXJrZG93bjogXCJCdW5kbGluZyBtYW51c2NyaXB04oCmXCIsXG4gIH07XG5cbiAgaWYgKHN0YXR1cyA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8TG9hZGVyMiBzaXplPXsxNH0gc3R5bGU9e3sgYW5pbWF0aW9uOiBcInNwaW4gMXMgbGluZWFyIGluZmluaXRlXCIgfX0gLz5cbiAgICAgICAge2xhYmVsc1tmb3JtYXRdfVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICBpZiAoc3RhdHVzID09PSBcImRvbmVcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgZ2FwOiA2LFxuICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1zdWNjZXNzKVwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8RG93bmxvYWQgc2l6ZT17MTR9IC8+XG4gICAgICAgIERvd25sb2FkZWRcbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgaWYgKHN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWVycm9yKVwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICBFeHBvcnQgZmFpbGVkLiBUcnkgYWdhaW4uXG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQdWJsaXNoUGFuZWwoeyBvcGVuLCBvbkNsb3NlIH06IFB1Ymxpc2hQYW5lbFByb3BzKSB7XG4gIGNvbnN0IHByZWZlcmVuY2VzID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0UHJlZnMocykge1xuICAgIHJldHVybiBzLnByZWZlcmVuY2VzO1xuICB9KTtcbiAgY29uc3QgY3VycmVudEJvb2sgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RCb29rKHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3IuY3VycmVudEJvb2s7XG4gIH0pO1xuXG4gIGNvbnN0IFtleHBvcnRTdGF0ZSwgc2V0RXhwb3J0U3RhdGVdID0gdXNlU3RhdGU8RXhwb3J0U3RhdGU+KHtcbiAgICBlcHViOiBcImlkbGVcIixcbiAgICBwZGY6IFwiaWRsZVwiLFxuICAgIG1hcmtkb3duOiBcImlkbGVcIixcbiAgfSk7XG4gIGNvbnN0IFtlZGl0aW5nSW1wcmludCwgc2V0RWRpdGluZ0ltcHJpbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHJlcG9LZXkgPSBjdXJyZW50Qm9vayA/PyBcImxvY2FsXCI7XG4gIGNvbnN0IGNvbmZpZyA9IGdldEl0ZW08Qm9va0NvbmZpZyB8IG51bGw+KFwic2NyaXZhOmNvbmZpZzpcIiArIHJlcG9LZXksIG51bGwpO1xuICBjb25zdCBib29rID0gY29uZmlnPy5ib29rO1xuXG4gIGNvbnN0IGZldGNoQWxsQ2hhcHRlcnMgPSB1c2VDYWxsYmFjayhhc3luYyBmdW5jdGlvbiBmZXRjaEFsbCgpIHtcbiAgICBpZiAoIWNvbmZpZyB8fCAhYm9vaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gYm9vayBjb25maWd1cmF0aW9uIGZvdW5kXCIpO1xuXG4gICAgaWYgKCFwcmVmZXJlbmNlcy5rZXlzU3RvcmVkKSB0aHJvdyBuZXcgRXJyb3IoXCJLZXlzIG5vdCBjb25maWd1cmVkXCIpO1xuXG4gICAgY29uc3QgZmxhdCA9IGZsYXR0ZW5DaGFwdGVySWRzKGJvb2spO1xuICAgIGNvbnN0IGNoYXB0ZXJzOiB7IHRpdGxlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgZmlsZW5hbWU6IHN0cmluZyB9W10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgY2ggb2YgZmxhdCkge1xuICAgICAgY29uc3QgcGF0aCA9IGdldENoYXB0ZXJQYXRoKGJvb2ssIGNoLmlkKTtcbiAgICAgIGlmICghcGF0aCkgY29udGludWU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBnZXRGaWxlQ29udGVudChcbiAgICAgICAgICBjb25maWcub3duZXIsXG4gICAgICAgICAgY29uZmlnLnJlcG8sXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBjb25maWcuYnJhbmNoLFxuICAgICAgICApO1xuICAgICAgICBjaGFwdGVycy5wdXNoKHtcbiAgICAgICAgICB0aXRsZTogY2gubGFiZWwsXG4gICAgICAgICAgY29udGVudDogZmlsZS5jb250ZW50LFxuICAgICAgICAgIGZpbGVuYW1lOiBjaC5maWxlLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBjaGFwdGVycy5wdXNoKHtcbiAgICAgICAgICB0aXRsZTogY2gubGFiZWwsXG4gICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICBmaWxlbmFtZTogY2guZmlsZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYXB0ZXJzO1xuICB9LCBbY29uZmlnLCBib29rLCBwcmVmZXJlbmNlcy5rZXlzU3RvcmVkXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRXhwb3J0RXB1YigpIHtcbiAgICB0cnkge1xuICAgICAgc2V0RXhwb3J0U3RhdGUoZnVuY3Rpb24gc2V0KHMpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgZXB1YjogXCJsb2FkaW5nXCIgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaGFwdGVycyA9IGF3YWl0IGZldGNoQWxsQ2hhcHRlcnMoKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvZXhwb3J0L2VwdWJcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBib29rOiB7XG4gICAgICAgICAgICB0aXRsZTogYm9vayEudGl0bGUsXG4gICAgICAgICAgICBhdXRob3I6IGJvb2shLmF1dGhvcixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBib29rIS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGNvdmVySW1hZ2U6IGJvb2shLmNvdmVySW1hZ2UsXG4gICAgICAgICAgICBzdWJ0aXRsZTogYm9vayEuc3VidGl0bGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGFwdGVyczogY2hhcHRlcnMubWFwKGZ1bmN0aW9uIG1hcENoKGNoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0aXRsZTogY2gudGl0bGUsIGNvbnRlbnQ6IGNoLmNvbnRlbnQgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBvcnQgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgY29uc3Qgc2FmZU5hbWUgPSAoYm9vayEudGl0bGUgfHwgXCJib29rXCIpLnJlcGxhY2UoL1teYS16QS1aMC05IF0vZywgXCJcIik7XG4gICAgICBkb3dubG9hZEJsb2IoYmxvYiwgc2FmZU5hbWUgKyBcIi5lcHViXCIpO1xuXG4gICAgICBzZXRFeHBvcnRTdGF0ZShmdW5jdGlvbiBzZXQocykge1xuICAgICAgICByZXR1cm4geyAuLi5zLCBlcHViOiBcImRvbmVcIiB9O1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFeHBvcnRTdGF0ZShmdW5jdGlvbiBzZXQocykge1xuICAgICAgICByZXR1cm4geyAuLi5zLCBlcHViOiBcImVycm9yXCIgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUV4cG9ydFBkZigpIHtcbiAgICB0cnkge1xuICAgICAgc2V0RXhwb3J0U3RhdGUoZnVuY3Rpb24gc2V0KHMpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgcGRmOiBcImxvYWRpbmdcIiB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNoYXB0ZXJzID0gYXdhaXQgZmV0Y2hBbGxDaGFwdGVycygpO1xuXG4gICAgICBjb25zdCBodG1sUGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGlmIChib29rKSB7XG4gICAgICAgIGh0bWxQYXJ0cy5wdXNoKCc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLWJvdHRvbTo0cmVtO1wiPicpO1xuICAgICAgICBodG1sUGFydHMucHVzaCgnPGgxIHN0eWxlPVwiZm9udC1zaXplOjM2cHg7Zm9udC13ZWlnaHQ6ODAwO1wiPicgKyBib29rLnRpdGxlICsgXCI8L2gxPlwiKTtcbiAgICAgICAgaWYgKGJvb2suc3VidGl0bGUpIHtcbiAgICAgICAgICBodG1sUGFydHMucHVzaChcbiAgICAgICAgICAgICc8cCBzdHlsZT1cImZvbnQtc2l6ZToyMHB4O2ZvbnQtc3R5bGU6aXRhbGljO2NvbG9yOiM2NjY7XCI+JyArIGJvb2suc3VidGl0bGUgKyBcIjwvcD5cIixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxQYXJ0cy5wdXNoKFxuICAgICAgICAgICc8cCBzdHlsZT1cImZvbnQtc2l6ZToxNHB4O2NvbG9yOiM5OTk7bGV0dGVyLXNwYWNpbmc6MC4wNWVtO1wiPmJ5ICcgKyBib29rLmF1dGhvciArIFwiPC9wPlwiLFxuICAgICAgICApO1xuICAgICAgICBodG1sUGFydHMucHVzaChcIjwvZGl2PlwiKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFwdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaCA9IGNoYXB0ZXJzW2ldO1xuICAgICAgICBodG1sUGFydHMucHVzaCgnPGRpdiBjbGFzcz1cImNoYXB0ZXJcIj4nKTtcbiAgICAgICAgaHRtbFBhcnRzLnB1c2goXCI8aDI+XCIgKyBjaC50aXRsZSArIFwiPC9oMj5cIik7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY2guY29udGVudC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZCA9IGxpbmUudHJpbSgpO1xuICAgICAgICAgIGlmICh0cmltbWVkID09PSBcIlwiKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAodHJpbW1lZC5zdGFydHNXaXRoKFwiIyBcIikpIHtcbiAgICAgICAgICAgIGh0bWxQYXJ0cy5wdXNoKFwiPGgxPlwiICsgdHJpbW1lZC5zbGljZSgyKSArIFwiPC9oMT5cIik7XG4gICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoXCIjIyBcIikpIHtcbiAgICAgICAgICAgIGh0bWxQYXJ0cy5wdXNoKFwiPGgyPlwiICsgdHJpbW1lZC5zbGljZSgzKSArIFwiPC9oMj5cIik7XG4gICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoXCIjIyMgXCIpKSB7XG4gICAgICAgICAgICBodG1sUGFydHMucHVzaChcIjxoMz5cIiArIHRyaW1tZWQuc2xpY2UoNCkgKyBcIjwvaDM+XCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZC5zdGFydHNXaXRoKFwiPiBcIikpIHtcbiAgICAgICAgICAgIGh0bWxQYXJ0cy5wdXNoKFwiPGJsb2NrcXVvdGU+PHA+XCIgKyB0cmltbWVkLnNsaWNlKDIpICsgXCI8L3A+PC9ibG9ja3F1b3RlPlwiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWQgPT09IFwiLS0tXCIpIHtcbiAgICAgICAgICAgIGh0bWxQYXJ0cy5wdXNoKFwiPGhyIC8+XCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sUGFydHMucHVzaChcIjxwPlwiICsgdHJpbW1lZCArIFwiPC9wPlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaHRtbFBhcnRzLnB1c2goXCI8L2Rpdj5cIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2V4cG9ydC9wZGZcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaHRtbDogaHRtbFBhcnRzLmpvaW4oXCJcXG5cIikgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgXCJFeHBvcnQgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgY29uc3Qgc2FmZU5hbWUgPSAoYm9vaz8udGl0bGUgfHwgXCJtYW51c2NyaXB0XCIpLnJlcGxhY2UoL1teYS16QS1aMC05IF0vZywgXCJcIik7XG4gICAgICBkb3dubG9hZEJsb2IoYmxvYiwgc2FmZU5hbWUgKyBcIi5wZGZcIik7XG5cbiAgICAgIHNldEV4cG9ydFN0YXRlKGZ1bmN0aW9uIHNldChzKSB7XG4gICAgICAgIHJldHVybiB7IC4uLnMsIHBkZjogXCJkb25lXCIgfTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgc2V0RXhwb3J0U3RhdGUoZnVuY3Rpb24gc2V0KHMpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgcGRmOiBcImVycm9yXCIgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUV4cG9ydE1hcmtkb3duKCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRFeHBvcnRTdGF0ZShmdW5jdGlvbiBzZXQocykge1xuICAgICAgICByZXR1cm4geyAuLi5zLCBtYXJrZG93bjogXCJsb2FkaW5nXCIgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaGFwdGVycyA9IGF3YWl0IGZldGNoQWxsQ2hhcHRlcnMoKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvZXhwb3J0L21hcmtkb3duXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYm9vayxcbiAgICAgICAgICBjaGFwdGVyczogY2hhcHRlcnMubWFwKGZ1bmN0aW9uIG1hcENoKGNoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmaWxlbmFtZTogY2guZmlsZW5hbWUsIGNvbnRlbnQ6IGNoLmNvbnRlbnQgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBvcnQgZmFpbGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgY29uc3Qgc2FmZU5hbWUgPSAoYm9vaz8udGl0bGUgfHwgXCJtYW51c2NyaXB0XCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOSBdL2csIFwiXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgICAgIGRvd25sb2FkQmxvYihibG9iLCBzYWZlTmFtZSArIFwiLW1hbnVzY3JpcHQuemlwXCIpO1xuXG4gICAgICBzZXRFeHBvcnRTdGF0ZShmdW5jdGlvbiBzZXQocykge1xuICAgICAgICByZXR1cm4geyAuLi5zLCBtYXJrZG93bjogXCJkb25lXCIgfTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgc2V0RXhwb3J0U3RhdGUoZnVuY3Rpb24gc2V0KHMpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgbWFya2Rvd246IFwiZXJyb3JcIiB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFvcGVuKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBleHBvcnRPcHRpb25zOiB7XG4gICAgZm9ybWF0OiBFeHBvcnRGb3JtYXQ7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGljb246IHR5cGVvZiBCb29rT3BlbjtcbiAgICBoYW5kbGVyOiAoKSA9PiB2b2lkO1xuICB9W10gPSBbXG4gICAge1xuICAgICAgZm9ybWF0OiBcImVwdWJcIixcbiAgICAgIHRpdGxlOiBcIkVQVUJcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkUtYm9vayBmb3IgS2luZGxlLCBBcHBsZSBCb29rcywgYW5kIG90aGVyIHJlYWRlcnNcIixcbiAgICAgIGljb246IEJvb2tPcGVuLFxuICAgICAgaGFuZGxlcjogaGFuZGxlRXhwb3J0RXB1YixcbiAgICB9LFxuICAgIHtcbiAgICAgIGZvcm1hdDogXCJwZGZcIixcbiAgICAgIHRpdGxlOiBcIlBERlwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiUHJpbnQtcmVhZHkgbWFudXNjcmlwdCB3aXRoIHByb2Zlc3Npb25hbCB0eXBvZ3JhcGh5XCIsXG4gICAgICBpY29uOiBGaWxlVGV4dCxcbiAgICAgIGhhbmRsZXI6IGhhbmRsZUV4cG9ydFBkZixcbiAgICB9LFxuICAgIHtcbiAgICAgIGZvcm1hdDogXCJtYXJrZG93blwiLFxuICAgICAgdGl0bGU6IFwiTWFudXNjcmlwdCBCdW5kbGVcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIk1hcmtkb3duIGZpbGVzIGluIGEgemlwIGFyY2hpdmVcIixcbiAgICAgIGljb246IEFyY2hpdmUsXG4gICAgICBoYW5kbGVyOiBoYW5kbGVFeHBvcnRNYXJrZG93bixcbiAgICB9LFxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgaW5zZXQ6IDAsXG4gICAgICAgIHpJbmRleDogMTAwLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDAuNSlcIixcbiAgICAgICAgYmFja2Ryb3BGaWx0ZXI6IFwiYmx1cig0cHgpXCIsXG4gICAgICB9fVxuICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlT3ZlcmxheUNsaWNrKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiA1MjAsXG4gICAgICAgICAgbWF4SGVpZ2h0OiBcIjgwdmhcIixcbiAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDE2LFxuICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIGJveFNoYWRvdzogXCIwIDI0cHggNjRweCByZ2JhKDAsMCwwLDAuMylcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjIwcHggMjRweCAxNnB4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGgyXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtbGl0ZXJhdGEpLCBHZW9yZ2lhLCBzZXJpZlwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMjAsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDcwMCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBQdWJsaXNoXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB3aWR0aDogMjgsXG4gICAgICAgICAgICAgIGhlaWdodDogMjgsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WCBzaXplPXsxOH0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2Jvb2sgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTZweCAyNHB4XCIsXG4gICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsIGFsaWduSXRlbXM6IFwic3RhcnRcIiB9fT5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDNcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1saXRlcmF0YSksIEdlb3JnaWEsIHNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogNCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2Jvb2sudGl0bGV9XG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBieSB7Ym9vay5hdXRob3J9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIHtib29rLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjZweCAwIDBcIixcbiAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjUsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtib29rLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gdG9nZ2xlSW1wcmludCgpIHtcbiAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdJbXByaW50KGZ1bmN0aW9uIHRvZ2dsZSh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhdjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAgRWRpdCBJbXByaW50XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7ZWRpdGluZ0ltcHJpbnQgJiYgKFxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDgsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxMnB4XCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRWRpdCB5b3VyIGJvb2suanNvbiBmaWxlIHRvIHVwZGF0ZSB0aGUgdGl0bGUsIGF1dGhvciwgZGVzY3JpcHRpb24sIGFuZCBjb3ZlclxuICAgICAgICAgICAgICAgIGltYWdlIG1ldGFkYXRhIHVzZWQgZHVyaW5nIGV4cG9ydC5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IFwiMTZweCAyNHB4IDI0cHhcIiwgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGdhcDogMTIgfX0+XG4gICAgICAgICAge2V4cG9ydE9wdGlvbnMubWFwKGZ1bmN0aW9uIHJlbmRlck9wdGlvbihvcHQpIHtcbiAgICAgICAgICAgIGNvbnN0IEljb24gPSBvcHQuaWNvbjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGV4cG9ydFN0YXRlW29wdC5mb3JtYXRdO1xuICAgICAgICAgICAgY29uc3QgaXNMb2FkaW5nID0gc3RhdHVzID09PSBcImxvYWRpbmdcIjtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17b3B0LmZvcm1hdH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtpc0xvYWRpbmcgPyB1bmRlZmluZWQgOiBvcHQuaGFuZGxlcn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IDE2LFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogaXNMb2FkaW5nID8gXCJ3YWl0XCIgOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZC1jb2xvciAxNTBtcyBlYXNlLCBib3JkZXItY29sb3IgMTUwbXMgZWFzZVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtcbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIG9uRW50ZXIoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9IFwidmFyKC0tY29sb3ItYWNjZW50KVwiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtcbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIG9uTGVhdmUoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9IFwidmFyKC0tY29sb3ItYm9yZGVyKVwiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MCxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxJY29uIHNpemU9ezIwfSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgbWluV2lkdGg6IDAgfX0+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge29wdC50aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNCxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge29wdC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPFN0YXR1c0xhYmVsIHN0YXR1cz17c3RhdHVzfSBmb3JtYXQ9e29wdC5mb3JtYXR9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiWCIsIkJvb2tPcGVuIiwiRmlsZVRleHQiLCJBcmNoaXZlIiwiTG9hZGVyMiIsIkRvd25sb2FkIiwiRXh0ZXJuYWxMaW5rIiwidXNlQXBwU3RvcmUiLCJnZXRJdGVtIiwiZ2V0RmlsZUNvbnRlbnQiLCJnZXRDaGFwdGVyUGF0aCIsImZsYXR0ZW5DaGFwdGVySWRzIiwiYm9vayIsInJlc3VsdCIsInBhcnQiLCJwYXJ0cyIsImNoIiwiY2hhcHRlcnMiLCJwdXNoIiwiaWQiLCJsYWJlbCIsImZpbGUiLCJkb3dubG9hZEJsb2IiLCJibG9iIiwiZmlsZW5hbWUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsIlN0YXR1c0xhYmVsIiwic3RhdHVzIiwiZm9ybWF0IiwibGFiZWxzIiwiZXB1YiIsInBkZiIsIm1hcmtkb3duIiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udEZhbWlseSIsInNpemUiLCJhbmltYXRpb24iLCJQdWJsaXNoUGFuZWwiLCJvcGVuIiwib25DbG9zZSIsInByZWZlcmVuY2VzIiwic2VsZWN0UHJlZnMiLCJzIiwiY3VycmVudEJvb2siLCJzZWxlY3RCb29rIiwiZWRpdG9yIiwiZXhwb3J0U3RhdGUiLCJzZXRFeHBvcnRTdGF0ZSIsImVkaXRpbmdJbXByaW50Iiwic2V0RWRpdGluZ0ltcHJpbnQiLCJyZXBvS2V5IiwiY29uZmlnIiwiZmV0Y2hBbGxDaGFwdGVycyIsImZldGNoQWxsIiwiRXJyb3IiLCJrZXlzU3RvcmVkIiwiZmxhdCIsInBhdGgiLCJvd25lciIsInJlcG8iLCJicmFuY2giLCJ0aXRsZSIsImNvbnRlbnQiLCJoYW5kbGVFeHBvcnRFcHViIiwic2V0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yIiwiZGVzY3JpcHRpb24iLCJjb3ZlckltYWdlIiwic3VidGl0bGUiLCJtYXAiLCJtYXBDaCIsIm9rIiwic2FmZU5hbWUiLCJyZXBsYWNlIiwiaGFuZGxlRXhwb3J0UGRmIiwiaHRtbFBhcnRzIiwiaSIsImxlbmd0aCIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwidHJpbW1lZCIsInRyaW0iLCJzdGFydHNXaXRoIiwic2xpY2UiLCJodG1sIiwiam9pbiIsImVycm9yRGF0YSIsImpzb24iLCJlcnJvciIsImhhbmRsZUV4cG9ydE1hcmtkb3duIiwiZXhwb3J0T3B0aW9ucyIsImljb24iLCJoYW5kbGVyIiwiZGl2IiwicG9zaXRpb24iLCJpbnNldCIsInpJbmRleCIsImp1c3RpZnlDb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2Ryb3BGaWx0ZXIiLCJvbkNsaWNrIiwiaGFuZGxlT3ZlcmxheUNsaWNrIiwiZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsImJveFNoYWRvdyIsInBhZGRpbmciLCJib3JkZXJCb3R0b20iLCJoMiIsImZvbnRXZWlnaHQiLCJtYXJnaW4iLCJidXR0b24iLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwiY3Vyc29yIiwib25Nb3VzZUVudGVyIiwib25FbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9uTGVhdmUiLCJoMyIsIm1hcmdpbkJvdHRvbSIsInAiLCJsaW5lSGVpZ2h0IiwidG9nZ2xlSW1wcmludCIsInRvZ2dsZSIsInYiLCJ3aGl0ZVNwYWNlIiwibWFyZ2luVG9wIiwiZmxleERpcmVjdGlvbiIsInJlbmRlck9wdGlvbiIsIm9wdCIsIkljb24iLCJpc0xvYWRpbmciLCJ1bmRlZmluZWQiLCJkaXNhYmxlZCIsInRleHRBbGlnbiIsInRyYW5zaXRpb24iLCJib3JkZXJDb2xvciIsImZsZXhTaHJpbmsiLCJzdHJva2VXaWR0aCIsImZsZXgiLCJtaW5XaWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/PublishPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/SelectionToolbar.tsx":
/*!************************************************!*\
  !*** ./components/editor/SelectionToolbar.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionToolbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bold.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/italic.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/strikethrough.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-1.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-2.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-3.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/highlighter.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/link.js\");\n/* harmony import */ var _barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bold,Heading1,Heading2,Heading3,Highlighter,Italic,Link,Sparkles,Strikethrough!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/tokens */ \"(ssr)/./lib/tokens.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nconst QUICK_ACTIONS = [\n    {\n        label: \"Polish\",\n        mode: \"cleanup\",\n        instruction: \"\"\n    },\n    {\n        label: \"Simplify\",\n        mode: \"inline\",\n        instruction: \"Simplify this text. Make it clearer and more concise.\"\n    },\n    {\n        label: \"Expand\",\n        mode: \"inline\",\n        instruction: \"Expand this text with more detail and description while maintaining the same style.\"\n    }\n];\nfunction SelectionToolbar({ editor, selectedText, position, onAIResult, onClose }) {\n    const [instruction, setInstruction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [linkMode, setLinkMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [linkUrl, setLinkUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toolbarRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const linkInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const preferences = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectPrefs(s) {\n        return s.preferences;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function handleEscape() {\n        function onKeyDown(e) {\n            if (e.key === \"Escape\") {\n                if (linkMode) {\n                    setLinkMode(false);\n                    setLinkUrl(\"\");\n                } else {\n                    onClose();\n                }\n            }\n        }\n        window.addEventListener(\"keydown\", onKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", onKeyDown);\n        };\n    }, [\n        onClose,\n        linkMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function focusLinkInput() {\n        if (linkMode && linkInputRef.current) {\n            linkInputRef.current.focus();\n        }\n    }, [\n        linkMode\n    ]);\n    async function handleEdit(mode, customInstruction) {\n        if (!preferences.keysStored) return;\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/ai/edit\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    text: selectedText,\n                    instruction: customInstruction,\n                    mode,\n                    model: preferences.defaultModel\n                })\n            });\n            if (!res.ok) throw new Error(\"API error: \" + res.status);\n            const data = await res.json();\n            if (data.result) {\n                onAIResult(selectedText, data.result);\n            }\n        } catch  {} finally{\n            setLoading(false);\n        }\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        if (!instruction.trim()) return;\n        handleEdit(\"inline\", instruction.trim());\n    }\n    function handleKeyDown(e) {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSubmit(e);\n        }\n    }\n    function handleLinkSubmit(e) {\n        e.preventDefault();\n        if (!linkUrl.trim()) return;\n        editor.chain().focus().setLink({\n            href: linkUrl.trim()\n        }).run();\n        setLinkMode(false);\n        setLinkUrl(\"\");\n    }\n    function handleLinkKeyDown(e) {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            handleLinkSubmit(e);\n        }\n    }\n    function formatBtn(icon, action, active, title) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            title: title,\n            onMouseDown: function preventBlur(e) {\n                e.preventDefault();\n            },\n            onClick: action,\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                width: 28,\n                height: 28,\n                borderRadius: 4,\n                border: \"none\",\n                backgroundColor: active ? \"var(--color-accent)\" : \"transparent\",\n                color: active ? \"#fff\" : \"var(--color-text)\",\n                cursor: \"pointer\",\n                flexShrink: 0,\n                transition: \"background-color 100ms\"\n            },\n            children: icon\n        }, title, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n            lineNumber: 139,\n            columnNumber: 7\n        }, this);\n    }\n    function separator() {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: 1,\n                height: 18,\n                backgroundColor: \"var(--color-border)\",\n                margin: \"0 4px\",\n                flexShrink: 0\n            }\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n            lineNumber: 168,\n            columnNumber: 7\n        }, this);\n    }\n    const tokenEstimate = `~${(0,_lib_tokens__WEBPACK_IMPORTED_MODULE_3__.formatTokenCount)((0,_lib_tokens__WEBPACK_IMPORTED_MODULE_3__.estimateTokens)(selectedText))}t`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: toolbarRef,\n        onMouseDown: function preventFocusSteal(e) {\n            var target = e.target;\n            if (target.tagName !== \"INPUT\" && target.tagName !== \"TEXTAREA\") {\n                e.preventDefault();\n            }\n        },\n        style: {\n            position: \"absolute\",\n            top: position.top - 52,\n            left: position.left,\n            transform: \"translateY(-100%)\",\n            backgroundColor: \"var(--color-surface)\",\n            border: \"1px solid var(--color-border)\",\n            borderRadius: 10,\n            boxShadow: \"0 4px 20px rgba(0,0,0,0.15)\",\n            padding: 0,\n            display: \"flex\",\n            flexDirection: \"column\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            zIndex: 50,\n            animation: \"selToolbarIn 200ms ease-out\",\n            minWidth: 320\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: `\n        @keyframes selToolbarIn {\n          from { opacity: 0; transform: translateY(-100%) translateY(4px) scale(0.98); }\n          to { opacity: 1; transform: translateY(-100%) scale(1); }\n        }\n      `\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                lineNumber: 209,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 2,\n                    padding: \"6px 8px\"\n                },\n                children: [\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 11\n                    }, this), function toggleBold() {\n                        editor.chain().focus().toggleBold().run();\n                    }, editor.isActive(\"bold\"), \"Bold\"),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 11\n                    }, this), function toggleItalic() {\n                        editor.chain().focus().toggleItalic().run();\n                    }, editor.isActive(\"italic\"), \"Italic\"),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 237,\n                        columnNumber: 11\n                    }, this), function toggleStrike() {\n                        editor.chain().focus().toggleStrike().run();\n                    }, editor.isActive(\"strike\"), \"Strikethrough\"),\n                    separator(),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 11\n                    }, this), function toggleH1() {\n                        editor.chain().focus().toggleHeading({\n                            level: 1\n                        }).run();\n                    }, editor.isActive(\"heading\", {\n                        level: 1\n                    }), \"Heading 1\"),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 252,\n                        columnNumber: 11\n                    }, this), function toggleH2() {\n                        editor.chain().focus().toggleHeading({\n                            level: 2\n                        }).run();\n                    }, editor.isActive(\"heading\", {\n                        level: 2\n                    }), \"Heading 2\"),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 258,\n                        columnNumber: 11\n                    }, this), function toggleH3() {\n                        editor.chain().focus().toggleHeading({\n                            level: 3\n                        }).run();\n                    }, editor.isActive(\"heading\", {\n                        level: 3\n                    }), \"Heading 3\"),\n                    separator(),\n                    formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 267,\n                        columnNumber: 11\n                    }, this), function toggleHighlight() {\n                        editor.chain().focus().toggleHighlight({\n                            color: \"#fef08a\"\n                        }).run();\n                    }, editor.isActive(\"highlight\"), \"Highlight\"),\n                    linkMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleLinkSubmit,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            marginLeft: 2\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: linkInputRef,\n                            type: \"text\",\n                            value: linkUrl,\n                            onChange: function handleLinkChange(e) {\n                                setLinkUrl(e.target.value);\n                            },\n                            onKeyDown: handleLinkKeyDown,\n                            placeholder: \"https://...\",\n                            style: {\n                                width: 120,\n                                padding: \"3px 6px\",\n                                fontSize: 11,\n                                fontFamily: \"inherit\",\n                                backgroundColor: \"var(--color-bg)\",\n                                color: \"var(--color-text)\",\n                                border: \"1px solid var(--color-border)\",\n                                borderRadius: 4,\n                                outline: \"none\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                            lineNumber: 282,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 11\n                    }, this) : formatBtn(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 306,\n                        columnNumber: 13\n                    }, this), function openLink() {\n                        setLinkMode(true);\n                    }, editor.isActive(\"link\"), \"Link\")\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                lineNumber: 216,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: 1,\n                    backgroundColor: \"var(--color-border)\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                lineNumber: 314,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 6,\n                    padding: \"8px 10px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSubmit,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 6\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: inputRef,\n                                type: \"text\",\n                                value: instruction,\n                                onChange: function handleChange(e) {\n                                    setInstruction(e.target.value);\n                                },\n                                onKeyDown: handleKeyDown,\n                                placeholder: \"Make this more concise...\",\n                                disabled: loading,\n                                style: {\n                                    flex: 1,\n                                    padding: \"6px 8px\",\n                                    fontSize: 12,\n                                    fontFamily: \"inherit\",\n                                    backgroundColor: \"var(--color-bg)\",\n                                    color: \"var(--color-text)\",\n                                    border: \"1px solid var(--color-border)\",\n                                    borderRadius: 6,\n                                    outline: \"none\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                lineNumber: 337,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                disabled: !instruction.trim() || loading,\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 28,\n                                    height: 28,\n                                    borderRadius: 6,\n                                    border: \"none\",\n                                    backgroundColor: instruction.trim() && !loading ? \"var(--color-accent)\" : \"var(--color-surface-hover)\",\n                                    color: instruction.trim() && !loading ? \"#fff\" : \"var(--color-text-muted)\",\n                                    cursor: instruction.trim() && !loading ? \"pointer\" : \"default\",\n                                    flexShrink: 0\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bold_Heading1_Heading2_Heading3_Highlighter_Italic_Link_Sparkles_Strikethrough_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                    lineNumber: 378,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                lineNumber: 359,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 329,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 4\n                        },\n                        children: [\n                            QUICK_ACTIONS.map(function renderAction(action) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: function handleClick() {\n                                        handleEdit(action.mode, action.instruction);\n                                    },\n                                    disabled: loading,\n                                    style: {\n                                        padding: \"4px 10px\",\n                                        fontSize: 11,\n                                        fontFamily: \"inherit\",\n                                        border: \"1px solid var(--color-border)\",\n                                        borderRadius: 5,\n                                        backgroundColor: \"transparent\",\n                                        color: loading ? \"var(--color-text-muted)\" : \"var(--color-text)\",\n                                        cursor: loading ? \"default\" : \"pointer\",\n                                        transition: \"background-color 100ms\"\n                                    },\n                                    children: action.label\n                                }, action.label, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                    lineNumber: 385,\n                                    columnNumber: 15\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    marginLeft: \"auto\",\n                                    fontSize: 10,\n                                    color: \"var(--color-text-muted)\",\n                                    alignSelf: \"center\"\n                                },\n                                children: tokenEstimate\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                lineNumber: 407,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 382,\n                        columnNumber: 9\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: 11,\n                            color: \"var(--color-text-muted)\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 6,\n                            padding: \"2px 0\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    width: 12,\n                                    height: 12,\n                                    border: \"2px solid var(--color-border)\",\n                                    borderTopColor: \"var(--color-accent)\",\n                                    borderRadius: \"50%\",\n                                    animation: \"spin 0.8s linear infinite\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                                lineNumber: 430,\n                                columnNumber: 13\n                            }, this),\n                            \"Editing...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                        lineNumber: 420,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n                lineNumber: 321,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SelectionToolbar.tsx\",\n        lineNumber: 183,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9TZWxlY3Rpb25Ub29sYmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVvRDtBQVc5QjtBQUVnQjtBQUMwQjtBQVVoRSxNQUFNZSxnQkFBZ0I7SUFDcEI7UUFBRUMsT0FBTztRQUFVQyxNQUFNO1FBQW9CQyxhQUFhO0lBQUc7SUFDN0Q7UUFBRUYsT0FBTztRQUFZQyxNQUFNO1FBQW1CQyxhQUFhO0lBQXdEO0lBQ25IO1FBQUVGLE9BQU87UUFBVUMsTUFBTTtRQUFtQkMsYUFBYTtJQUFzRjtDQUNoSjtBQUVjLFNBQVNDLGlCQUFpQixFQUN2Q0MsTUFBTSxFQUNOQyxZQUFZLEVBQ1pDLFFBQVEsRUFDUkMsVUFBVSxFQUNWQyxPQUFPLEVBQ2U7SUFDdEIsTUFBTSxDQUFDTixhQUFhTyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUMwQixTQUFTQyxXQUFXLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUM4QixTQUFTQyxXQUFXLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNZ0MsYUFBYS9CLDZDQUFNQSxDQUFpQjtJQUMxQyxNQUFNZ0MsV0FBV2hDLDZDQUFNQSxDQUFtQjtJQUMxQyxNQUFNaUMsZUFBZWpDLDZDQUFNQSxDQUFtQjtJQUM5QyxNQUFNa0MsY0FBY3ZCLG1EQUFXQSxDQUFDLFNBQVN3QixZQUFZQyxDQUFDO1FBQ3BELE9BQU9BLEVBQUVGLFdBQVc7SUFDdEI7SUFFQWpDLGdEQUFTQSxDQUFDLFNBQVNvQztRQUNqQixTQUFTQyxVQUFVQyxDQUFnQjtZQUNqQyxJQUFJQSxFQUFFQyxHQUFHLEtBQUssVUFBVTtnQkFDdEIsSUFBSWIsVUFBVTtvQkFDWkMsWUFBWTtvQkFDWkUsV0FBVztnQkFDYixPQUFPO29CQUNMUDtnQkFDRjtZQUNGO1FBQ0Y7UUFDQWtCLE9BQU9DLGdCQUFnQixDQUFDLFdBQVdKO1FBQ25DLE9BQU8sU0FBU0s7WUFDZEYsT0FBT0csbUJBQW1CLENBQUMsV0FBV047UUFDeEM7SUFDRixHQUFHO1FBQUNmO1FBQVNJO0tBQVM7SUFFdEIxQixnREFBU0EsQ0FBQyxTQUFTNEM7UUFDakIsSUFBSWxCLFlBQVlNLGFBQWFhLE9BQU8sRUFBRTtZQUNwQ2IsYUFBYWEsT0FBTyxDQUFDQyxLQUFLO1FBQzVCO0lBQ0YsR0FBRztRQUFDcEI7S0FBUztJQUViLGVBQWVxQixXQUFXaEMsSUFBMEIsRUFBRWlDLGlCQUF5QjtRQUM3RSxJQUFJLENBQUNmLFlBQVlnQixVQUFVLEVBQUU7UUFDN0J4QixXQUFXO1FBRVgsSUFBSTtZQUNGLE1BQU15QixNQUFNLE1BQU1DLE1BQU0sZ0JBQWdCO2dCQUN0Q0MsUUFBUTtnQkFDUkMsU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CQyxNQUFNdEM7b0JBQ05ILGFBQWFnQztvQkFDYmpDO29CQUNBMkMsT0FBT3pCLFlBQVkwQixZQUFZO2dCQUNqQztZQUNGO1lBRUEsSUFBSSxDQUFDVCxJQUFJVSxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNLGdCQUFnQlgsSUFBSVksTUFBTTtZQUV2RCxNQUFNQyxPQUFPLE1BQU1iLElBQUljLElBQUk7WUFDM0IsSUFBSUQsS0FBS0UsTUFBTSxFQUFFO2dCQUNmNUMsV0FBV0YsY0FBYzRDLEtBQUtFLE1BQU07WUFDdEM7UUFDRixFQUFFLE9BQU0sQ0FDUixTQUFVO1lBQ1J4QyxXQUFXO1FBQ2I7SUFDRjtJQUVBLFNBQVN5QyxhQUFhNUIsQ0FBa0I7UUFDdENBLEVBQUU2QixjQUFjO1FBQ2hCLElBQUksQ0FBQ25ELFlBQVlvRCxJQUFJLElBQUk7UUFDekJyQixXQUFXLFVBQVUvQixZQUFZb0QsSUFBSTtJQUN2QztJQUVBLFNBQVNDLGNBQWMvQixDQUFzQjtRQUMzQyxJQUFJQSxFQUFFQyxHQUFHLEtBQUssV0FBVyxDQUFDRCxFQUFFZ0MsUUFBUSxFQUFFO1lBQ3BDaEMsRUFBRTZCLGNBQWM7WUFDaEJELGFBQWE1QjtRQUNmO0lBQ0Y7SUFFQSxTQUFTaUMsaUJBQWlCakMsQ0FBa0I7UUFDMUNBLEVBQUU2QixjQUFjO1FBQ2hCLElBQUksQ0FBQ3ZDLFFBQVF3QyxJQUFJLElBQUk7UUFDckJsRCxPQUFPc0QsS0FBSyxHQUFHMUIsS0FBSyxHQUFHMkIsT0FBTyxDQUFDO1lBQUVDLE1BQU05QyxRQUFRd0MsSUFBSTtRQUFHLEdBQUdPLEdBQUc7UUFDNURoRCxZQUFZO1FBQ1pFLFdBQVc7SUFDYjtJQUVBLFNBQVMrQyxrQkFBa0J0QyxDQUFzQjtRQUMvQyxJQUFJQSxFQUFFQyxHQUFHLEtBQUssU0FBUztZQUNyQkQsRUFBRTZCLGNBQWM7WUFDaEJJLGlCQUFpQmpDO1FBQ25CO0lBQ0Y7SUFFQSxTQUFTdUMsVUFDUEMsSUFBcUIsRUFDckJDLE1BQWtCLEVBQ2xCQyxNQUFlLEVBQ2ZDLEtBQWE7UUFFYixxQkFDRSw4REFBQ0M7WUFFQ0QsT0FBT0E7WUFDUEUsYUFBYSxTQUFTQyxZQUFZOUMsQ0FBQztnQkFDakNBLEVBQUU2QixjQUFjO1lBQ2xCO1lBQ0FrQixTQUFTTjtZQUNUTyxPQUFPO2dCQUNMQyxTQUFTO2dCQUNUQyxZQUFZO2dCQUNaQyxnQkFBZ0I7Z0JBQ2hCQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxjQUFjO2dCQUNkQyxRQUFRO2dCQUNSQyxpQkFBaUJkLFNBQVMsd0JBQXdCO2dCQUNsRGUsT0FBT2YsU0FBUyxTQUFTO2dCQUN6QmdCLFFBQVE7Z0JBQ1JDLFlBQVk7Z0JBQ1pDLFlBQVk7WUFDZDtzQkFFQ3BCO1dBckJJRzs7Ozs7SUF3Qlg7SUFFQSxTQUFTa0I7UUFDUCxxQkFDRSw4REFBQ0M7WUFDQ2QsT0FBTztnQkFDTEksT0FBTztnQkFDUEMsUUFBUTtnQkFDUkcsaUJBQWlCO2dCQUNqQk8sUUFBUTtnQkFDUkosWUFBWTtZQUNkOzs7Ozs7SUFHTjtJQUVBLE1BQU1LLGdCQUFnQixDQUFDLENBQUMsRUFBRTFGLDZEQUFnQkEsQ0FBQ0QsMkRBQWNBLENBQUNRLGVBQWUsQ0FBQyxDQUFDO0lBRTNFLHFCQUNFLDhEQUFDaUY7UUFDQ0csS0FBS3pFO1FBQ0xxRCxhQUFhLFNBQVNxQixrQkFBa0JsRSxDQUFDO1lBQ3ZDLElBQUltRSxTQUFTbkUsRUFBRW1FLE1BQU07WUFDckIsSUFBSUEsT0FBT0MsT0FBTyxLQUFLLFdBQVdELE9BQU9DLE9BQU8sS0FBSyxZQUFZO2dCQUMvRHBFLEVBQUU2QixjQUFjO1lBQ2xCO1FBQ0Y7UUFDQW1CLE9BQU87WUFDTGxFLFVBQVU7WUFDVnVGLEtBQUt2RixTQUFTdUYsR0FBRyxHQUFHO1lBQ3BCQyxNQUFNeEYsU0FBU3dGLElBQUk7WUFDbkJDLFdBQVc7WUFDWGYsaUJBQWlCO1lBQ2pCRCxRQUFRO1lBQ1JELGNBQWM7WUFDZGtCLFdBQVc7WUFDWEMsU0FBUztZQUNUeEIsU0FBUztZQUNUeUIsZUFBZTtZQUNmQyxZQUFZO1lBQ1pDLFFBQVE7WUFDUkMsV0FBVztZQUNYQyxVQUFVO1FBQ1o7OzBCQUVBLDhEQUFDOUI7MEJBQU8sQ0FBQzs7Ozs7TUFLVCxDQUFDOzs7Ozs7MEJBRUQsOERBQUNjO2dCQUNDZCxPQUFPO29CQUNMQyxTQUFTO29CQUNUQyxZQUFZO29CQUNaNkIsS0FBSztvQkFDTE4sU0FBUztnQkFDWDs7b0JBRUNsQyx3QkFDQyw4REFBQzVFLDBKQUFJQTt3QkFBQ3FILE1BQU07Ozs7OzhCQUNaLFNBQVNDO3dCQUFlckcsT0FBT3NELEtBQUssR0FBRzFCLEtBQUssR0FBR3lFLFVBQVUsR0FBRzVDLEdBQUc7b0JBQUksR0FDbkV6RCxPQUFPc0csUUFBUSxDQUFDLFNBQ2hCO29CQUVEM0Msd0JBQ0MsOERBQUMzRSwwSkFBTUE7d0JBQUNvSCxNQUFNOzs7Ozs4QkFDZCxTQUFTRzt3QkFBaUJ2RyxPQUFPc0QsS0FBSyxHQUFHMUIsS0FBSyxHQUFHMkUsWUFBWSxHQUFHOUMsR0FBRztvQkFBSSxHQUN2RXpELE9BQU9zRyxRQUFRLENBQUMsV0FDaEI7b0JBRUQzQyx3QkFDQyw4REFBQzFFLDBKQUFhQTt3QkFBQ21ILE1BQU07Ozs7OzhCQUNyQixTQUFTSTt3QkFBaUJ4RyxPQUFPc0QsS0FBSyxHQUFHMUIsS0FBSyxHQUFHNEUsWUFBWSxHQUFHL0MsR0FBRztvQkFBSSxHQUN2RXpELE9BQU9zRyxRQUFRLENBQUMsV0FDaEI7b0JBR0RyQjtvQkFFQXRCLHdCQUNDLDhEQUFDekUsMEpBQVFBO3dCQUFDa0gsTUFBTTs7Ozs7OEJBQ2hCLFNBQVNLO3dCQUFhekcsT0FBT3NELEtBQUssR0FBRzFCLEtBQUssR0FBRzhFLGFBQWEsQ0FBQzs0QkFBRUMsT0FBTzt3QkFBRSxHQUFHbEQsR0FBRztvQkFBSSxHQUNoRnpELE9BQU9zRyxRQUFRLENBQUMsV0FBVzt3QkFBRUssT0FBTztvQkFBRSxJQUN0QztvQkFFRGhELHdCQUNDLDhEQUFDeEUsMEpBQVFBO3dCQUFDaUgsTUFBTTs7Ozs7OEJBQ2hCLFNBQVNRO3dCQUFhNUcsT0FBT3NELEtBQUssR0FBRzFCLEtBQUssR0FBRzhFLGFBQWEsQ0FBQzs0QkFBRUMsT0FBTzt3QkFBRSxHQUFHbEQsR0FBRztvQkFBSSxHQUNoRnpELE9BQU9zRyxRQUFRLENBQUMsV0FBVzt3QkFBRUssT0FBTztvQkFBRSxJQUN0QztvQkFFRGhELHdCQUNDLDhEQUFDdkUsMEpBQVFBO3dCQUFDZ0gsTUFBTTs7Ozs7OEJBQ2hCLFNBQVNTO3dCQUFhN0csT0FBT3NELEtBQUssR0FBRzFCLEtBQUssR0FBRzhFLGFBQWEsQ0FBQzs0QkFBRUMsT0FBTzt3QkFBRSxHQUFHbEQsR0FBRztvQkFBSSxHQUNoRnpELE9BQU9zRyxRQUFRLENBQUMsV0FBVzt3QkFBRUssT0FBTztvQkFBRSxJQUN0QztvQkFHRDFCO29CQUVBdEIsd0JBQ0MsOERBQUN0RSwySkFBV0E7d0JBQUMrRyxNQUFNOzs7Ozs4QkFDbkIsU0FBU1U7d0JBQW9COUcsT0FBT3NELEtBQUssR0FBRzFCLEtBQUssR0FBR2tGLGVBQWUsQ0FBQzs0QkFBRWpDLE9BQU87d0JBQVUsR0FBR3BCLEdBQUc7b0JBQUksR0FDakd6RCxPQUFPc0csUUFBUSxDQUFDLGNBQ2hCO29CQUVEOUYseUJBQ0MsOERBQUN1Rzt3QkFDQ0MsVUFBVTNEO3dCQUNWZSxPQUFPOzRCQUNMQyxTQUFTOzRCQUNUQyxZQUFZOzRCQUNaNkIsS0FBSzs0QkFDTGMsWUFBWTt3QkFDZDtrQ0FFQSw0RUFBQ0M7NEJBQ0M3QixLQUFLdkU7NEJBQ0xxRyxNQUFLOzRCQUNMQyxPQUFPMUc7NEJBQ1AyRyxVQUFVLFNBQVNDLGlCQUFpQmxHLENBQUM7Z0NBQ25DVCxXQUFXUyxFQUFFbUUsTUFBTSxDQUFDNkIsS0FBSzs0QkFDM0I7NEJBQ0FqRyxXQUFXdUM7NEJBQ1g2RCxhQUFZOzRCQUNabkQsT0FBTztnQ0FDTEksT0FBTztnQ0FDUHFCLFNBQVM7Z0NBQ1QyQixVQUFVO2dDQUNWekIsWUFBWTtnQ0FDWm5CLGlCQUFpQjtnQ0FDakJDLE9BQU87Z0NBQ1BGLFFBQVE7Z0NBQ1JELGNBQWM7Z0NBQ2QrQyxTQUFTOzRCQUNYOzs7Ozs7Ozs7OytCQUlKOUQsd0JBQ0UsOERBQUNyRSwySkFBSUE7d0JBQUM4RyxNQUFNOzs7Ozs4QkFDWixTQUFTc0I7d0JBQWFqSCxZQUFZO29CQUFPLEdBQ3pDVCxPQUFPc0csUUFBUSxDQUFDLFNBQ2hCOzs7Ozs7OzBCQUtOLDhEQUFDcEI7Z0JBQ0NkLE9BQU87b0JBQ0xLLFFBQVE7b0JBQ1JHLGlCQUFpQjtnQkFDbkI7Ozs7OzswQkFHRiw4REFBQ007Z0JBQ0NkLE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1R5QixlQUFlO29CQUNmSyxLQUFLO29CQUNMTixTQUFTO2dCQUNYOztrQ0FFQSw4REFBQ2tCO3dCQUNDQyxVQUFVaEU7d0JBQ1ZvQixPQUFPOzRCQUNMQyxTQUFTOzRCQUNUQyxZQUFZOzRCQUNaNkIsS0FBSzt3QkFDUDs7MENBRUEsOERBQUNlO2dDQUNDN0IsS0FBS3hFO2dDQUNMc0csTUFBSztnQ0FDTEMsT0FBT3RIO2dDQUNQdUgsVUFBVSxTQUFTTSxhQUFhdkcsQ0FBQztvQ0FDL0JmLGVBQWVlLEVBQUVtRSxNQUFNLENBQUM2QixLQUFLO2dDQUMvQjtnQ0FDQWpHLFdBQVdnQztnQ0FDWG9FLGFBQVk7Z0NBQ1pLLFVBQVV0SDtnQ0FDVjhELE9BQU87b0NBQ0x5RCxNQUFNO29DQUNOaEMsU0FBUztvQ0FDVDJCLFVBQVU7b0NBQ1Z6QixZQUFZO29DQUNabkIsaUJBQWlCO29DQUNqQkMsT0FBTztvQ0FDUEYsUUFBUTtvQ0FDUkQsY0FBYztvQ0FDZCtDLFNBQVM7Z0NBQ1g7Ozs7OzswQ0FFRiw4REFBQ3pEO2dDQUNDbUQsTUFBSztnQ0FDTFMsVUFBVSxDQUFDOUgsWUFBWW9ELElBQUksTUFBTTVDO2dDQUNqQzhELE9BQU87b0NBQ0xDLFNBQVM7b0NBQ1RDLFlBQVk7b0NBQ1pDLGdCQUFnQjtvQ0FDaEJDLE9BQU87b0NBQ1BDLFFBQVE7b0NBQ1JDLGNBQWM7b0NBQ2RDLFFBQVE7b0NBQ1JDLGlCQUFpQjlFLFlBQVlvRCxJQUFJLE1BQU0sQ0FBQzVDLFVBQ3BDLHdCQUNBO29DQUNKdUUsT0FBTy9FLFlBQVlvRCxJQUFJLE1BQU0sQ0FBQzVDLFVBQVUsU0FBUztvQ0FDakR3RSxRQUFRaEYsWUFBWW9ELElBQUksTUFBTSxDQUFDNUMsVUFBVSxZQUFZO29DQUNyRHlFLFlBQVk7Z0NBQ2Q7MENBRUEsNEVBQUN4RiwySkFBUUE7b0NBQUM2RyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7OztrQ0FJcEIsOERBQUNsQjt3QkFBSWQsT0FBTzs0QkFBRUMsU0FBUzs0QkFBUThCLEtBQUs7d0JBQUU7OzRCQUNuQ3hHLGNBQWNtSSxHQUFHLENBQUMsU0FBU0MsYUFBYWxFLE1BQU07Z0NBQzdDLHFCQUNFLDhEQUFDRztvQ0FFQ0csU0FBUyxTQUFTNkQ7d0NBQ2hCbkcsV0FBV2dDLE9BQU9oRSxJQUFJLEVBQUVnRSxPQUFPL0QsV0FBVztvQ0FDNUM7b0NBQ0E4SCxVQUFVdEg7b0NBQ1Y4RCxPQUFPO3dDQUNMeUIsU0FBUzt3Q0FDVDJCLFVBQVU7d0NBQ1Z6QixZQUFZO3dDQUNacEIsUUFBUTt3Q0FDUkQsY0FBYzt3Q0FDZEUsaUJBQWlCO3dDQUNqQkMsT0FBT3ZFLFVBQVUsNEJBQTRCO3dDQUM3Q3dFLFFBQVF4RSxVQUFVLFlBQVk7d0NBQzlCMEUsWUFBWTtvQ0FDZDs4Q0FFQ25CLE9BQU9qRSxLQUFLO21DQWpCUmlFLE9BQU9qRSxLQUFLOzs7Ozs0QkFvQnZCOzBDQUNBLDhEQUFDcUk7Z0NBQ0M3RCxPQUFPO29DQUNMNkMsWUFBWTtvQ0FDWk8sVUFBVTtvQ0FDVjNDLE9BQU87b0NBQ1BxRCxXQUFXO2dDQUNiOzBDQUVDOUM7Ozs7Ozs7Ozs7OztvQkFJSjlFLHlCQUNDLDhEQUFDNEU7d0JBQ0NkLE9BQU87NEJBQ0xvRCxVQUFVOzRCQUNWM0MsT0FBTzs0QkFDUFIsU0FBUzs0QkFDVEMsWUFBWTs0QkFDWjZCLEtBQUs7NEJBQ0xOLFNBQVM7d0JBQ1g7OzBDQUVBLDhEQUFDb0M7Z0NBQ0M3RCxPQUFPO29DQUNMSSxPQUFPO29DQUNQQyxRQUFRO29DQUNSRSxRQUFRO29DQUNSd0QsZ0JBQWdCO29DQUNoQnpELGNBQWM7b0NBQ2R1QixXQUFXO2dDQUNiOzs7Ozs7NEJBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPZCIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL1NlbGVjdGlvblRvb2xiYXIudHN4PzAwYTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQm9sZCxcbiAgSXRhbGljLFxuICBTdHJpa2V0aHJvdWdoLFxuICBIZWFkaW5nMSxcbiAgSGVhZGluZzIsXG4gIEhlYWRpbmczLFxuICBIaWdobGlnaHRlcixcbiAgTGluayxcbiAgU3BhcmtsZXMsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB0eXBlIHsgRWRpdG9yIH0gZnJvbSBcIkB0aXB0YXAvcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB7IGVzdGltYXRlVG9rZW5zLCBmb3JtYXRUb2tlbkNvdW50IH0gZnJvbSBcIkAvbGliL3Rva2Vuc1wiO1xuXG5pbnRlcmZhY2UgU2VsZWN0aW9uVG9vbGJhclByb3BzIHtcbiAgZWRpdG9yOiBFZGl0b3I7XG4gIHNlbGVjdGVkVGV4dDogc3RyaW5nO1xuICBwb3NpdGlvbjogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH07XG4gIG9uQUlSZXN1bHQ6IChvbGRUZXh0OiBzdHJpbmcsIG5ld1RleHQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgUVVJQ0tfQUNUSU9OUyA9IFtcbiAgeyBsYWJlbDogXCJQb2xpc2hcIiwgbW9kZTogXCJjbGVhbnVwXCIgYXMgY29uc3QsIGluc3RydWN0aW9uOiBcIlwiIH0sXG4gIHsgbGFiZWw6IFwiU2ltcGxpZnlcIiwgbW9kZTogXCJpbmxpbmVcIiBhcyBjb25zdCwgaW5zdHJ1Y3Rpb246IFwiU2ltcGxpZnkgdGhpcyB0ZXh0LiBNYWtlIGl0IGNsZWFyZXIgYW5kIG1vcmUgY29uY2lzZS5cIiB9LFxuICB7IGxhYmVsOiBcIkV4cGFuZFwiLCBtb2RlOiBcImlubGluZVwiIGFzIGNvbnN0LCBpbnN0cnVjdGlvbjogXCJFeHBhbmQgdGhpcyB0ZXh0IHdpdGggbW9yZSBkZXRhaWwgYW5kIGRlc2NyaXB0aW9uIHdoaWxlIG1haW50YWluaW5nIHRoZSBzYW1lIHN0eWxlLlwiIH0sXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTZWxlY3Rpb25Ub29sYmFyKHtcbiAgZWRpdG9yLFxuICBzZWxlY3RlZFRleHQsXG4gIHBvc2l0aW9uLFxuICBvbkFJUmVzdWx0LFxuICBvbkNsb3NlLFxufTogU2VsZWN0aW9uVG9vbGJhclByb3BzKSB7XG4gIGNvbnN0IFtpbnN0cnVjdGlvbiwgc2V0SW5zdHJ1Y3Rpb25dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xpbmtNb2RlLCBzZXRMaW5rTW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsaW5rVXJsLCBzZXRMaW5rVXJsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCB0b29sYmFyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGxpbmtJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgcHJlZmVyZW5jZXMgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RQcmVmcyhzKSB7XG4gICAgcmV0dXJuIHMucHJlZmVyZW5jZXM7XG4gIH0pO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBoYW5kbGVFc2NhcGUoKSB7XG4gICAgZnVuY3Rpb24gb25LZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICBpZiAobGlua01vZGUpIHtcbiAgICAgICAgICBzZXRMaW5rTW9kZShmYWxzZSk7XG4gICAgICAgICAgc2V0TGlua1VybChcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICB9O1xuICB9LCBbb25DbG9zZSwgbGlua01vZGVdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gZm9jdXNMaW5rSW5wdXQoKSB7XG4gICAgaWYgKGxpbmtNb2RlICYmIGxpbmtJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBsaW5rSW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2xpbmtNb2RlXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWRpdChtb2RlOiBcImlubGluZVwiIHwgXCJjbGVhbnVwXCIsIGN1c3RvbUluc3RydWN0aW9uOiBzdHJpbmcpIHtcbiAgICBpZiAoIXByZWZlcmVuY2VzLmtleXNTdG9yZWQpIHJldHVybjtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9haS9lZGl0XCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdGV4dDogc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgIGluc3RydWN0aW9uOiBjdXN0b21JbnN0cnVjdGlvbixcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIG1vZGVsOiBwcmVmZXJlbmNlcy5kZWZhdWx0TW9kZWwsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJBUEkgZXJyb3I6IFwiICsgcmVzLnN0YXR1cyk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgaWYgKGRhdGEucmVzdWx0KSB7XG4gICAgICAgIG9uQUlSZXN1bHQoc2VsZWN0ZWRUZXh0LCBkYXRhLnJlc3VsdCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlOiBSZWFjdC5Gb3JtRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFpbnN0cnVjdGlvbi50cmltKCkpIHJldHVybjtcbiAgICBoYW5kbGVFZGl0KFwiaW5saW5lXCIsIGluc3RydWN0aW9uLnRyaW0oKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGFuZGxlU3VibWl0KGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUxpbmtTdWJtaXQoZTogUmVhY3QuRm9ybUV2ZW50KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghbGlua1VybC50cmltKCkpIHJldHVybjtcbiAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnNldExpbmsoeyBocmVmOiBsaW5rVXJsLnRyaW0oKSB9KS5ydW4oKTtcbiAgICBzZXRMaW5rTW9kZShmYWxzZSk7XG4gICAgc2V0TGlua1VybChcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUxpbmtLZXlEb3duKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaGFuZGxlTGlua1N1Ym1pdChlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRCdG4oXG4gICAgaWNvbjogUmVhY3QuUmVhY3ROb2RlLFxuICAgIGFjdGlvbjogKCkgPT4gdm9pZCxcbiAgICBhY3RpdmU6IGJvb2xlYW4sXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAga2V5PXt0aXRsZX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICBvbk1vdXNlRG93bj17ZnVuY3Rpb24gcHJldmVudEJsdXIoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25DbGljaz17YWN0aW9ufVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgd2lkdGg6IDI4LFxuICAgICAgICAgIGhlaWdodDogMjgsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhY3RpdmUgPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICBjb2xvcjogYWN0aXZlID8gXCIjZmZmXCIgOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZC1jb2xvciAxMDBtc1wiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aWNvbn1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXBhcmF0b3IoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICBoZWlnaHQ6IDE4LFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgbWFyZ2luOiBcIjAgNHB4XCIsXG4gICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHRva2VuRXN0aW1hdGUgPSBgfiR7Zm9ybWF0VG9rZW5Db3VudChlc3RpbWF0ZVRva2VucyhzZWxlY3RlZFRleHQpKX10YDtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17dG9vbGJhclJlZn1cbiAgICAgIG9uTW91c2VEb3duPXtmdW5jdGlvbiBwcmV2ZW50Rm9jdXNTdGVhbChlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSBcIklOUFVUXCIgJiYgdGFyZ2V0LnRhZ05hbWUgIT09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHRvcDogcG9zaXRpb24udG9wIC0gNTIsXG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uLmxlZnQsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC0xMDAlKVwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogMTAsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDRweCAyMHB4IHJnYmEoMCwwLDAsMC4xNSlcIixcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICB6SW5kZXg6IDUwLFxuICAgICAgICBhbmltYXRpb246IFwic2VsVG9vbGJhckluIDIwMG1zIGVhc2Utb3V0XCIsXG4gICAgICAgIG1pbldpZHRoOiAzMjAsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxzdHlsZT57YFxuICAgICAgICBAa2V5ZnJhbWVzIHNlbFRvb2xiYXJJbiB7XG4gICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSkgdHJhbnNsYXRlWSg0cHgpIHNjYWxlKDAuOTgpOyB9XG4gICAgICAgICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpIHNjYWxlKDEpOyB9XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cblxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgZ2FwOiAyLFxuICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDhweFwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Zm9ybWF0QnRuKFxuICAgICAgICAgIDxCb2xkIHNpemU9ezE0fSAvPixcbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVCb2xkKCkgeyBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUJvbGQoKS5ydW4oKTsgfSxcbiAgICAgICAgICBlZGl0b3IuaXNBY3RpdmUoXCJib2xkXCIpLFxuICAgICAgICAgIFwiQm9sZFwiLFxuICAgICAgICApfVxuICAgICAgICB7Zm9ybWF0QnRuKFxuICAgICAgICAgIDxJdGFsaWMgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUl0YWxpYygpIHsgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS50b2dnbGVJdGFsaWMoKS5ydW4oKTsgfSxcbiAgICAgICAgICBlZGl0b3IuaXNBY3RpdmUoXCJpdGFsaWNcIiksXG4gICAgICAgICAgXCJJdGFsaWNcIixcbiAgICAgICAgKX1cbiAgICAgICAge2Zvcm1hdEJ0bihcbiAgICAgICAgICA8U3RyaWtldGhyb3VnaCBzaXplPXsxNH0gLz4sXG4gICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlU3RyaWtlKCkgeyBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZVN0cmlrZSgpLnJ1bigpOyB9LFxuICAgICAgICAgIGVkaXRvci5pc0FjdGl2ZShcInN0cmlrZVwiKSxcbiAgICAgICAgICBcIlN0cmlrZXRocm91Z2hcIixcbiAgICAgICAgKX1cblxuICAgICAgICB7c2VwYXJhdG9yKCl9XG5cbiAgICAgICAge2Zvcm1hdEJ0bihcbiAgICAgICAgICA8SGVhZGluZzEgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUgxKCkgeyBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUhlYWRpbmcoeyBsZXZlbDogMSB9KS5ydW4oKTsgfSxcbiAgICAgICAgICBlZGl0b3IuaXNBY3RpdmUoXCJoZWFkaW5nXCIsIHsgbGV2ZWw6IDEgfSksXG4gICAgICAgICAgXCJIZWFkaW5nIDFcIixcbiAgICAgICAgKX1cbiAgICAgICAge2Zvcm1hdEJ0bihcbiAgICAgICAgICA8SGVhZGluZzIgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUgyKCkgeyBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUhlYWRpbmcoeyBsZXZlbDogMiB9KS5ydW4oKTsgfSxcbiAgICAgICAgICBlZGl0b3IuaXNBY3RpdmUoXCJoZWFkaW5nXCIsIHsgbGV2ZWw6IDIgfSksXG4gICAgICAgICAgXCJIZWFkaW5nIDJcIixcbiAgICAgICAgKX1cbiAgICAgICAge2Zvcm1hdEJ0bihcbiAgICAgICAgICA8SGVhZGluZzMgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUgzKCkgeyBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLnRvZ2dsZUhlYWRpbmcoeyBsZXZlbDogMyB9KS5ydW4oKTsgfSxcbiAgICAgICAgICBlZGl0b3IuaXNBY3RpdmUoXCJoZWFkaW5nXCIsIHsgbGV2ZWw6IDMgfSksXG4gICAgICAgICAgXCJIZWFkaW5nIDNcIixcbiAgICAgICAgKX1cblxuICAgICAgICB7c2VwYXJhdG9yKCl9XG5cbiAgICAgICAge2Zvcm1hdEJ0bihcbiAgICAgICAgICA8SGlnaGxpZ2h0ZXIgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUhpZ2hsaWdodCgpIHsgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS50b2dnbGVIaWdobGlnaHQoeyBjb2xvcjogXCIjZmVmMDhhXCIgfSkucnVuKCk7IH0sXG4gICAgICAgICAgZWRpdG9yLmlzQWN0aXZlKFwiaGlnaGxpZ2h0XCIpLFxuICAgICAgICAgIFwiSGlnaGxpZ2h0XCIsXG4gICAgICAgICl9XG4gICAgICAgIHtsaW5rTW9kZSA/IChcbiAgICAgICAgICA8Zm9ybVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUxpbmtTdWJtaXR9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAyLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtsaW5rSW5wdXRSZWZ9XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2xpbmtVcmx9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtmdW5jdGlvbiBoYW5kbGVMaW5rQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICBzZXRMaW5rVXJsKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVMaW5rS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwczovLy4uLlwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyMCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjNweCA2cHhcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgZm9ybWF0QnRuKFxuICAgICAgICAgICAgPExpbmsgc2l6ZT17MTR9IC8+LFxuICAgICAgICAgICAgZnVuY3Rpb24gb3BlbkxpbmsoKSB7IHNldExpbmtNb2RlKHRydWUpOyB9LFxuICAgICAgICAgICAgZWRpdG9yLmlzQWN0aXZlKFwibGlua1wiKSxcbiAgICAgICAgICAgIFwiTGlua1wiLFxuICAgICAgICAgIClcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgIH19XG4gICAgICAvPlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBnYXA6IDYsXG4gICAgICAgICAgcGFkZGluZzogXCI4cHggMTBweFwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Zm9ybVxuICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e2luc3RydWN0aW9ufVxuICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgIHNldEluc3RydWN0aW9uKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1ha2UgdGhpcyBtb3JlIGNvbmNpc2UuLi5cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCA4cHhcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXshaW5zdHJ1Y3Rpb24udHJpbSgpIHx8IGxvYWRpbmd9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiAyOCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAyOCxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGluc3RydWN0aW9uLnRyaW0oKSAmJiAhbG9hZGluZ1xuICAgICAgICAgICAgICAgID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCJcbiAgICAgICAgICAgICAgICA6IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIixcbiAgICAgICAgICAgICAgY29sb3I6IGluc3RydWN0aW9uLnRyaW0oKSAmJiAhbG9hZGluZyA/IFwiI2ZmZlwiIDogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IGluc3RydWN0aW9uLnRyaW0oKSAmJiAhbG9hZGluZyA/IFwicG9pbnRlclwiIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTcGFya2xlcyBzaXplPXsxNH0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogNCB9fT5cbiAgICAgICAgICB7UVVJQ0tfQUNUSU9OUy5tYXAoZnVuY3Rpb24gcmVuZGVyQWN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17YWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlRWRpdChhY3Rpb24ubW9kZSwgYWN0aW9uLmluc3RydWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjRweCAxMHB4XCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogbG9hZGluZyA/IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiA6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogbG9hZGluZyA/IFwiZGVmYXVsdFwiIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImJhY2tncm91bmQtY29sb3IgMTAwbXNcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2FjdGlvbi5sYWJlbH1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0b2tlbkVzdGltYXRlfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggMFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEyLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcInNwaW4gMC44cyBsaW5lYXIgaW5maW5pdGVcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBFZGl0aW5nLi4uXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkJvbGQiLCJJdGFsaWMiLCJTdHJpa2V0aHJvdWdoIiwiSGVhZGluZzEiLCJIZWFkaW5nMiIsIkhlYWRpbmczIiwiSGlnaGxpZ2h0ZXIiLCJMaW5rIiwiU3BhcmtsZXMiLCJ1c2VBcHBTdG9yZSIsImVzdGltYXRlVG9rZW5zIiwiZm9ybWF0VG9rZW5Db3VudCIsIlFVSUNLX0FDVElPTlMiLCJsYWJlbCIsIm1vZGUiLCJpbnN0cnVjdGlvbiIsIlNlbGVjdGlvblRvb2xiYXIiLCJlZGl0b3IiLCJzZWxlY3RlZFRleHQiLCJwb3NpdGlvbiIsIm9uQUlSZXN1bHQiLCJvbkNsb3NlIiwic2V0SW5zdHJ1Y3Rpb24iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImxpbmtNb2RlIiwic2V0TGlua01vZGUiLCJsaW5rVXJsIiwic2V0TGlua1VybCIsInRvb2xiYXJSZWYiLCJpbnB1dFJlZiIsImxpbmtJbnB1dFJlZiIsInByZWZlcmVuY2VzIiwic2VsZWN0UHJlZnMiLCJzIiwiaGFuZGxlRXNjYXBlIiwib25LZXlEb3duIiwiZSIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhbnVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZvY3VzTGlua0lucHV0IiwiY3VycmVudCIsImZvY3VzIiwiaGFuZGxlRWRpdCIsImN1c3RvbUluc3RydWN0aW9uIiwia2V5c1N0b3JlZCIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGV4dCIsIm1vZGVsIiwiZGVmYXVsdE1vZGVsIiwib2siLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwicmVzdWx0IiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwiaGFuZGxlS2V5RG93biIsInNoaWZ0S2V5IiwiaGFuZGxlTGlua1N1Ym1pdCIsImNoYWluIiwic2V0TGluayIsImhyZWYiLCJydW4iLCJoYW5kbGVMaW5rS2V5RG93biIsImZvcm1hdEJ0biIsImljb24iLCJhY3Rpb24iLCJhY3RpdmUiLCJ0aXRsZSIsImJ1dHRvbiIsIm9uTW91c2VEb3duIiwicHJldmVudEJsdXIiLCJvbkNsaWNrIiwic3R5bGUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImN1cnNvciIsImZsZXhTaHJpbmsiLCJ0cmFuc2l0aW9uIiwic2VwYXJhdG9yIiwiZGl2IiwibWFyZ2luIiwidG9rZW5Fc3RpbWF0ZSIsInJlZiIsInByZXZlbnRGb2N1c1N0ZWFsIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJib3hTaGFkb3ciLCJwYWRkaW5nIiwiZmxleERpcmVjdGlvbiIsImZvbnRGYW1pbHkiLCJ6SW5kZXgiLCJhbmltYXRpb24iLCJtaW5XaWR0aCIsImdhcCIsInNpemUiLCJ0b2dnbGVCb2xkIiwiaXNBY3RpdmUiLCJ0b2dnbGVJdGFsaWMiLCJ0b2dnbGVTdHJpa2UiLCJ0b2dnbGVIMSIsInRvZ2dsZUhlYWRpbmciLCJsZXZlbCIsInRvZ2dsZUgyIiwidG9nZ2xlSDMiLCJ0b2dnbGVIaWdobGlnaHQiLCJmb3JtIiwib25TdWJtaXQiLCJtYXJnaW5MZWZ0IiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImhhbmRsZUxpbmtDaGFuZ2UiLCJwbGFjZWhvbGRlciIsImZvbnRTaXplIiwib3V0bGluZSIsIm9wZW5MaW5rIiwiaGFuZGxlQ2hhbmdlIiwiZGlzYWJsZWQiLCJmbGV4IiwibWFwIiwicmVuZGVyQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJzcGFuIiwiYWxpZ25TZWxmIiwiYm9yZGVyVG9wQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/SelectionToolbar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/SlashCommand.tsx":
/*!********************************************!*\
  !*** ./components/editor/SlashCommand.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SlashCommands: () => (/* binding */ SlashCommands),\n/* harmony export */   suggestion: () => (/* binding */ suggestion)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/react/dist/index.js\");\n/* harmony import */ var _tiptap_suggestion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/suggestion */ \"(ssr)/./node_modules/@tiptap/suggestion/dist/index.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-1.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-2.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heading-3.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list-ordered.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/quote.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/minus.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Footprints,Heading1,Heading2,Heading3,ImageIcon,List,ListOrdered,Minus,Quote!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/footprints.js\");\n/* __next_internal_client_entry_do_not_use__ suggestion,SlashCommands auto */ \n\n\n\n\n\nfunction getCommandItems() {\n    return [\n        {\n            title: \"Heading 1\",\n            description: \"Large section heading\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 41,\n                columnNumber: 13\n            }, this),\n            command: function runH1({ editor, range }) {\n                editor.chain().focus().deleteRange(range).setNode(\"heading\", {\n                    level: 1\n                }).run();\n            }\n        },\n        {\n            title: \"Heading 2\",\n            description: \"Medium section heading\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 49,\n                columnNumber: 13\n            }, this),\n            command: function runH2({ editor, range }) {\n                editor.chain().focus().deleteRange(range).setNode(\"heading\", {\n                    level: 2\n                }).run();\n            }\n        },\n        {\n            title: \"Heading 3\",\n            description: \"Small section heading\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 57,\n                columnNumber: 13\n            }, this),\n            command: function runH3({ editor, range }) {\n                editor.chain().focus().deleteRange(range).setNode(\"heading\", {\n                    level: 3\n                }).run();\n            }\n        },\n        {\n            title: \"Bullet List\",\n            description: \"Create an unordered list\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 65,\n                columnNumber: 13\n            }, this),\n            command: function runBullet({ editor, range }) {\n                editor.chain().focus().deleteRange(range).toggleBulletList().run();\n            }\n        },\n        {\n            title: \"Ordered List\",\n            description: \"Create a numbered list\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 73,\n                columnNumber: 13\n            }, this),\n            command: function runOrdered({ editor, range }) {\n                editor.chain().focus().deleteRange(range).toggleOrderedList().run();\n            }\n        },\n        {\n            title: \"Quote\",\n            description: \"Insert a blockquote\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 81,\n                columnNumber: 13\n            }, this),\n            command: function runQuote({ editor, range }) {\n                editor.chain().focus().deleteRange(range).toggleBlockquote().run();\n            }\n        },\n        {\n            title: \"Divider\",\n            description: \"Insert a horizontal rule\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 89,\n                columnNumber: 13\n            }, this),\n            command: function runDivider({ editor, range }) {\n                editor.chain().focus().deleteRange(range).setHorizontalRule().run();\n            }\n        },\n        {\n            title: \"Image\",\n            description: \"Insert an image from URL\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 97,\n                columnNumber: 13\n            }, this),\n            command: function runImage({ editor, range }) {\n                const url = window.prompt(\"Image URL:\");\n                if (url) {\n                    editor.chain().focus().deleteRange(range).setImage({\n                        src: url\n                    }).run();\n                }\n            }\n        },\n        {\n            title: \"Footnote\",\n            description: \"Insert a superscript footnote\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Footprints_Heading1_Heading2_Heading3_ImageIcon_List_ListOrdered_Minus_Quote_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                size: 18\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 108,\n                columnNumber: 13\n            }, this),\n            command: function runFootnote({ editor, range }) {\n                editor.chain().focus().deleteRange(range).toggleSuperscript().run();\n            }\n        }\n    ];\n}\nconst CommandList = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function CommandList({ items, command }, ref) {\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function resetOnItemsChange() {\n        setSelectedIndex(0);\n    }, [\n        items\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, function exposeKeyHandler() {\n        return {\n            onKeyDown: function handleKeyDown({ event }) {\n                if (event.key === \"ArrowUp\") {\n                    setSelectedIndex(function prevIndex(i) {\n                        return (i + items.length - 1) % items.length;\n                    });\n                    return true;\n                }\n                if (event.key === \"ArrowDown\") {\n                    setSelectedIndex(function nextIndex(i) {\n                        return (i + 1) % items.length;\n                    });\n                    return true;\n                }\n                if (event.key === \"Enter\") {\n                    const item = items[selectedIndex];\n                    if (item) {\n                        command(item);\n                    }\n                    return true;\n                }\n                return false;\n            }\n        };\n    }, [\n        items,\n        selectedIndex,\n        command\n    ]);\n    if (items.length === 0) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            backgroundColor: \"var(--color-surface)\",\n            border: \"1px solid var(--color-border)\",\n            borderRadius: 8,\n            boxShadow: \"0 4px 16px rgba(0,0,0,0.12)\",\n            maxWidth: 280,\n            overflow: \"hidden\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: items.map(function renderItem(item, index) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: function handleClick() {\n                    command(item);\n                },\n                onMouseEnter: function handleHover() {\n                    setSelectedIndex(index);\n                },\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 10,\n                    width: \"100%\",\n                    padding: \"8px 12px\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    textAlign: \"left\",\n                    backgroundColor: index === selectedIndex ? \"var(--color-surface-hover)\" : \"transparent\",\n                    color: \"var(--color-text)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 28,\n                            height: 28,\n                            borderRadius: 6,\n                            backgroundColor: \"var(--color-bg)\",\n                            color: \"var(--color-text-muted)\",\n                            flexShrink: 0\n                        },\n                        children: item.icon\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                        lineNumber: 202,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            minWidth: 0\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 13,\n                                    fontWeight: 500,\n                                    lineHeight: 1.3\n                                },\n                                children: item.title\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                                lineNumber: 218,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    fontSize: 11,\n                                    color: \"var(--color-text-muted)\",\n                                    lineHeight: 1.3\n                                },\n                                children: item.description\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                                lineNumber: 227,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                        lineNumber: 217,\n                        columnNumber: 15\n                    }, this)\n                ]\n            }, item.title, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n                lineNumber: 178,\n                columnNumber: 13\n            }, this);\n        })\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/SlashCommand.tsx\",\n        lineNumber: 165,\n        columnNumber: 7\n    }, this);\n});\nconst suggestion = {\n    items: function getItems({ query }) {\n        return getCommandItems().filter(function filterByQuery(item) {\n            return item.title.toLowerCase().includes(query.toLowerCase());\n        });\n    },\n    render: function renderSuggestion() {\n        let renderer = null;\n        let popup = null;\n        return {\n            onStart: function handleStart(props) {\n                renderer = new _tiptap_react__WEBPACK_IMPORTED_MODULE_12__.ReactRenderer(CommandList, {\n                    props,\n                    editor: props.editor\n                });\n                popup = document.createElement(\"div\");\n                popup.style.position = \"absolute\";\n                popup.style.zIndex = \"50\";\n                document.body.appendChild(popup);\n                popup.appendChild(renderer.element);\n                const { clientRect } = props;\n                if (clientRect) {\n                    const rect = clientRect();\n                    if (rect && popup) {\n                        popup.style.left = `${rect.left}px`;\n                        popup.style.top = `${rect.bottom + 4}px`;\n                    }\n                }\n            },\n            onUpdate: function handleUpdate(props) {\n                if (renderer) {\n                    renderer.updateProps(props);\n                }\n                const { clientRect } = props;\n                if (clientRect && popup) {\n                    const rect = clientRect();\n                    if (rect) {\n                        popup.style.left = `${rect.left}px`;\n                        popup.style.top = `${rect.bottom + 4}px`;\n                    }\n                }\n            },\n            onKeyDown: function handleKeyDown(props) {\n                if (props.event.key === \"Escape\") {\n                    if (popup) {\n                        popup.remove();\n                        popup = null;\n                    }\n                    if (renderer) {\n                        renderer.destroy();\n                        renderer = null;\n                    }\n                    return true;\n                }\n                if (renderer?.ref) {\n                    return renderer.ref.onKeyDown(props);\n                }\n                return false;\n            },\n            onExit: function handleExit() {\n                if (popup) {\n                    popup.remove();\n                    popup = null;\n                }\n                if (renderer) {\n                    renderer.destroy();\n                    renderer = null;\n                }\n            }\n        };\n    },\n    char: \"/\",\n    startOfLine: true\n};\nconst SlashCommands = _tiptap_core__WEBPACK_IMPORTED_MODULE_13__.Extension.create({\n    name: \"slashCommands\",\n    addOptions () {\n        return {\n            suggestion: {\n                char: \"/\",\n                startOfLine: true,\n                command: function executeCommand({ editor, range, props }) {\n                    props.command({\n                        editor,\n                        range\n                    });\n                }\n            }\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_suggestion__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n                editor: this.editor,\n                ...this.options.suggestion\n            })\n        ];\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9TbGFzaENvbW1hbmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVZTtBQUUwQjtBQUNLO0FBQzBCO0FBV2xEO0FBVXRCLFNBQVNnQjtJQUNQLE9BQU87UUFDTDtZQUNFQyxPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsb0JBQU0sOERBQUNaLHdKQUFRQTtnQkFBQ2EsTUFBTTs7Ozs7O1lBQ3RCQyxTQUFTLFNBQVNDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxLQUFLLEVBQUU7Z0JBQ3ZDRCxPQUFPRSxLQUFLLEdBQUdDLEtBQUssR0FBR0MsV0FBVyxDQUFDSCxPQUFPSSxPQUFPLENBQUMsV0FBVztvQkFBRUMsT0FBTztnQkFBRSxHQUFHQyxHQUFHO1lBQ2hGO1FBQ0Y7UUFDQTtZQUNFYixPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsb0JBQU0sOERBQUNYLHdKQUFRQTtnQkFBQ1ksTUFBTTs7Ozs7O1lBQ3RCQyxTQUFTLFNBQVNVLE1BQU0sRUFBRVIsTUFBTSxFQUFFQyxLQUFLLEVBQUU7Z0JBQ3ZDRCxPQUFPRSxLQUFLLEdBQUdDLEtBQUssR0FBR0MsV0FBVyxDQUFDSCxPQUFPSSxPQUFPLENBQUMsV0FBVztvQkFBRUMsT0FBTztnQkFBRSxHQUFHQyxHQUFHO1lBQ2hGO1FBQ0Y7UUFDQTtZQUNFYixPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsb0JBQU0sOERBQUNWLHdKQUFRQTtnQkFBQ1csTUFBTTs7Ozs7O1lBQ3RCQyxTQUFTLFNBQVNXLE1BQU0sRUFBRVQsTUFBTSxFQUFFQyxLQUFLLEVBQUU7Z0JBQ3ZDRCxPQUFPRSxLQUFLLEdBQUdDLEtBQUssR0FBR0MsV0FBVyxDQUFDSCxPQUFPSSxPQUFPLENBQUMsV0FBVztvQkFBRUMsT0FBTztnQkFBRSxHQUFHQyxHQUFHO1lBQ2hGO1FBQ0Y7UUFDQTtZQUNFYixPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsb0JBQU0sOERBQUNULHdKQUFJQTtnQkFBQ1UsTUFBTTs7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RjtJQUNGO0lBQ0F3QixNQUFNO0lBQ05DLGFBQWE7QUFDZixFQUFFO0FBRUssTUFBTUMsZ0JBQWdCakksb0RBQVNBLENBQUNrSSxNQUFNLENBQUM7SUFDNUNDLE1BQU07SUFFTkM7UUFDRSxPQUFPO1lBQ0x0QyxZQUFZO2dCQUNWaUMsTUFBTTtnQkFDTkMsYUFBYTtnQkFDYi9HLFNBQVMsU0FBU29ILGVBQWUsRUFDL0JsSCxNQUFNLEVBQ05DLEtBQUssRUFDTHVGLEtBQUssRUFLTjtvQkFDQ0EsTUFBTTFGLE9BQU8sQ0FBQzt3QkFBRUU7d0JBQVFDO29CQUFNO2dCQUNoQztZQUNGO1FBQ0Y7SUFDRjtJQUVBa0g7UUFDRSxPQUFPO1lBQ0xwSSw4REFBVUEsQ0FBQztnQkFDVGlCLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUNuQixHQUFHLElBQUksQ0FBQ29ILE9BQU8sQ0FBQ3pDLFVBQVU7WUFDNUI7U0FDRDtJQUNIO0FBQ0YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvZWRpdG9yL1NsYXNoQ29tbWFuZC50c3g/ZGQ4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgdXNlU3RhdGUsXG4gIHVzZUVmZmVjdCxcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUxheW91dEVmZmVjdCxcbiAgdXNlUmVmLFxuICBmb3J3YXJkUmVmLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZVJvb3QgfSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHsgRXh0ZW5zaW9uIH0gZnJvbSBcIkB0aXB0YXAvY29yZVwiO1xuaW1wb3J0IHsgUmVhY3RSZW5kZXJlciB9IGZyb20gXCJAdGlwdGFwL3JlYWN0XCI7XG5pbXBvcnQgU3VnZ2VzdGlvbiwgeyB0eXBlIFN1Z2dlc3Rpb25PcHRpb25zIH0gZnJvbSBcIkB0aXB0YXAvc3VnZ2VzdGlvblwiO1xuaW1wb3J0IHtcbiAgSGVhZGluZzEsXG4gIEhlYWRpbmcyLFxuICBIZWFkaW5nMyxcbiAgTGlzdCxcbiAgTGlzdE9yZGVyZWQsXG4gIFF1b3RlLFxuICBNaW51cyxcbiAgSW1hZ2VJY29uLFxuICBGb290cHJpbnRzLFxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IEVkaXRvciwgUmFuZ2UgfSBmcm9tIFwiQHRpcHRhcC9jb3JlXCI7XG5cbmludGVyZmFjZSBDb21tYW5kSXRlbSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGljb246IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY29tbWFuZDogKHByb3BzOiB7IGVkaXRvcjogRWRpdG9yOyByYW5nZTogUmFuZ2UgfSkgPT4gdm9pZDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tbWFuZEl0ZW1zKCk6IENvbW1hbmRJdGVtW10ge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmcgMVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiTGFyZ2Ugc2VjdGlvbiBoZWFkaW5nXCIsXG4gICAgICBpY29uOiA8SGVhZGluZzEgc2l6ZT17MTh9IC8+LFxuICAgICAgY29tbWFuZDogZnVuY3Rpb24gcnVuSDEoeyBlZGl0b3IsIHJhbmdlIH0pIHtcbiAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZShyYW5nZSkuc2V0Tm9kZShcImhlYWRpbmdcIiwgeyBsZXZlbDogMSB9KS5ydW4oKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogXCJIZWFkaW5nIDJcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIk1lZGl1bSBzZWN0aW9uIGhlYWRpbmdcIixcbiAgICAgIGljb246IDxIZWFkaW5nMiBzaXplPXsxOH0gLz4sXG4gICAgICBjb21tYW5kOiBmdW5jdGlvbiBydW5IMih7IGVkaXRvciwgcmFuZ2UgfSkge1xuICAgICAgICBlZGl0b3IuY2hhaW4oKS5mb2N1cygpLmRlbGV0ZVJhbmdlKHJhbmdlKS5zZXROb2RlKFwiaGVhZGluZ1wiLCB7IGxldmVsOiAyIH0pLnJ1bigpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmcgM1wiLFxuICAgICAgZGVzY3JpcHRpb246IFwiU21hbGwgc2VjdGlvbiBoZWFkaW5nXCIsXG4gICAgICBpY29uOiA8SGVhZGluZzMgc2l6ZT17MTh9IC8+LFxuICAgICAgY29tbWFuZDogZnVuY3Rpb24gcnVuSDMoeyBlZGl0b3IsIHJhbmdlIH0pIHtcbiAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZShyYW5nZSkuc2V0Tm9kZShcImhlYWRpbmdcIiwgeyBsZXZlbDogMyB9KS5ydW4oKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogXCJCdWxsZXQgTGlzdFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQ3JlYXRlIGFuIHVub3JkZXJlZCBsaXN0XCIsXG4gICAgICBpY29uOiA8TGlzdCBzaXplPXsxOH0gLz4sXG4gICAgICBjb21tYW5kOiBmdW5jdGlvbiBydW5CdWxsZXQoeyBlZGl0b3IsIHJhbmdlIH0pIHtcbiAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZShyYW5nZSkudG9nZ2xlQnVsbGV0TGlzdCgpLnJ1bigpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIk9yZGVyZWQgTGlzdFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQ3JlYXRlIGEgbnVtYmVyZWQgbGlzdFwiLFxuICAgICAgaWNvbjogPExpc3RPcmRlcmVkIHNpemU9ezE4fSAvPixcbiAgICAgIGNvbW1hbmQ6IGZ1bmN0aW9uIHJ1bk9yZGVyZWQoeyBlZGl0b3IsIHJhbmdlIH0pIHtcbiAgICAgICAgZWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZShyYW5nZSkudG9nZ2xlT3JkZXJlZExpc3QoKS5ydW4oKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogXCJRdW90ZVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiSW5zZXJ0IGEgYmxvY2txdW90ZVwiLFxuICAgICAgaWNvbjogPFF1b3RlIHNpemU9ezE4fSAvPixcbiAgICAgIGNvbW1hbmQ6IGZ1bmN0aW9uIHJ1blF1b3RlKHsgZWRpdG9yLCByYW5nZSB9KSB7XG4gICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuZGVsZXRlUmFuZ2UocmFuZ2UpLnRvZ2dsZUJsb2NrcXVvdGUoKS5ydW4oKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogXCJEaXZpZGVyXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJJbnNlcnQgYSBob3Jpem9udGFsIHJ1bGVcIixcbiAgICAgIGljb246IDxNaW51cyBzaXplPXsxOH0gLz4sXG4gICAgICBjb21tYW5kOiBmdW5jdGlvbiBydW5EaXZpZGVyKHsgZWRpdG9yLCByYW5nZSB9KSB7XG4gICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuZGVsZXRlUmFuZ2UocmFuZ2UpLnNldEhvcml6b250YWxSdWxlKCkucnVuKCk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6IFwiSW1hZ2VcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkluc2VydCBhbiBpbWFnZSBmcm9tIFVSTFwiLFxuICAgICAgaWNvbjogPEltYWdlSWNvbiBzaXplPXsxOH0gLz4sXG4gICAgICBjb21tYW5kOiBmdW5jdGlvbiBydW5JbWFnZSh7IGVkaXRvciwgcmFuZ2UgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cucHJvbXB0KFwiSW1hZ2UgVVJMOlwiKTtcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuZGVsZXRlUmFuZ2UocmFuZ2UpLnNldEltYWdlKHsgc3JjOiB1cmwgfSkucnVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogXCJGb290bm90ZVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiSW5zZXJ0IGEgc3VwZXJzY3JpcHQgZm9vdG5vdGVcIixcbiAgICAgIGljb246IDxGb290cHJpbnRzIHNpemU9ezE4fSAvPixcbiAgICAgIGNvbW1hbmQ6IGZ1bmN0aW9uIHJ1bkZvb3Rub3RlKHsgZWRpdG9yLCByYW5nZSB9KSB7XG4gICAgICAgIGVkaXRvci5jaGFpbigpLmZvY3VzKCkuZGVsZXRlUmFuZ2UocmFuZ2UpLnRvZ2dsZVN1cGVyc2NyaXB0KCkucnVuKCk7XG4gICAgICB9LFxuICAgIH0sXG4gIF07XG59XG5cbmludGVyZmFjZSBDb21tYW5kTGlzdFByb3BzIHtcbiAgaXRlbXM6IENvbW1hbmRJdGVtW107XG4gIGNvbW1hbmQ6IChpdGVtOiBDb21tYW5kSXRlbSkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIENvbW1hbmRMaXN0UmVmIHtcbiAgb25LZXlEb3duOiAocHJvcHM6IHsgZXZlbnQ6IEtleWJvYXJkRXZlbnQgfSkgPT4gYm9vbGVhbjtcbn1cblxuY29uc3QgQ29tbWFuZExpc3QgPSBmb3J3YXJkUmVmPENvbW1hbmRMaXN0UmVmLCBDb21tYW5kTGlzdFByb3BzPihcbiAgZnVuY3Rpb24gQ29tbWFuZExpc3QoeyBpdGVtcywgY29tbWFuZCB9LCByZWYpIHtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZSgwKTtcblxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiByZXNldE9uSXRlbXNDaGFuZ2UoKSB7XG4gICAgICBzZXRTZWxlY3RlZEluZGV4KDApO1xuICAgIH0sIFtpdGVtc10pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGZ1bmN0aW9uIGV4cG9zZUtleUhhbmRsZXIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oeyBldmVudCB9OiB7IGV2ZW50OiBLZXlib2FyZEV2ZW50IH0pIHtcbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChmdW5jdGlvbiBwcmV2SW5kZXgoaSkge1xuICAgICAgICAgICAgICByZXR1cm4gKGkgKyBpdGVtcy5sZW5ndGggLSAxKSAlIGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkSW5kZXgoZnVuY3Rpb24gbmV4dEluZGV4KGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChpICsgMSkgJSBpdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tzZWxlY3RlZEluZGV4XTtcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgIGNvbW1hbmQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LCBbaXRlbXMsIHNlbGVjdGVkSW5kZXgsIGNvbW1hbmRdKTtcblxuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLXN1cmZhY2UpXCIsXG4gICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgICAgICAgIGJveFNoYWRvdzogXCIwIDRweCAxNnB4IHJnYmEoMCwwLDAsMC4xMilcIixcbiAgICAgICAgICBtYXhXaWR0aDogMjgwLFxuICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aXRlbXMubWFwKGZ1bmN0aW9uIHJlbmRlckl0ZW0oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e2l0ZW0udGl0bGV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQoaXRlbSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlSG92ZXIoKSB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxMnB4XCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgICAgaW5kZXggPT09IHNlbGVjdGVkSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgPyBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogMjgsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpdGVtLmljb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5XaWR0aDogMCB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogMS4zLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXRlbS50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuMyxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2l0ZW0uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IHN1Z2dlc3Rpb246IE9taXQ8U3VnZ2VzdGlvbk9wdGlvbnMsIFwiZWRpdG9yXCI+ID0ge1xuICBpdGVtczogZnVuY3Rpb24gZ2V0SXRlbXMoeyBxdWVyeSB9OiB7IHF1ZXJ5OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiBnZXRDb21tYW5kSXRlbXMoKS5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQnlRdWVyeShpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpO1xuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlclN1Z2dlc3Rpb24oKSB7XG4gICAgbGV0IHJlbmRlcmVyOiBSZWFjdFJlbmRlcmVyPENvbW1hbmRMaXN0UmVmPiB8IG51bGwgPSBudWxsO1xuICAgIGxldCBwb3B1cDogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBvblN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVTdGFydChwcm9wczogYW55KSB7XG4gICAgICAgIHJlbmRlcmVyID0gbmV3IFJlYWN0UmVuZGVyZXIoQ29tbWFuZExpc3QsIHtcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBlZGl0b3I6IHByb3BzLmVkaXRvcixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwb3B1cC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgcG9wdXAuc3R5bGUuekluZGV4ID0gXCI1MFwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBvcHVwKTtcbiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnRSZWN0IH0gPSBwcm9wcztcbiAgICAgICAgaWYgKGNsaWVudFJlY3QpIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gY2xpZW50UmVjdCgpO1xuICAgICAgICAgIGlmIChyZWN0ICYmIHBvcHVwKSB7XG4gICAgICAgICAgICBwb3B1cC5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgICAgIHBvcHVwLnN0eWxlLnRvcCA9IGAke3JlY3QuYm90dG9tICsgNH1weGA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShwcm9wczogYW55KSB7XG4gICAgICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgICAgIHJlbmRlcmVyLnVwZGF0ZVByb3BzKHByb3BzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50UmVjdCB9ID0gcHJvcHM7XG4gICAgICAgIGlmIChjbGllbnRSZWN0ICYmIHBvcHVwKSB7XG4gICAgICAgICAgY29uc3QgcmVjdCA9IGNsaWVudFJlY3QoKTtcbiAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgcG9wdXAuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdH1weGA7XG4gICAgICAgICAgICBwb3B1cC5zdHlsZS50b3AgPSBgJHtyZWN0LmJvdHRvbSArIDR9cHhgO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gaGFuZGxlS2V5RG93bihwcm9wczogYW55KSB7XG4gICAgICAgIGlmIChwcm9wcy5ldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgcG9wdXAgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlcmVyPy5yZWYpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucmVmLm9uS2V5RG93bihwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIG9uRXhpdDogZnVuY3Rpb24gaGFuZGxlRXhpdCgpIHtcbiAgICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgICAgcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgcG9wdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgICAgIHJlbmRlcmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICByZW5kZXJlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbiAgY2hhcjogXCIvXCIsXG4gIHN0YXJ0T2ZMaW5lOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IFNsYXNoQ29tbWFuZHMgPSBFeHRlbnNpb24uY3JlYXRlKHtcbiAgbmFtZTogXCJzbGFzaENvbW1hbmRzXCIsXG5cbiAgYWRkT3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VnZ2VzdGlvbjoge1xuICAgICAgICBjaGFyOiBcIi9cIixcbiAgICAgICAgc3RhcnRPZkxpbmU6IHRydWUsXG4gICAgICAgIGNvbW1hbmQ6IGZ1bmN0aW9uIGV4ZWN1dGVDb21tYW5kKHtcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgcmFuZ2UsXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgIH06IHtcbiAgICAgICAgICBlZGl0b3I6IEVkaXRvcjtcbiAgICAgICAgICByYW5nZTogUmFuZ2U7XG4gICAgICAgICAgcHJvcHM6IENvbW1hbmRJdGVtO1xuICAgICAgICB9KSB7XG4gICAgICAgICAgcHJvcHMuY29tbWFuZCh7IGVkaXRvciwgcmFuZ2UgfSk7XG4gICAgICAgIH0sXG4gICAgICB9IGFzIE9taXQ8U3VnZ2VzdGlvbk9wdGlvbnMsIFwiZWRpdG9yXCI+LFxuICAgIH07XG4gIH0sXG5cbiAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xuICAgIHJldHVybiBbXG4gICAgICBTdWdnZXN0aW9uKHtcbiAgICAgICAgZWRpdG9yOiB0aGlzLmVkaXRvcixcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLnN1Z2dlc3Rpb24sXG4gICAgICB9KSxcbiAgICBdO1xuICB9LFxufSk7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJmb3J3YXJkUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsIkV4dGVuc2lvbiIsIlJlYWN0UmVuZGVyZXIiLCJTdWdnZXN0aW9uIiwiSGVhZGluZzEiLCJIZWFkaW5nMiIsIkhlYWRpbmczIiwiTGlzdCIsIkxpc3RPcmRlcmVkIiwiUXVvdGUiLCJNaW51cyIsIkltYWdlSWNvbiIsIkZvb3RwcmludHMiLCJnZXRDb21tYW5kSXRlbXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaWNvbiIsInNpemUiLCJjb21tYW5kIiwicnVuSDEiLCJlZGl0b3IiLCJyYW5nZSIsImNoYWluIiwiZm9jdXMiLCJkZWxldGVSYW5nZSIsInNldE5vZGUiLCJsZXZlbCIsInJ1biIsInJ1bkgyIiwicnVuSDMiLCJydW5CdWxsZXQiLCJ0b2dnbGVCdWxsZXRMaXN0IiwicnVuT3JkZXJlZCIsInRvZ2dsZU9yZGVyZWRMaXN0IiwicnVuUXVvdGUiLCJ0b2dnbGVCbG9ja3F1b3RlIiwicnVuRGl2aWRlciIsInNldEhvcml6b250YWxSdWxlIiwicnVuSW1hZ2UiLCJ1cmwiLCJ3aW5kb3ciLCJwcm9tcHQiLCJzZXRJbWFnZSIsInNyYyIsInJ1bkZvb3Rub3RlIiwidG9nZ2xlU3VwZXJzY3JpcHQiLCJDb21tYW5kTGlzdCIsIml0ZW1zIiwicmVmIiwic2VsZWN0ZWRJbmRleCIsInNldFNlbGVjdGVkSW5kZXgiLCJyZXNldE9uSXRlbXNDaGFuZ2UiLCJleHBvc2VLZXlIYW5kbGVyIiwib25LZXlEb3duIiwiaGFuZGxlS2V5RG93biIsImV2ZW50Iiwia2V5IiwicHJldkluZGV4IiwiaSIsImxlbmd0aCIsIm5leHRJbmRleCIsIml0ZW0iLCJkaXYiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsIm1heFdpZHRoIiwib3ZlcmZsb3ciLCJmb250RmFtaWx5IiwibWFwIiwicmVuZGVySXRlbSIsImluZGV4IiwiYnV0dG9uIiwib25DbGljayIsImhhbmRsZUNsaWNrIiwib25Nb3VzZUVudGVyIiwiaGFuZGxlSG92ZXIiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsIndpZHRoIiwicGFkZGluZyIsImN1cnNvciIsInRleHRBbGlnbiIsImNvbG9yIiwic3BhbiIsImp1c3RpZnlDb250ZW50IiwiaGVpZ2h0IiwiZmxleFNocmluayIsIm1pbldpZHRoIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwibGluZUhlaWdodCIsInN1Z2dlc3Rpb24iLCJnZXRJdGVtcyIsInF1ZXJ5IiwiZmlsdGVyIiwiZmlsdGVyQnlRdWVyeSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJyZW5kZXIiLCJyZW5kZXJTdWdnZXN0aW9uIiwicmVuZGVyZXIiLCJwb3B1cCIsIm9uU3RhcnQiLCJoYW5kbGVTdGFydCIsInByb3BzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY2xpZW50UmVjdCIsInJlY3QiLCJsZWZ0IiwidG9wIiwiYm90dG9tIiwib25VcGRhdGUiLCJoYW5kbGVVcGRhdGUiLCJ1cGRhdGVQcm9wcyIsInJlbW92ZSIsImRlc3Ryb3kiLCJvbkV4aXQiLCJoYW5kbGVFeGl0IiwiY2hhciIsInN0YXJ0T2ZMaW5lIiwiU2xhc2hDb21tYW5kcyIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiZXhlY3V0ZUNvbW1hbmQiLCJhZGRQcm9zZU1pcnJvclBsdWdpbnMiLCJvcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/SlashCommand.tsx\n");

/***/ }),

/***/ "(ssr)/./components/editor/TiptapEditor.tsx":
/*!********************************************!*\
  !*** ./components/editor/TiptapEditor.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TiptapEditor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/react/dist/index.js\");\n/* harmony import */ var _tiptap_starter_kit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/starter-kit */ \"(ssr)/./node_modules/@tiptap/starter-kit/dist/index.js\");\n/* harmony import */ var _tiptap_extension_placeholder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-placeholder */ \"(ssr)/./node_modules/@tiptap/extension-placeholder/dist/index.js\");\n/* harmony import */ var _tiptap_extension_highlight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-highlight */ \"(ssr)/./node_modules/@tiptap/extension-highlight/dist/index.js\");\n/* harmony import */ var _tiptap_extension_typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/extension-typography */ \"(ssr)/./node_modules/@tiptap/extension-typography/dist/index.js\");\n/* harmony import */ var _tiptap_extension_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/extension-image */ \"(ssr)/./node_modules/@tiptap/extension-image/dist/index.js\");\n/* harmony import */ var _tiptap_extension_superscript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/extension-superscript */ \"(ssr)/./node_modules/@tiptap/extension-superscript/dist/index.js\");\n/* harmony import */ var _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tiptap/extension-link */ \"(ssr)/./node_modules/@tiptap/extension-link/dist/index.js\");\n/* harmony import */ var _tiptap_extension_text_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tiptap/extension-text-style */ \"(ssr)/./node_modules/@tiptap/extension-text-style/dist/index.js\");\n/* harmony import */ var _tiptap_extension_color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tiptap/extension-color */ \"(ssr)/./node_modules/@tiptap/extension-color/dist/index.js\");\n/* harmony import */ var _tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tiptap/extension-underline */ \"(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js\");\n/* harmony import */ var tiptap_markdown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! tiptap-markdown */ \"(ssr)/./node_modules/tiptap-markdown/dist/tiptap-markdown.es.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _SlashCommand__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./SlashCommand */ \"(ssr)/./components/editor/SlashCommand.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction TiptapEditor({ initialContent, onContentChange, onEditor, editable = true }) {\n    const setWordCount = (0,_store__WEBPACK_IMPORTED_MODULE_12__.useAppStore)(function selectSetWordCount(s) {\n        return s.setWordCount;\n    });\n    const onContentChangeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(onContentChange);\n    onContentChangeRef.current = onContentChange;\n    const editor = (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_14__.useEditor)({\n        extensions: [\n            _tiptap_starter_kit__WEBPACK_IMPORTED_MODULE_2__[\"default\"].configure({\n                heading: {\n                    levels: [\n                        1,\n                        2,\n                        3\n                    ]\n                }\n            }),\n            _tiptap_extension_placeholder__WEBPACK_IMPORTED_MODULE_3__[\"default\"].configure({\n                placeholder: \"Begin writing...\"\n            }),\n            _tiptap_extension_highlight__WEBPACK_IMPORTED_MODULE_4__[\"default\"].configure({\n                multicolor: true\n            }),\n            _tiptap_extension_typography__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n            _tiptap_extension_image__WEBPACK_IMPORTED_MODULE_6__[\"default\"].configure({\n                inline: false,\n                allowBase64: true\n            }),\n            _tiptap_extension_superscript__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            tiptap_markdown__WEBPACK_IMPORTED_MODULE_15__.Markdown.configure({\n                html: true,\n                transformPastedText: true,\n                transformCopiedText: true\n            }),\n            _SlashCommand__WEBPACK_IMPORTED_MODULE_13__.SlashCommands.configure({\n                suggestion: _SlashCommand__WEBPACK_IMPORTED_MODULE_13__.suggestion\n            }),\n            _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_8__[\"default\"].configure({\n                openOnClick: false,\n                HTMLAttributes: {\n                    class: \"tiptap-link\"\n                }\n            }),\n            _tiptap_extension_text_style__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n            _tiptap_extension_color__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n            _tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n        ],\n        content: initialContent,\n        editable,\n        onUpdate: function handleUpdate({ editor: ed }) {\n            const md = ed.storage.markdown.getMarkdown();\n            const text = ed.state.doc.textContent;\n            const words = text.split(/\\s+/).filter(Boolean).length;\n            setWordCount(words);\n            onContentChangeRef.current(md);\n        },\n        editorProps: {\n            attributes: {\n                class: \"tiptap-editor\"\n            }\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function notifyEditorReady() {\n        if (onEditor) {\n            onEditor(editor);\n        }\n    }, [\n        editor,\n        onEditor\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function syncEditable() {\n        if (editor) {\n            editor.setEditable(editable);\n        }\n    }, [\n        editor,\n        editable\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function countInitialWords() {\n        if (editor && !editor.isDestroyed) {\n            const text = editor.state.doc.textContent;\n            const words = text.split(/\\s+/).filter(Boolean).length;\n            setWordCount(words);\n        }\n    }, [\n        editor,\n        setWordCount\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            fontFamily: \"var(--font-literata), Georgia, serif\",\n            fontSize: 18,\n            lineHeight: 1.8,\n            backgroundColor: \"var(--color-bg)\",\n            color: \"var(--color-text)\",\n            maxWidth: 680,\n            margin: \"0 auto\",\n            padding: \"3rem 2rem 6rem\",\n            minHeight: \"100%\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tiptap_react__WEBPACK_IMPORTED_MODULE_14__.EditorContent, {\n            editor: editor\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/editor/TiptapEditor.tsx\",\n            lineNumber: 122,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/editor/TiptapEditor.tsx\",\n        lineNumber: 109,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2VkaXRvci9UaXB0YXBFZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXVEO0FBQ2U7QUFDekI7QUFDVztBQUNKO0FBQ0U7QUFDVjtBQUNZO0FBQ1I7QUFDSztBQUNUO0FBQ1E7QUFDVDtBQUNMO0FBQ3FCO0FBUzVDLFNBQVNrQixhQUFhLEVBQ25DQyxjQUFjLEVBQ2RDLGVBQWUsRUFDZkMsUUFBUSxFQUNSQyxXQUFXLElBQUksRUFDRztJQUNsQixNQUFNQyxlQUFlUixvREFBV0EsQ0FBQyxTQUFTUyxtQkFBbUJDLENBQUM7UUFDNUQsT0FBT0EsRUFBRUYsWUFBWTtJQUN2QjtJQUVBLE1BQU1HLHFCQUFxQnpCLDZDQUFNQSxDQUFDbUI7SUFDbENNLG1CQUFtQkMsT0FBTyxHQUFHUDtJQUU3QixNQUFNUSxTQUFTMUIseURBQVNBLENBQUM7UUFDdkIyQixZQUFZO1lBQ1Z6QiwyREFBVUEsQ0FBQzBCLFNBQVMsQ0FBQztnQkFDbkJDLFNBQVM7b0JBQUVDLFFBQVE7d0JBQUM7d0JBQUc7d0JBQUc7cUJBQUU7Z0JBQUM7WUFDL0I7WUFDQTNCLHFFQUFXQSxDQUFDeUIsU0FBUyxDQUFDO2dCQUNwQkcsYUFBYTtZQUNmO1lBQ0EzQixtRUFBU0EsQ0FBQ3dCLFNBQVMsQ0FBQztnQkFBRUksWUFBWTtZQUFLO1lBQ3ZDM0Isb0VBQVVBO1lBQ1ZDLCtEQUFLQSxDQUFDc0IsU0FBUyxDQUFDO2dCQUNkSyxRQUFRO2dCQUNSQyxhQUFhO1lBQ2Y7WUFDQTNCLHFFQUFXQTtZQUNYSyxzREFBUUEsQ0FBQ2dCLFNBQVMsQ0FBQztnQkFDakJPLE1BQU07Z0JBQ05DLHFCQUFxQjtnQkFDckJDLHFCQUFxQjtZQUN2QjtZQUNBdkIseURBQWFBLENBQUNjLFNBQVMsQ0FBQztnQkFDdEJiLFVBQVVBLHdEQUFBQTtZQUNaO1lBQ0FQLDhEQUFVQSxDQUFDb0IsU0FBUyxDQUFDO2dCQUNuQlUsYUFBYTtnQkFDYkMsZ0JBQWdCO29CQUNkQyxPQUFPO2dCQUNUO1lBQ0Y7WUFDQS9CLG9FQUFTQTtZQUNUQyxnRUFBS0E7WUFDTEMsb0VBQVNBO1NBQ1Y7UUFDRDhCLFNBQVN4QjtRQUNURztRQUNBc0IsVUFBVSxTQUFTQyxhQUFhLEVBQUVqQixRQUFRa0IsRUFBRSxFQUFFO1lBQzVDLE1BQU1DLEtBQUtELEdBQUdFLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDQyxXQUFXO1lBQzFDLE1BQU1DLE9BQU9MLEdBQUdNLEtBQUssQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXO1lBQ3JDLE1BQU1DLFFBQVFKLEtBQUtLLEtBQUssQ0FBQyxPQUFPQyxNQUFNLENBQUNDLFNBQVNDLE1BQU07WUFDdERwQyxhQUFhZ0M7WUFDYjdCLG1CQUFtQkMsT0FBTyxDQUFDb0I7UUFDN0I7UUFDQWEsYUFBYTtZQUNYQyxZQUFZO2dCQUNWbkIsT0FBTztZQUNUO1FBQ0Y7SUFDRjtJQUVBMUMsZ0RBQVNBLENBQUMsU0FBUzhEO1FBQ2pCLElBQUl6QyxVQUFVO1lBQ1pBLFNBQVNPO1FBQ1g7SUFDRixHQUFHO1FBQUNBO1FBQVFQO0tBQVM7SUFFckJyQixnREFBU0EsQ0FBQyxTQUFTK0Q7UUFDakIsSUFBSW5DLFFBQVE7WUFDVkEsT0FBT29DLFdBQVcsQ0FBQzFDO1FBQ3JCO0lBQ0YsR0FBRztRQUFDTTtRQUFRTjtLQUFTO0lBRXJCdEIsZ0RBQVNBLENBQUMsU0FBU2lFO1FBQ2pCLElBQUlyQyxVQUFVLENBQUNBLE9BQU9zQyxXQUFXLEVBQUU7WUFDakMsTUFBTWYsT0FBT3ZCLE9BQU93QixLQUFLLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVztZQUN6QyxNQUFNQyxRQUFRSixLQUFLSyxLQUFLLENBQUMsT0FBT0MsTUFBTSxDQUFDQyxTQUFTQyxNQUFNO1lBQ3REcEMsYUFBYWdDO1FBQ2Y7SUFDRixHQUFHO1FBQUMzQjtRQUFRTDtLQUFhO0lBRXpCLHFCQUNFLDhEQUFDNEM7UUFDQ0MsT0FBTztZQUNMQyxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsWUFBWTtZQUNaQyxpQkFBaUI7WUFDakJDLE9BQU87WUFDUEMsVUFBVTtZQUNWQyxRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsV0FBVztRQUNiO2tCQUVBLDRFQUFDMUUseURBQWFBO1lBQUN5QixRQUFRQTs7Ozs7Ozs7Ozs7QUFHN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL2VkaXRvci9UaXB0YXBFZGl0b3IudHN4Pzg3N2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWRpdG9yLCBFZGl0b3JDb250ZW50LCB0eXBlIEVkaXRvciB9IGZyb20gXCJAdGlwdGFwL3JlYWN0XCI7XG5pbXBvcnQgU3RhcnRlcktpdCBmcm9tIFwiQHRpcHRhcC9zdGFydGVyLWtpdFwiO1xuaW1wb3J0IFBsYWNlaG9sZGVyIGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1wbGFjZWhvbGRlclwiO1xuaW1wb3J0IEhpZ2hsaWdodCBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24taGlnaGxpZ2h0XCI7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tdHlwb2dyYXBoeVwiO1xuaW1wb3J0IEltYWdlIGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1pbWFnZVwiO1xuaW1wb3J0IFN1cGVyc2NyaXB0IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1zdXBlcnNjcmlwdFwiO1xuaW1wb3J0IFRpcHRhcExpbmsgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWxpbmtcIjtcbmltcG9ydCBUZXh0U3R5bGUgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXRleHQtc3R5bGVcIjtcbmltcG9ydCBDb2xvciBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tY29sb3JcIjtcbmltcG9ydCBVbmRlcmxpbmUgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXVuZGVybGluZVwiO1xuaW1wb3J0IHsgTWFya2Rvd24gfSBmcm9tIFwidGlwdGFwLW1hcmtkb3duXCI7XG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5pbXBvcnQgeyBTbGFzaENvbW1hbmRzLCBzdWdnZXN0aW9uIH0gZnJvbSBcIi4vU2xhc2hDb21tYW5kXCI7XG5cbmludGVyZmFjZSBUaXB0YXBFZGl0b3JQcm9wcyB7XG4gIGluaXRpYWxDb250ZW50OiBzdHJpbmc7XG4gIG9uQ29udGVudENoYW5nZTogKG1hcmtkb3duOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uRWRpdG9yPzogKGVkaXRvcjogRWRpdG9yIHwgbnVsbCkgPT4gdm9pZDtcbiAgZWRpdGFibGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaXB0YXBFZGl0b3Ioe1xuICBpbml0aWFsQ29udGVudCxcbiAgb25Db250ZW50Q2hhbmdlLFxuICBvbkVkaXRvcixcbiAgZWRpdGFibGUgPSB0cnVlLFxufTogVGlwdGFwRWRpdG9yUHJvcHMpIHtcbiAgY29uc3Qgc2V0V29yZENvdW50ID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0U2V0V29yZENvdW50KHMpIHtcbiAgICByZXR1cm4gcy5zZXRXb3JkQ291bnQ7XG4gIH0pO1xuXG4gIGNvbnN0IG9uQ29udGVudENoYW5nZVJlZiA9IHVzZVJlZihvbkNvbnRlbnRDaGFuZ2UpO1xuICBvbkNvbnRlbnRDaGFuZ2VSZWYuY3VycmVudCA9IG9uQ29udGVudENoYW5nZTtcblxuICBjb25zdCBlZGl0b3IgPSB1c2VFZGl0b3Ioe1xuICAgIGV4dGVuc2lvbnM6IFtcbiAgICAgIFN0YXJ0ZXJLaXQuY29uZmlndXJlKHtcbiAgICAgICAgaGVhZGluZzogeyBsZXZlbHM6IFsxLCAyLCAzXSB9LFxuICAgICAgfSksXG4gICAgICBQbGFjZWhvbGRlci5jb25maWd1cmUoe1xuICAgICAgICBwbGFjZWhvbGRlcjogXCJCZWdpbiB3cml0aW5nLi4uXCIsXG4gICAgICB9KSxcbiAgICAgIEhpZ2hsaWdodC5jb25maWd1cmUoeyBtdWx0aWNvbG9yOiB0cnVlIH0pLFxuICAgICAgVHlwb2dyYXBoeSxcbiAgICAgIEltYWdlLmNvbmZpZ3VyZSh7XG4gICAgICAgIGlubGluZTogZmFsc2UsXG4gICAgICAgIGFsbG93QmFzZTY0OiB0cnVlLFxuICAgICAgfSksXG4gICAgICBTdXBlcnNjcmlwdCxcbiAgICAgIE1hcmtkb3duLmNvbmZpZ3VyZSh7XG4gICAgICAgIGh0bWw6IHRydWUsXG4gICAgICAgIHRyYW5zZm9ybVBhc3RlZFRleHQ6IHRydWUsXG4gICAgICAgIHRyYW5zZm9ybUNvcGllZFRleHQ6IHRydWUsXG4gICAgICB9KSxcbiAgICAgIFNsYXNoQ29tbWFuZHMuY29uZmlndXJlKHtcbiAgICAgICAgc3VnZ2VzdGlvbixcbiAgICAgIH0pLFxuICAgICAgVGlwdGFwTGluay5jb25maWd1cmUoe1xuICAgICAgICBvcGVuT25DbGljazogZmFsc2UsXG4gICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgY2xhc3M6IFwidGlwdGFwLWxpbmtcIixcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgVGV4dFN0eWxlLFxuICAgICAgQ29sb3IsXG4gICAgICBVbmRlcmxpbmUsXG4gICAgXSxcbiAgICBjb250ZW50OiBpbml0aWFsQ29udGVudCxcbiAgICBlZGl0YWJsZSxcbiAgICBvblVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHsgZWRpdG9yOiBlZCB9KSB7XG4gICAgICBjb25zdCBtZCA9IGVkLnN0b3JhZ2UubWFya2Rvd24uZ2V0TWFya2Rvd24oKTtcbiAgICAgIGNvbnN0IHRleHQgPSBlZC5zdGF0ZS5kb2MudGV4dENvbnRlbnQ7XG4gICAgICBjb25zdCB3b3JkcyA9IHRleHQuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoO1xuICAgICAgc2V0V29yZENvdW50KHdvcmRzKTtcbiAgICAgIG9uQ29udGVudENoYW5nZVJlZi5jdXJyZW50KG1kKTtcbiAgICB9LFxuICAgIGVkaXRvclByb3BzOiB7XG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIGNsYXNzOiBcInRpcHRhcC1lZGl0b3JcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIG5vdGlmeUVkaXRvclJlYWR5KCkge1xuICAgIGlmIChvbkVkaXRvcikge1xuICAgICAgb25FZGl0b3IoZWRpdG9yKTtcbiAgICB9XG4gIH0sIFtlZGl0b3IsIG9uRWRpdG9yXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHN5bmNFZGl0YWJsZSgpIHtcbiAgICBpZiAoZWRpdG9yKSB7XG4gICAgICBlZGl0b3Iuc2V0RWRpdGFibGUoZWRpdGFibGUpO1xuICAgIH1cbiAgfSwgW2VkaXRvciwgZWRpdGFibGVdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gY291bnRJbml0aWFsV29yZHMoKSB7XG4gICAgaWYgKGVkaXRvciAmJiAhZWRpdG9yLmlzRGVzdHJveWVkKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gZWRpdG9yLnN0YXRlLmRvYy50ZXh0Q29udGVudDtcbiAgICAgIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICBzZXRXb3JkQ291bnQod29yZHMpO1xuICAgIH1cbiAgfSwgW2VkaXRvciwgc2V0V29yZENvdW50XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtbGl0ZXJhdGEpLCBHZW9yZ2lhLCBzZXJpZlwiLFxuICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuOCxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICBtYXhXaWR0aDogNjgwLFxuICAgICAgICBtYXJnaW46IFwiMCBhdXRvXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiM3JlbSAycmVtIDZyZW1cIixcbiAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPEVkaXRvckNvbnRlbnQgZWRpdG9yPXtlZGl0b3J9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIHsgVGlwdGFwRWRpdG9yUHJvcHMgfTtcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VFZGl0b3IiLCJFZGl0b3JDb250ZW50IiwiU3RhcnRlcktpdCIsIlBsYWNlaG9sZGVyIiwiSGlnaGxpZ2h0IiwiVHlwb2dyYXBoeSIsIkltYWdlIiwiU3VwZXJzY3JpcHQiLCJUaXB0YXBMaW5rIiwiVGV4dFN0eWxlIiwiQ29sb3IiLCJVbmRlcmxpbmUiLCJNYXJrZG93biIsInVzZUFwcFN0b3JlIiwiU2xhc2hDb21tYW5kcyIsInN1Z2dlc3Rpb24iLCJUaXB0YXBFZGl0b3IiLCJpbml0aWFsQ29udGVudCIsIm9uQ29udGVudENoYW5nZSIsIm9uRWRpdG9yIiwiZWRpdGFibGUiLCJzZXRXb3JkQ291bnQiLCJzZWxlY3RTZXRXb3JkQ291bnQiLCJzIiwib25Db250ZW50Q2hhbmdlUmVmIiwiY3VycmVudCIsImVkaXRvciIsImV4dGVuc2lvbnMiLCJjb25maWd1cmUiLCJoZWFkaW5nIiwibGV2ZWxzIiwicGxhY2Vob2xkZXIiLCJtdWx0aWNvbG9yIiwiaW5saW5lIiwiYWxsb3dCYXNlNjQiLCJodG1sIiwidHJhbnNmb3JtUGFzdGVkVGV4dCIsInRyYW5zZm9ybUNvcGllZFRleHQiLCJvcGVuT25DbGljayIsIkhUTUxBdHRyaWJ1dGVzIiwiY2xhc3MiLCJjb250ZW50Iiwib25VcGRhdGUiLCJoYW5kbGVVcGRhdGUiLCJlZCIsIm1kIiwic3RvcmFnZSIsIm1hcmtkb3duIiwiZ2V0TWFya2Rvd24iLCJ0ZXh0Iiwic3RhdGUiLCJkb2MiLCJ0ZXh0Q29udGVudCIsIndvcmRzIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwiZWRpdG9yUHJvcHMiLCJhdHRyaWJ1dGVzIiwibm90aWZ5RWRpdG9yUmVhZHkiLCJzeW5jRWRpdGFibGUiLCJzZXRFZGl0YWJsZSIsImNvdW50SW5pdGlhbFdvcmRzIiwiaXNEZXN0cm95ZWQiLCJkaXYiLCJzdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsIm1heFdpZHRoIiwibWFyZ2luIiwicGFkZGluZyIsIm1pbkhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/editor/TiptapEditor.tsx\n");

/***/ }),

/***/ "(ssr)/./components/rightpanel/ChatPanel.tsx":
/*!*********************************************!*\
  !*** ./components/rightpanel/ChatPanel.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bookmark.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Bookmark,MessageSquare,Pencil,Save,Search,Send,Star,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/lib/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/storage */ \"(ssr)/./lib/storage.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/tokens */ \"(ssr)/./lib/tokens.ts\");\n/* harmony import */ var _components_shared_DiffHunk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/shared/DiffHunk */ \"(ssr)/./components/shared/DiffHunk.tsx\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\nconst MODE_META = [\n    {\n        key: \"writing\",\n        label: \"Writing\",\n        icon: _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n    },\n    {\n        key: \"critique\",\n        label: \"Critique\",\n        icon: _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n    },\n    {\n        key: \"research\",\n        label: \"Research\",\n        icon: _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    },\n    {\n        key: \"revision\",\n        label: \"Revision\",\n        icon: _barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n    }\n];\nfunction StreamingDots() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline-flex\",\n            gap: 3,\n            padding: \"4px 0\"\n        },\n        children: [\n            [\n                0,\n                1,\n                2\n            ].map(function renderDot(i) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        width: 5,\n                        height: 5,\n                        borderRadius: \"50%\",\n                        backgroundColor: \"var(--color-accent)\",\n                        animation: `dotPulse 1.2s ease-in-out ${i * 0.2}s infinite`\n                    }\n                }, i, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                    lineNumber: 35,\n                    columnNumber: 11\n                }, this);\n            }),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                children: `\n        @keyframes dotPulse {\n          0%, 60%, 100% { opacity: 0.3; transform: scale(0.8); }\n          30% { opacity: 1; transform: scale(1); }\n        }\n      `\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\nfunction parseEditBlocks(content) {\n    const edits = [];\n    let idx = 0;\n    const cleaned = content.replace(/```edit\\n([\\s\\S]*?)```/g, function replaceEdit(_, inner) {\n        edits.push({\n            oldText: \"\",\n            newText: inner.trim(),\n            index: idx++\n        });\n        return `[[EDIT_BLOCK_${idx - 1}]]`;\n    });\n    return {\n        text: cleaned,\n        edits\n    };\n}\nfunction chatStorageKey(repoKey, mode) {\n    return `scriva:chat:${repoKey}:${mode}`;\n}\nfunction revisionStorageKey(repoKey) {\n    return `scriva:revision-notes:${repoKey}`;\n}\nfunction ChatPanel() {\n    const preferences = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectPrefs(s) {\n        return s.preferences;\n    });\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const currentChapter = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectChapter(s) {\n        return s.editor.currentChapter;\n    });\n    const repoKey = currentBook || \"default\";\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"writing\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [revisionNotes, setRevisionNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [streamText, setStreamText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [model, setModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(preferences.defaultModel);\n    const [acceptedEdits, setAcceptedEdits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [savingPlan, setSavingPlan] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadHistory() {\n        setMessages((0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.getItem)(chatStorageKey(repoKey, mode), []));\n        if (mode === \"revision\") {\n            setRevisionNotes((0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.getItem)(revisionStorageKey(repoKey), []));\n        }\n    }, [\n        repoKey,\n        mode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function scrollToBottom() {\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n    }, [\n        messages,\n        streamText,\n        revisionNotes\n    ]);\n    const persistMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function persistMessages(msgs) {\n        setMessages(msgs);\n        (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.setItem)(chatStorageKey(repoKey, mode), msgs);\n    }, [\n        repoKey,\n        mode\n    ]);\n    function persistNotes(notes) {\n        setRevisionNotes(notes);\n        (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.setItem)(revisionStorageKey(repoKey), notes);\n    }\n    function handleClearChat() {\n        if (mode === \"revision\") {\n            persistNotes([]);\n        }\n        persistMessages([]);\n        setStreamText(\"\");\n        setAcceptedEdits({});\n    }\n    function handleModeChange(newMode) {\n        if (newMode === mode) return;\n        setMode(newMode);\n        setInput(\"\");\n        setStreamText(\"\");\n    }\n    function handleAddRevisionNote() {\n        const text = input.trim();\n        if (!text) return;\n        const note = {\n            id: `note-${Date.now()}`,\n            text,\n            chapterId: currentChapter,\n            timestamp: Date.now()\n        };\n        persistNotes([\n            ...revisionNotes,\n            note\n        ]);\n        setInput(\"\");\n    }\n    function buildCritiqueMessage(text) {\n        if (currentChapter) {\n            return `[Current chapter: ${currentChapter}]\\n\\n${text}`;\n        }\n        return text;\n    }\n    function buildResearchFirstMessage(text) {\n        return \"You are a deep research assistant for a book project. \" + \"The user will describe a topic they need researched. \" + \"Provide a thorough, well-structured research brief with sources, key facts, \" + \"historical context, and connections relevant to their book. \" + \"Be comprehensive but organized.\\n\\n\" + \"Research request: \" + text;\n    }\n    function buildRevisionPlanPrompt(notes) {\n        const notesList = notes.map(function formatNote(n, i) {\n            const chapter = n.chapterId ? ` (chapter: ${n.chapterId})` : \"\";\n            return `${i + 1}. ${n.text}${chapter}`;\n        }).join(\"\\n\");\n        return \"You are a revision planning assistant. The author has collected the following revision notes \" + \"while reviewing their manuscript. Create a structured, actionable revision plan organized by priority \" + \"and chapter. Group related notes together and suggest an order of operations.\\n\\n\" + \"Revision notes:\\n\" + notesList;\n    }\n    function getRevisionPlanTokenEstimate() {\n        const prompt = buildRevisionPlanPrompt(revisionNotes);\n        return (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.estimateTokens)(prompt);\n    }\n    async function handleGenerateRevisionPlan() {\n        if (revisionNotes.length === 0 || streaming) return;\n        if (!preferences.keysStored) return;\n        const prompt = buildRevisionPlanPrompt(revisionNotes);\n        const userMsg = {\n            id: `msg-${Date.now()}`,\n            role: \"user\",\n            content: \"Generate revision plan from \" + revisionNotes.length + \" notes\",\n            timestamp: Date.now()\n        };\n        const updatedMessages = [\n            ...messages,\n            userMsg\n        ];\n        persistMessages(updatedMessages);\n        setStreaming(true);\n        setStreamText(\"\");\n        const abortController = new AbortController();\n        abortRef.current = abortController;\n        try {\n            const apiMessages = [\n                {\n                    role: \"user\",\n                    content: prompt\n                }\n            ];\n            const res = await fetch(\"/api/ai/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    messages: apiMessages,\n                    mode: \"revision-plan\",\n                    model\n                }),\n                signal: abortController.signal\n            });\n            if (!res.ok) {\n                throw new Error(`API error: ${res.status}`);\n            }\n            const reader = res.body?.getReader();\n            if (!reader) throw new Error(\"No response body\");\n            const decoder = new TextDecoder();\n            let fullResponse = \"\";\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                const lines = chunk.split(\"\\n\");\n                for (const line of lines){\n                    if (!line.startsWith(\"data: \")) continue;\n                    const data = line.slice(6);\n                    if (data === \"[DONE]\") continue;\n                    try {\n                        const parsed = JSON.parse(data);\n                        if (parsed.text) {\n                            fullResponse += parsed.text;\n                            setStreamText(fullResponse);\n                        }\n                        if (parsed.error) {\n                            throw new Error(parsed.error);\n                        }\n                    } catch (e) {\n                        if (e instanceof SyntaxError) continue;\n                        throw e;\n                    }\n                }\n            }\n            const assistantMsg = {\n                id: `msg-${Date.now()}`,\n                role: \"assistant\",\n                content: fullResponse,\n                timestamp: Date.now()\n            };\n            persistMessages([\n                ...updatedMessages,\n                assistantMsg\n            ]);\n        } catch (err) {\n            if (err instanceof Error && err.name === \"AbortError\") return;\n            const errorMsg = {\n                id: `msg-${Date.now()}`,\n                role: \"assistant\",\n                content: `Error: ${err instanceof Error ? err.message : \"Unknown error\"}`,\n                timestamp: Date.now()\n            };\n            persistMessages([\n                ...updatedMessages,\n                errorMsg\n            ]);\n        } finally{\n            setStreaming(false);\n            setStreamText(\"\");\n            abortRef.current = null;\n        }\n    }\n    async function handleSaveRevisionPlan() {\n        const lastAssistant = [\n            ...messages\n        ].reverse().find(function findAssistant(m) {\n            return m.role === \"assistant\";\n        });\n        if (!lastAssistant) return;\n        const config = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_6__.getBookConfig)(currentBook);\n        if (!config) return;\n        setSavingPlan(true);\n        try {\n            await fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: config.owner,\n                    repo: config.repo,\n                    branch: config.branch,\n                    path: \"revision-plan.md\",\n                    content: lastAssistant.content,\n                    message: \"Add revision plan\"\n                })\n            });\n        } catch  {} finally{\n            setSavingPlan(false);\n        }\n    }\n    async function handleSend() {\n        if (mode === \"revision\") {\n            handleAddRevisionNote();\n            return;\n        }\n        const text = input.trim();\n        if (!text || streaming) return;\n        if (!preferences.keysStored) return;\n        let messageContent = text;\n        let apiMode = mode;\n        if (mode === \"critique\") {\n            messageContent = buildCritiqueMessage(text);\n            apiMode = \"critique\";\n        }\n        if (mode === \"research\" && messages.length === 0) {\n            messageContent = buildResearchFirstMessage(text);\n            apiMode = \"research\";\n        }\n        const userMsg = {\n            id: `msg-${Date.now()}`,\n            role: \"user\",\n            content: text,\n            timestamp: Date.now()\n        };\n        const updatedMessages = [\n            ...messages,\n            userMsg\n        ];\n        persistMessages(updatedMessages);\n        setInput(\"\");\n        setStreaming(true);\n        setStreamText(\"\");\n        const abortController = new AbortController();\n        abortRef.current = abortController;\n        try {\n            const apiMessages = updatedMessages.map(function toApiMsg(m, i) {\n                if (i === updatedMessages.length - 1) {\n                    return {\n                        role: m.role,\n                        content: messageContent\n                    };\n                }\n                return {\n                    role: m.role,\n                    content: m.content\n                };\n            });\n            const res = await fetch(\"/api/ai/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    messages: apiMessages,\n                    mode: apiMode,\n                    model\n                }),\n                signal: abortController.signal\n            });\n            if (!res.ok) {\n                throw new Error(`API error: ${res.status}`);\n            }\n            const reader = res.body?.getReader();\n            if (!reader) throw new Error(\"No response body\");\n            const decoder = new TextDecoder();\n            let fullResponse = \"\";\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                const lines = chunk.split(\"\\n\");\n                for (const line of lines){\n                    if (!line.startsWith(\"data: \")) continue;\n                    const data = line.slice(6);\n                    if (data === \"[DONE]\") continue;\n                    try {\n                        const parsed = JSON.parse(data);\n                        if (parsed.text) {\n                            fullResponse += parsed.text;\n                            setStreamText(fullResponse);\n                        }\n                        if (parsed.error) {\n                            throw new Error(parsed.error);\n                        }\n                    } catch (e) {\n                        if (e instanceof SyntaxError) continue;\n                        throw e;\n                    }\n                }\n            }\n            const assistantMsg = {\n                id: `msg-${Date.now()}`,\n                role: \"assistant\",\n                content: fullResponse,\n                timestamp: Date.now()\n            };\n            persistMessages([\n                ...updatedMessages,\n                assistantMsg\n            ]);\n        } catch (err) {\n            if (err instanceof Error && err.name === \"AbortError\") return;\n            const errorMsg = {\n                id: `msg-${Date.now()}`,\n                role: \"assistant\",\n                content: `Error: ${err instanceof Error ? err.message : \"Unknown error\"}`,\n                timestamp: Date.now()\n            };\n            persistMessages([\n                ...updatedMessages,\n                errorMsg\n            ]);\n        } finally{\n            setStreaming(false);\n            setStreamText(\"\");\n            abortRef.current = null;\n        }\n    }\n    function handleKeyDown(e) {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSend();\n        }\n    }\n    function handleEditAccept(msgId, editIdx) {\n        setAcceptedEdits(function update(prev) {\n            return {\n                ...prev,\n                [`${msgId}-${editIdx}`]: true\n            };\n        });\n    }\n    function handleEditReject(msgId, editIdx) {\n        setAcceptedEdits(function update(prev) {\n            return {\n                ...prev,\n                [`${msgId}-${editIdx}`]: false\n            };\n        });\n    }\n    function renderMessageContent(msg) {\n        const { text, edits } = parseEditBlocks(msg.content);\n        if (edits.length === 0) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: 13,\n                    lineHeight: 1.6\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_11__.Markdown, {\n                    remarkPlugins: [\n                        remark_gfm__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n                    ],\n                    components: {\n                        code: function renderCode({ children, className }) {\n                            const isInline = !className;\n                            if (isInline) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                    style: {\n                                        fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                                        fontSize: 12,\n                                        backgroundColor: \"var(--color-surface-hover)\",\n                                        padding: \"1px 4px\",\n                                        borderRadius: 3\n                                    },\n                                    children: children\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                    lineNumber: 477,\n                                    columnNumber: 21\n                                }, void 0);\n                            }\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                style: {\n                                    fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                                    fontSize: 12,\n                                    backgroundColor: \"var(--color-bg)\",\n                                    padding: 12,\n                                    borderRadius: 6,\n                                    overflowX: \"auto\",\n                                    margin: \"8px 0\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                    children: children\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                    lineNumber: 502,\n                                    columnNumber: 21\n                                }, void 0)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 491,\n                                columnNumber: 19\n                            }, void 0);\n                        },\n                        p: function renderP({ children }) {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    margin: \"6px 0\"\n                                },\n                                children: children\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 507,\n                                columnNumber: 24\n                            }, void 0);\n                        }\n                    },\n                    children: text\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                    lineNumber: 470,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 469,\n                columnNumber: 9\n            }, this);\n        }\n        const parts = text.split(/\\[\\[EDIT_BLOCK_(\\d+)\\]\\]/);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                fontSize: 13,\n                lineHeight: 1.6\n            },\n            children: parts.map(function renderPart(part, i) {\n                if (i % 2 === 1) {\n                    const editIdx = parseInt(part, 10);\n                    const edit = edits[editIdx];\n                    if (!edit) return null;\n                    const key = `${msg.id}-${editIdx}`;\n                    const state = acceptedEdits[key];\n                    if (state === true) {\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                color: \"var(--color-success)\",\n                                fontStyle: \"italic\",\n                                fontSize: 12\n                            },\n                            children: \"Change applied\"\n                        }, key, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 529,\n                            columnNumber: 17\n                        }, this);\n                    }\n                    if (state === false) {\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                color: \"var(--color-text-muted)\",\n                                fontStyle: \"italic\",\n                                fontSize: 12\n                            },\n                            children: \"Change rejected\"\n                        }, key, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 543,\n                            columnNumber: 17\n                        }, this);\n                    }\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_DiffHunk__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        oldText: edit.oldText,\n                        newText: edit.newText,\n                        onAccept: function accept() {\n                            handleEditAccept(msg.id, editIdx);\n                        },\n                        onReject: function reject() {\n                            handleEditReject(msg.id, editIdx);\n                        }\n                    }, key, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 556,\n                        columnNumber: 15\n                    }, this);\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_11__.Markdown, {\n                    remarkPlugins: [\n                        remark_gfm__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n                    ],\n                    children: part\n                }, i, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                    lineNumber: 570,\n                    columnNumber: 13\n                }, this);\n            })\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n            lineNumber: 519,\n            columnNumber: 7\n        }, this);\n    }\n    function getEmptyStateText() {\n        switch(mode){\n            case \"writing\":\n                return \"Ask about your book, get writing help, or request edits.\";\n            case \"critique\":\n                return \"Get structural feedback on your chapters. Your current chapter is included automatically.\";\n            case \"research\":\n                return \"Describe a topic to research. The first message builds a deep research brief.\";\n            case \"revision\":\n                return \"Add revision notes as you review. Generate a plan when ready.\";\n        }\n    }\n    function getPlaceholderText() {\n        if (!preferences.keysStored) return \"Set API key in settings\";\n        switch(mode){\n            case \"writing\":\n                return \"Ask about your book...\";\n            case \"critique\":\n                return \"Ask for structural feedback...\";\n            case \"research\":\n                return \"Describe what to research...\";\n            case \"revision\":\n                return \"Add a revision note...\";\n        }\n    }\n    const tokenEstimate = (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.estimateTokens)(input);\n    const hasRevisionPlan = mode === \"revision\" && messages.some(function findPlan(m) {\n        return m.role === \"assistant\";\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            flex: 1,\n            minHeight: 0,\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    padding: \"6px 12px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 2\n                        },\n                        children: MODE_META.map(function renderModeBtn(m) {\n                            const isActive = mode === m.key;\n                            const Icon = m.icon;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function selectMode() {\n                                    handleModeChange(m.key);\n                                },\n                                title: m.label,\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    gap: 4,\n                                    padding: \"4px 8px\",\n                                    fontSize: 11,\n                                    fontFamily: \"inherit\",\n                                    fontWeight: isActive ? 600 : 400,\n                                    border: \"1px solid\",\n                                    borderColor: isActive ? \"var(--color-accent)\" : \"transparent\",\n                                    borderRadius: 12,\n                                    backgroundColor: isActive ? \"color-mix(in srgb, var(--color-accent) 10%, transparent)\" : \"transparent\",\n                                    color: isActive ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    transition: \"all 150ms\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                        size: 12\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 661,\n                                        columnNumber: 17\n                                    }, this),\n                                    m.label\n                                ]\n                            }, m.key, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 636,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 631,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClearChat,\n                        title: \"Clear chat\",\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 28,\n                            height: 28,\n                            background: \"none\",\n                            border: \"none\",\n                            borderRadius: 4,\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            size: 14\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 683,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 667,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollRef,\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\",\n                    padding: \"12px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 12\n                },\n                children: [\n                    messages.length === 0 && revisionNotes.length === 0 && !streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            flex: 1,\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            color: \"var(--color-text-muted)\",\n                            fontSize: 13,\n                            textAlign: \"center\",\n                            padding: 24\n                        },\n                        children: getEmptyStateText()\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 699,\n                        columnNumber: 11\n                    }, this),\n                    mode === \"revision\" && revisionNotes.map(function renderNote(note) {\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"flex-end\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    maxWidth: \"88%\",\n                                    padding: \"8px 12px\",\n                                    borderRadius: 12,\n                                    backgroundColor: \"color-mix(in srgb, var(--color-text-muted) 8%, transparent)\",\n                                    color: \"var(--color-text)\",\n                                    fontSize: 13,\n                                    lineHeight: 1.6,\n                                    wordBreak: \"break-word\",\n                                    display: \"flex\",\n                                    alignItems: \"flex-start\",\n                                    gap: 8\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        size: 14,\n                                        style: {\n                                            flexShrink: 0,\n                                            marginTop: 3,\n                                            color: \"var(--color-text-muted)\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 739,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    fontSize: 10,\n                                                    color: \"var(--color-text-muted)\",\n                                                    marginBottom: 2\n                                                },\n                                                children: note.chapterId ? note.chapterId : \"General\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                                lineNumber: 748,\n                                                columnNumber: 19\n                                            }, this),\n                                            note.text\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 747,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 724,\n                                columnNumber: 15\n                            }, this)\n                        }, note.id, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 717,\n                            columnNumber: 13\n                        }, this);\n                    }),\n                    messages.map(function renderMessage(msg) {\n                        const isUser = msg.role === \"user\";\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: isUser ? \"flex-end\" : \"flex-start\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    maxWidth: \"88%\",\n                                    padding: \"8px 12px\",\n                                    borderRadius: 12,\n                                    backgroundColor: isUser ? \"color-mix(in srgb, var(--color-accent) 12%, transparent)\" : \"var(--color-surface)\",\n                                    color: \"var(--color-text)\",\n                                    fontSize: 13,\n                                    lineHeight: 1.6,\n                                    wordBreak: \"break-word\"\n                                },\n                                children: isUser ? msg.content : renderMessageContent(msg)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 768,\n                                columnNumber: 15\n                            }, this)\n                        }, msg.id, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 761,\n                            columnNumber: 13\n                        }, this);\n                    }),\n                    streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            justifyContent: \"flex-start\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                maxWidth: \"88%\",\n                                padding: \"8px 12px\",\n                                borderRadius: 12,\n                                backgroundColor: \"var(--color-surface)\",\n                                color: \"var(--color-text)\",\n                                fontSize: 13,\n                                lineHeight: 1.6\n                            },\n                            children: streamText ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_11__.Markdown, {\n                                remarkPlugins: [\n                                    remark_gfm__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n                                ],\n                                children: streamText\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 802,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StreamingDots, {}, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                            lineNumber: 790,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 789,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 687,\n                columnNumber: 7\n            }, this),\n            mode === \"revision\" && revisionNotes.length > 0 && !streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"8px 12px\",\n                    borderTop: \"1px solid var(--color-border)\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 6,\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"space-between\",\n                            fontSize: 11,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    revisionNotes.length,\n                                    \" note\",\n                                    revisionNotes.length !== 1 ? \"s\" : \"\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 831,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    \"~\",\n                                    (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.formatTokenCount)(getRevisionPlanTokenEstimate()),\n                                    \" tokens\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 832,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 822,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 6\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleGenerateRevisionPlan,\n                                disabled: !preferences.keysStored,\n                                style: {\n                                    flex: 1,\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    gap: 6,\n                                    padding: \"6px 12px\",\n                                    fontSize: 12,\n                                    fontFamily: \"inherit\",\n                                    fontWeight: 600,\n                                    border: \"none\",\n                                    borderRadius: 8,\n                                    backgroundColor: \"var(--color-accent)\",\n                                    color: \"#fff\",\n                                    cursor: preferences.keysStored ? \"pointer\" : \"default\",\n                                    opacity: preferences.keysStored ? 1 : 0.5,\n                                    transition: \"opacity 150ms\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        size: 14\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 857,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Generate Revision Plan\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 835,\n                                columnNumber: 13\n                            }, this),\n                            hasRevisionPlan && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSaveRevisionPlan,\n                                disabled: savingPlan,\n                                title: \"Save to repo as revision-plan.md\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 36,\n                                    height: 36,\n                                    borderRadius: 8,\n                                    border: \"1px solid var(--color-border)\",\n                                    backgroundColor: \"transparent\",\n                                    color: savingPlan ? \"var(--color-text-muted)\" : \"var(--color-accent)\",\n                                    cursor: savingPlan ? \"default\" : \"pointer\",\n                                    flexShrink: 0,\n                                    transition: \"color 150ms\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                    lineNumber: 880,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 861,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 834,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 812,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    borderTop: \"1px solid var(--color-border)\",\n                    padding: \"8px 12px\",\n                    flexShrink: 0,\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"space-between\",\n                            fontSize: 11,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: 4\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function selectHaiku() {\n                                            setModel(\"haiku\");\n                                        },\n                                        style: {\n                                            padding: \"2px 8px\",\n                                            fontSize: 11,\n                                            fontFamily: \"inherit\",\n                                            border: \"1px solid\",\n                                            borderColor: model === \"haiku\" ? \"var(--color-accent)\" : \"var(--color-border)\",\n                                            borderRadius: 4,\n                                            backgroundColor: model === \"haiku\" ? \"color-mix(in srgb, var(--color-accent) 10%, transparent)\" : \"transparent\",\n                                            color: model === \"haiku\" ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                                            cursor: \"pointer\"\n                                        },\n                                        children: \"Haiku\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 907,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function selectSonnet() {\n                                            setModel(\"sonnet\");\n                                        },\n                                        style: {\n                                            padding: \"2px 8px\",\n                                            fontSize: 11,\n                                            fontFamily: \"inherit\",\n                                            border: \"1px solid\",\n                                            borderColor: model === \"sonnet\" ? \"var(--color-accent)\" : \"var(--color-border)\",\n                                            borderRadius: 4,\n                                            backgroundColor: model === \"sonnet\" ? \"color-mix(in srgb, var(--color-accent) 10%, transparent)\" : \"transparent\",\n                                            color: model === \"sonnet\" ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                                            cursor: \"pointer\"\n                                        },\n                                        children: \"Sonnet\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                        lineNumber: 925,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 906,\n                                columnNumber: 11\n                            }, this),\n                            input.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.formatTokenCount)(tokenEstimate),\n                                    \" tokens\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 945,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 897,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"flex-end\",\n                            gap: 6\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                ref: inputRef,\n                                value: input,\n                                onChange: function handleChange(e) {\n                                    setInput(e.target.value);\n                                },\n                                onKeyDown: handleKeyDown,\n                                placeholder: getPlaceholderText(),\n                                disabled: mode !== \"revision\" && (!preferences.keysStored || streaming),\n                                rows: 1,\n                                style: {\n                                    flex: 1,\n                                    resize: \"none\",\n                                    padding: \"8px 10px\",\n                                    fontSize: 13,\n                                    fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                                    lineHeight: 1.5,\n                                    backgroundColor: \"var(--color-bg)\",\n                                    color: \"var(--color-text)\",\n                                    border: \"1px solid var(--color-border)\",\n                                    borderRadius: 8,\n                                    outline: \"none\",\n                                    minHeight: 36,\n                                    maxHeight: 120\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 956,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSend,\n                                disabled: mode === \"revision\" ? !input.trim() : !input.trim() || streaming || !preferences.keysStored,\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    gap: 4,\n                                    height: 36,\n                                    paddingLeft: mode === \"revision\" ? 12 : 0,\n                                    paddingRight: mode === \"revision\" ? 12 : 0,\n                                    width: mode === \"revision\" ? \"auto\" : 36,\n                                    borderRadius: 8,\n                                    border: \"none\",\n                                    fontSize: 12,\n                                    fontFamily: \"inherit\",\n                                    fontWeight: 500,\n                                    backgroundColor: (mode === \"revision\" ? input.trim() : input.trim() && !streaming && preferences.keysStored) ? \"var(--color-accent)\" : \"var(--color-surface-hover)\",\n                                    color: (mode === \"revision\" ? input.trim() : input.trim() && !streaming && preferences.keysStored) ? \"#fff\" : \"var(--color-text-muted)\",\n                                    cursor: (mode === \"revision\" ? input.trim() : input.trim() && !streaming && preferences.keysStored) ? \"pointer\" : \"default\",\n                                    flexShrink: 0,\n                                    transition: \"background-color 150ms, color 150ms\"\n                                },\n                                children: mode === \"revision\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                            lineNumber: 1021,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Add Note\"\n                                    ]\n                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Bookmark_MessageSquare_Pencil_Save_Search_Send_Star_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    size: 16\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                    lineNumber: 1025,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                                lineNumber: 982,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                        lineNumber: 949,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n                lineNumber: 887,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/ChatPanel.tsx\",\n        lineNumber: 612,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JpZ2h0cGFuZWwvQ2hhdFBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlFO0FBQzBDO0FBQ2hFO0FBQ1I7QUFDRztBQUNXO0FBQ2U7QUFFWjtBQUNIO0FBV2pELE1BQU1zQixZQUE0RTtJQUNoRjtRQUFFQyxLQUFLO1FBQVdDLE9BQU87UUFBV0MsTUFBTWYsK0lBQWFBO0lBQUM7SUFDeEQ7UUFBRWEsS0FBSztRQUFZQyxPQUFPO1FBQVlDLE1BQU1oQiwrSUFBSUE7SUFBQztJQUNqRDtRQUFFYyxLQUFLO1FBQVlDLE9BQU87UUFBWUMsTUFBTWxCLCtJQUFNQTtJQUFDO0lBQ25EO1FBQUVnQixLQUFLO1FBQVlDLE9BQU87UUFBWUMsTUFBTWpCLGdKQUFNQTtJQUFDO0NBQ3BEO0FBRUQsU0FBU2tCO0lBQ1AscUJBQ0UsOERBQUNDO1FBQUtDLE9BQU87WUFBRUMsU0FBUztZQUFlQyxLQUFLO1lBQUdDLFNBQVM7UUFBUTs7WUFDN0Q7Z0JBQUM7Z0JBQUc7Z0JBQUc7YUFBRSxDQUFDQyxHQUFHLENBQUMsU0FBU0MsVUFBVUMsQ0FBQztnQkFDakMscUJBQ0UsOERBQUNQO29CQUVDQyxPQUFPO3dCQUNMTyxPQUFPO3dCQUNQQyxRQUFRO3dCQUNSQyxjQUFjO3dCQUNkQyxpQkFBaUI7d0JBQ2pCQyxXQUFXLENBQUMsMEJBQTBCLEVBQUVMLElBQUksSUFBSSxVQUFVLENBQUM7b0JBQzdEO21CQVBLQTs7Ozs7WUFVWDswQkFDQSw4REFBQ047MEJBQU8sQ0FBQzs7Ozs7TUFLVCxDQUFDOzs7Ozs7Ozs7Ozs7QUFHUDtBQVFBLFNBQVNZLGdCQUFnQkMsT0FBZTtJQUN0QyxNQUFNQyxRQUFxQixFQUFFO0lBQzdCLElBQUlDLE1BQU07SUFDVixNQUFNQyxVQUFVSCxRQUFRSSxPQUFPLENBQUMsMkJBQTJCLFNBQVNDLFlBQVlDLENBQUMsRUFBRUMsS0FBSztRQUN0Rk4sTUFBTU8sSUFBSSxDQUFDO1lBQUVD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TTs7aUVBSXhCLDhEQUFDaFAsZ0pBQUlBO29DQUFDZ1AsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3JpZ2h0cGFuZWwvQ2hhdFBhbmVsLnRzeD8wNmJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZW5kLCBUcmFzaDIsIEJvb2tPcGVuLCBTZWFyY2gsIFBlbmNpbCwgU3RhciwgTWVzc2FnZVNxdWFyZSwgQm9va21hcmssIFNhdmUgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tIFwicmVhY3QtbWFya2Rvd25cIjtcbmltcG9ydCByZW1hcmtHZm0gZnJvbSBcInJlbWFyay1nZm1cIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB7IGdldEl0ZW0sIHNldEl0ZW0gfSBmcm9tIFwiQC9saWIvc3RvcmFnZVwiO1xuaW1wb3J0IHsgZXN0aW1hdGVUb2tlbnMsIGZvcm1hdFRva2VuQ291bnQgfSBmcm9tIFwiQC9saWIvdG9rZW5zXCI7XG5pbXBvcnQgdHlwZSB7IENoYXRNZXNzYWdlIH0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCBEaWZmSHVuayBmcm9tIFwiQC9jb21wb25lbnRzL3NoYXJlZC9EaWZmSHVua1wiO1xuaW1wb3J0IHsgZ2V0Qm9va0NvbmZpZyB9IGZyb20gXCJAL2xpYi9ib29rQ29uZmlnXCI7XG5cbnR5cGUgQ2hhdE1vZGUgPSBcIndyaXRpbmdcIiB8IFwiY3JpdGlxdWVcIiB8IFwicmVzZWFyY2hcIiB8IFwicmV2aXNpb25cIjtcblxuaW50ZXJmYWNlIFJldmlzaW9uTm90ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgY2hhcHRlcklkPzogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuY29uc3QgTU9ERV9NRVRBOiB7IGtleTogQ2hhdE1vZGU7IGxhYmVsOiBzdHJpbmc7IGljb246IHR5cGVvZiBNZXNzYWdlU3F1YXJlIH1bXSA9IFtcbiAgeyBrZXk6IFwid3JpdGluZ1wiLCBsYWJlbDogXCJXcml0aW5nXCIsIGljb246IE1lc3NhZ2VTcXVhcmUgfSxcbiAgeyBrZXk6IFwiY3JpdGlxdWVcIiwgbGFiZWw6IFwiQ3JpdGlxdWVcIiwgaWNvbjogU3RhciB9LFxuICB7IGtleTogXCJyZXNlYXJjaFwiLCBsYWJlbDogXCJSZXNlYXJjaFwiLCBpY29uOiBTZWFyY2ggfSxcbiAgeyBrZXk6IFwicmV2aXNpb25cIiwgbGFiZWw6IFwiUmV2aXNpb25cIiwgaWNvbjogUGVuY2lsIH0sXG5dO1xuXG5mdW5jdGlvbiBTdHJlYW1pbmdEb3RzKCkge1xuICByZXR1cm4gKFxuICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgZ2FwOiAzLCBwYWRkaW5nOiBcIjRweCAwXCIgfX0+XG4gICAgICB7WzAsIDEsIDJdLm1hcChmdW5jdGlvbiByZW5kZXJEb3QoaSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogNSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiA1LFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogYGRvdFB1bHNlIDEuMnMgZWFzZS1pbi1vdXQgJHtpICogMC4yfXMgaW5maW5pdGVgLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgICA8c3R5bGU+e2BcbiAgICAgICAgQGtleWZyYW1lcyBkb3RQdWxzZSB7XG4gICAgICAgICAgMCUsIDYwJSwgMTAwJSB7IG9wYWNpdHk6IDAuMzsgdHJhbnNmb3JtOiBzY2FsZSgwLjgpOyB9XG4gICAgICAgICAgMzAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5pbnRlcmZhY2UgRWRpdEJsb2NrIHtcbiAgb2xkVGV4dDogc3RyaW5nO1xuICBuZXdUZXh0OiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRWRpdEJsb2Nrcyhjb250ZW50OiBzdHJpbmcpOiB7IHRleHQ6IHN0cmluZzsgZWRpdHM6IEVkaXRCbG9ja1tdIH0ge1xuICBjb25zdCBlZGl0czogRWRpdEJsb2NrW10gPSBbXTtcbiAgbGV0IGlkeCA9IDA7XG4gIGNvbnN0IGNsZWFuZWQgPSBjb250ZW50LnJlcGxhY2UoL2BgYGVkaXRcXG4oW1xcc1xcU10qPylgYGAvZywgZnVuY3Rpb24gcmVwbGFjZUVkaXQoXywgaW5uZXIpIHtcbiAgICBlZGl0cy5wdXNoKHsgb2xkVGV4dDogXCJcIiwgbmV3VGV4dDogaW5uZXIudHJpbSgpLCBpbmRleDogaWR4KysgfSk7XG4gICAgcmV0dXJuIGBbW0VESVRfQkxPQ0tfJHtpZHggLSAxfV1dYDtcbiAgfSk7XG4gIHJldHVybiB7IHRleHQ6IGNsZWFuZWQsIGVkaXRzIH07XG59XG5cbmZ1bmN0aW9uIGNoYXRTdG9yYWdlS2V5KHJlcG9LZXk6IHN0cmluZywgbW9kZTogQ2hhdE1vZGUpOiBzdHJpbmcge1xuICByZXR1cm4gYHNjcml2YTpjaGF0OiR7cmVwb0tleX06JHttb2RlfWA7XG59XG5cbmZ1bmN0aW9uIHJldmlzaW9uU3RvcmFnZUtleShyZXBvS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYHNjcml2YTpyZXZpc2lvbi1ub3Rlczoke3JlcG9LZXl9YDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhbmVsKCkge1xuICBjb25zdCBwcmVmZXJlbmNlcyA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdFByZWZzKHMpIHtcbiAgICByZXR1cm4gcy5wcmVmZXJlbmNlcztcbiAgfSk7XG4gIGNvbnN0IGN1cnJlbnRCb29rID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0Qm9vayhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmN1cnJlbnRCb29rO1xuICB9KTtcbiAgY29uc3QgY3VycmVudENoYXB0ZXIgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RDaGFwdGVyKHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3IuY3VycmVudENoYXB0ZXI7XG4gIH0pO1xuXG4gIGNvbnN0IHJlcG9LZXkgPSBjdXJyZW50Qm9vayB8fCBcImRlZmF1bHRcIjtcbiAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gdXNlU3RhdGU8Q2hhdE1vZGU+KFwid3JpdGluZ1wiKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxDaGF0TWVzc2FnZVtdPihbXSk7XG4gIGNvbnN0IFtyZXZpc2lvbk5vdGVzLCBzZXRSZXZpc2lvbk5vdGVzXSA9IHVzZVN0YXRlPFJldmlzaW9uTm90ZVtdPihbXSk7XG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzdHJlYW1pbmcsIHNldFN0cmVhbWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdHJlYW1UZXh0LCBzZXRTdHJlYW1UZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbW9kZWwsIHNldE1vZGVsXSA9IHVzZVN0YXRlPFwiaGFpa3VcIiB8IFwic29ubmV0XCI+KHByZWZlcmVuY2VzLmRlZmF1bHRNb2RlbCk7XG4gIGNvbnN0IFthY2NlcHRlZEVkaXRzLCBzZXRBY2NlcHRlZEVkaXRzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtzYXZpbmdQbGFuLCBzZXRTYXZpbmdQbGFuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGFib3J0UmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBsb2FkSGlzdG9yeSgpIHtcbiAgICBzZXRNZXNzYWdlcyhnZXRJdGVtPENoYXRNZXNzYWdlW10+KGNoYXRTdG9yYWdlS2V5KHJlcG9LZXksIG1vZGUpLCBbXSkpO1xuICAgIGlmIChtb2RlID09PSBcInJldmlzaW9uXCIpIHtcbiAgICAgIHNldFJldmlzaW9uTm90ZXMoZ2V0SXRlbTxSZXZpc2lvbk5vdGVbXT4ocmV2aXNpb25TdG9yYWdlS2V5KHJlcG9LZXkpLCBbXSkpO1xuICAgIH1cbiAgfSwgW3JlcG9LZXksIG1vZGVdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKSB7XG4gICAgaWYgKHNjcm9sbFJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXMsIHN0cmVhbVRleHQsIHJldmlzaW9uTm90ZXNdKTtcblxuICBjb25zdCBwZXJzaXN0TWVzc2FnZXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBwZXJzaXN0TWVzc2FnZXMobXNnczogQ2hhdE1lc3NhZ2VbXSkge1xuICAgIHNldE1lc3NhZ2VzKG1zZ3MpO1xuICAgIHNldEl0ZW0oY2hhdFN0b3JhZ2VLZXkocmVwb0tleSwgbW9kZSksIG1zZ3MpO1xuICB9LCBbcmVwb0tleSwgbW9kZV0pO1xuXG4gIGZ1bmN0aW9uIHBlcnNpc3ROb3Rlcyhub3RlczogUmV2aXNpb25Ob3RlW10pIHtcbiAgICBzZXRSZXZpc2lvbk5vdGVzKG5vdGVzKTtcbiAgICBzZXRJdGVtKHJldmlzaW9uU3RvcmFnZUtleShyZXBvS2V5KSwgbm90ZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xlYXJDaGF0KCkge1xuICAgIGlmIChtb2RlID09PSBcInJldmlzaW9uXCIpIHtcbiAgICAgIHBlcnNpc3ROb3RlcyhbXSk7XG4gICAgfVxuICAgIHBlcnNpc3RNZXNzYWdlcyhbXSk7XG4gICAgc2V0U3RyZWFtVGV4dChcIlwiKTtcbiAgICBzZXRBY2NlcHRlZEVkaXRzKHt9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vZGVDaGFuZ2UobmV3TW9kZTogQ2hhdE1vZGUpIHtcbiAgICBpZiAobmV3TW9kZSA9PT0gbW9kZSkgcmV0dXJuO1xuICAgIHNldE1vZGUobmV3TW9kZSk7XG4gICAgc2V0SW5wdXQoXCJcIik7XG4gICAgc2V0U3RyZWFtVGV4dChcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUFkZFJldmlzaW9uTm90ZSgpIHtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIGlmICghdGV4dCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgbm90ZTogUmV2aXNpb25Ob3RlID0ge1xuICAgICAgaWQ6IGBub3RlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgdGV4dCxcbiAgICAgIGNoYXB0ZXJJZDogY3VycmVudENoYXB0ZXIsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcblxuICAgIHBlcnNpc3ROb3RlcyhbLi4ucmV2aXNpb25Ob3Rlcywgbm90ZV0pO1xuICAgIHNldElucHV0KFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRDcml0aXF1ZU1lc3NhZ2UodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoY3VycmVudENoYXB0ZXIpIHtcbiAgICAgIHJldHVybiBgW0N1cnJlbnQgY2hhcHRlcjogJHtjdXJyZW50Q2hhcHRlcn1dXFxuXFxuJHt0ZXh0fWA7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRSZXNlYXJjaEZpcnN0TWVzc2FnZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICBcIllvdSBhcmUgYSBkZWVwIHJlc2VhcmNoIGFzc2lzdGFudCBmb3IgYSBib29rIHByb2plY3QuIFwiICtcbiAgICAgIFwiVGhlIHVzZXIgd2lsbCBkZXNjcmliZSBhIHRvcGljIHRoZXkgbmVlZCByZXNlYXJjaGVkLiBcIiArXG4gICAgICBcIlByb3ZpZGUgYSB0aG9yb3VnaCwgd2VsbC1zdHJ1Y3R1cmVkIHJlc2VhcmNoIGJyaWVmIHdpdGggc291cmNlcywga2V5IGZhY3RzLCBcIiArXG4gICAgICBcImhpc3RvcmljYWwgY29udGV4dCwgYW5kIGNvbm5lY3Rpb25zIHJlbGV2YW50IHRvIHRoZWlyIGJvb2suIFwiICtcbiAgICAgIFwiQmUgY29tcHJlaGVuc2l2ZSBidXQgb3JnYW5pemVkLlxcblxcblwiICtcbiAgICAgIFwiUmVzZWFyY2ggcmVxdWVzdDogXCIgKyB0ZXh0XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkUmV2aXNpb25QbGFuUHJvbXB0KG5vdGVzOiBSZXZpc2lvbk5vdGVbXSk6IHN0cmluZyB7XG4gICAgY29uc3Qgbm90ZXNMaXN0ID0gbm90ZXNcbiAgICAgIC5tYXAoZnVuY3Rpb24gZm9ybWF0Tm90ZShuLCBpKSB7XG4gICAgICAgIGNvbnN0IGNoYXB0ZXIgPSBuLmNoYXB0ZXJJZCA/IGAgKGNoYXB0ZXI6ICR7bi5jaGFwdGVySWR9KWAgOiBcIlwiO1xuICAgICAgICByZXR1cm4gYCR7aSArIDF9LiAke24udGV4dH0ke2NoYXB0ZXJ9YDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIlxcblwiKTtcblxuICAgIHJldHVybiAoXG4gICAgICBcIllvdSBhcmUgYSByZXZpc2lvbiBwbGFubmluZyBhc3Npc3RhbnQuIFRoZSBhdXRob3IgaGFzIGNvbGxlY3RlZCB0aGUgZm9sbG93aW5nIHJldmlzaW9uIG5vdGVzIFwiICtcbiAgICAgIFwid2hpbGUgcmV2aWV3aW5nIHRoZWlyIG1hbnVzY3JpcHQuIENyZWF0ZSBhIHN0cnVjdHVyZWQsIGFjdGlvbmFibGUgcmV2aXNpb24gcGxhbiBvcmdhbml6ZWQgYnkgcHJpb3JpdHkgXCIgK1xuICAgICAgXCJhbmQgY2hhcHRlci4gR3JvdXAgcmVsYXRlZCBub3RlcyB0b2dldGhlciBhbmQgc3VnZ2VzdCBhbiBvcmRlciBvZiBvcGVyYXRpb25zLlxcblxcblwiICtcbiAgICAgIFwiUmV2aXNpb24gbm90ZXM6XFxuXCIgKyBub3Rlc0xpc3RcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmV2aXNpb25QbGFuVG9rZW5Fc3RpbWF0ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHByb21wdCA9IGJ1aWxkUmV2aXNpb25QbGFuUHJvbXB0KHJldmlzaW9uTm90ZXMpO1xuICAgIHJldHVybiBlc3RpbWF0ZVRva2Vucyhwcm9tcHQpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlR2VuZXJhdGVSZXZpc2lvblBsYW4oKSB7XG4gICAgaWYgKHJldmlzaW9uTm90ZXMubGVuZ3RoID09PSAwIHx8IHN0cmVhbWluZykgcmV0dXJuO1xuICAgIGlmICghcHJlZmVyZW5jZXMua2V5c1N0b3JlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJvbXB0ID0gYnVpbGRSZXZpc2lvblBsYW5Qcm9tcHQocmV2aXNpb25Ob3Rlcyk7XG5cbiAgICBjb25zdCB1c2VyTXNnOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiBcIkdlbmVyYXRlIHJldmlzaW9uIHBsYW4gZnJvbSBcIiArIHJldmlzaW9uTm90ZXMubGVuZ3RoICsgXCIgbm90ZXNcIixcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzLCB1c2VyTXNnXTtcbiAgICBwZXJzaXN0TWVzc2FnZXModXBkYXRlZE1lc3NhZ2VzKTtcbiAgICBzZXRTdHJlYW1pbmcodHJ1ZSk7XG4gICAgc2V0U3RyZWFtVGV4dChcIlwiKTtcblxuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBhYm9ydFJlZi5jdXJyZW50ID0gYWJvcnRDb250cm9sbGVyO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaU1lc3NhZ2VzID0gW3sgcm9sZTogXCJ1c2VyXCIgYXMgY29uc3QsIGNvbnRlbnQ6IHByb21wdCB9XTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2FpL2NoYXRcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlczogYXBpTWVzc2FnZXMsXG4gICAgICAgICAgbW9kZTogXCJyZXZpc2lvbi1wbGFuXCIsXG4gICAgICAgICAgbW9kZWwsXG4gICAgICAgIH0pLFxuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgZXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVhZGVyID0gcmVzLmJvZHk/LmdldFJlYWRlcigpO1xuICAgICAgaWYgKCFyZWFkZXIpIHRocm93IG5ldyBFcnJvcihcIk5vIHJlc3BvbnNlIGJvZHlcIik7XG5cbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIGxldCBmdWxsUmVzcG9uc2UgPSBcIlwiO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG5cbiAgICAgICAgY29uc3QgY2h1bmsgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY2h1bmsuc3BsaXQoXCJcXG5cIik7XG5cbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgaWYgKCFsaW5lLnN0YXJ0c1dpdGgoXCJkYXRhOiBcIikpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBsaW5lLnNsaWNlKDYpO1xuICAgICAgICAgIGlmIChkYXRhID09PSBcIltET05FXVwiKSBjb250aW51ZTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZC50ZXh0KSB7XG4gICAgICAgICAgICAgIGZ1bGxSZXNwb25zZSArPSBwYXJzZWQudGV4dDtcbiAgICAgICAgICAgICAgc2V0U3RyZWFtVGV4dChmdWxsUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5lcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGFyc2VkLmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFzc2lzdGFudE1zZzogQ2hhdE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBmdWxsUmVzcG9uc2UsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIHBlcnNpc3RNZXNzYWdlcyhbLi4udXBkYXRlZE1lc3NhZ2VzLCBhc3Npc3RhbnRNc2ddKTtcbiAgICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHJldHVybjtcbiAgICAgIGNvbnN0IGVycm9yTXNnOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGBtc2ctJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IGBFcnJvcjogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJ9YCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfTtcbiAgICAgIHBlcnNpc3RNZXNzYWdlcyhbLi4udXBkYXRlZE1lc3NhZ2VzLCBlcnJvck1zZ10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdHJlYW1pbmcoZmFsc2UpO1xuICAgICAgc2V0U3RyZWFtVGV4dChcIlwiKTtcbiAgICAgIGFib3J0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNhdmVSZXZpc2lvblBsYW4oKSB7XG4gICAgY29uc3QgbGFzdEFzc2lzdGFudCA9IFsuLi5tZXNzYWdlc10ucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24gZmluZEFzc2lzdGFudChtKSB7XG4gICAgICByZXR1cm4gbS5yb2xlID09PSBcImFzc2lzdGFudFwiO1xuICAgIH0pO1xuICAgIGlmICghbGFzdEFzc2lzdGFudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Qm9va0NvbmZpZyhjdXJyZW50Qm9vayk7XG4gICAgaWYgKCFjb25maWcpIHJldHVybjtcblxuICAgIHNldFNhdmluZ1BsYW4odHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG93bmVyOiBjb25maWcub3duZXIsXG4gICAgICAgICAgcmVwbzogY29uZmlnLnJlcG8sXG4gICAgICAgICAgYnJhbmNoOiBjb25maWcuYnJhbmNoLFxuICAgICAgICAgIHBhdGg6IFwicmV2aXNpb24tcGxhbi5tZFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGxhc3RBc3Npc3RhbnQuY29udGVudCxcbiAgICAgICAgICBtZXNzYWdlOiBcIkFkZCByZXZpc2lvbiBwbGFuXCIsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZ1BsYW4oZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbmQoKSB7XG4gICAgaWYgKG1vZGUgPT09IFwicmV2aXNpb25cIikge1xuICAgICAgaGFuZGxlQWRkUmV2aXNpb25Ob3RlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dCA9IGlucHV0LnRyaW0oKTtcbiAgICBpZiAoIXRleHQgfHwgc3RyZWFtaW5nKSByZXR1cm47XG4gICAgaWYgKCFwcmVmZXJlbmNlcy5rZXlzU3RvcmVkKSByZXR1cm47XG5cbiAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSB0ZXh0O1xuICAgIGxldCBhcGlNb2RlID0gbW9kZSBhcyBzdHJpbmc7XG5cbiAgICBpZiAobW9kZSA9PT0gXCJjcml0aXF1ZVwiKSB7XG4gICAgICBtZXNzYWdlQ29udGVudCA9IGJ1aWxkQ3JpdGlxdWVNZXNzYWdlKHRleHQpO1xuICAgICAgYXBpTW9kZSA9IFwiY3JpdGlxdWVcIjtcbiAgICB9XG5cbiAgICBpZiAobW9kZSA9PT0gXCJyZXNlYXJjaFwiICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWVzc2FnZUNvbnRlbnQgPSBidWlsZFJlc2VhcmNoRmlyc3RNZXNzYWdlKHRleHQpO1xuICAgICAgYXBpTW9kZSA9IFwicmVzZWFyY2hcIjtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyTXNnOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiB0ZXh0LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBbLi4ubWVzc2FnZXMsIHVzZXJNc2ddO1xuICAgIHBlcnNpc3RNZXNzYWdlcyh1cGRhdGVkTWVzc2FnZXMpO1xuICAgIHNldElucHV0KFwiXCIpO1xuICAgIHNldFN0cmVhbWluZyh0cnVlKTtcbiAgICBzZXRTdHJlYW1UZXh0KFwiXCIpO1xuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGFib3J0UmVmLmN1cnJlbnQgPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpTWVzc2FnZXMgPSB1cGRhdGVkTWVzc2FnZXMubWFwKGZ1bmN0aW9uIHRvQXBpTXNnKG0sIGkpIHtcbiAgICAgICAgaWYgKGkgPT09IHVwZGF0ZWRNZXNzYWdlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHsgcm9sZTogbS5yb2xlLCBjb250ZW50OiBtZXNzYWdlQ29udGVudCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJvbGU6IG0ucm9sZSwgY29udGVudDogbS5jb250ZW50IH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2FpL2NoYXRcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlczogYXBpTWVzc2FnZXMsXG4gICAgICAgICAgbW9kZTogYXBpTW9kZSxcbiAgICAgICAgICBtb2RlbCxcbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSBlcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keT8uZ2V0UmVhZGVyKCk7XG4gICAgICBpZiAoIXJlYWRlcikgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVzcG9uc2UgYm9keVwiKTtcblxuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgbGV0IGZ1bGxSZXNwb25zZSA9IFwiXCI7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3QgbGluZXMgPSBjaHVuay5zcGxpdChcIlxcblwiKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICBpZiAoIWxpbmUuc3RhcnRzV2l0aChcImRhdGE6IFwiKSkgY29udGludWU7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGxpbmUuc2xpY2UoNik7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IFwiW0RPTkVdXCIpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkLnRleHQpIHtcbiAgICAgICAgICAgICAgZnVsbFJlc3BvbnNlICs9IHBhcnNlZC50ZXh0O1xuICAgICAgICAgICAgICBzZXRTdHJlYW1UZXh0KGZ1bGxSZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLmVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXJzZWQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgYXNzaXN0YW50TXNnOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGBtc2ctJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IGZ1bGxSZXNwb25zZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfTtcblxuICAgICAgcGVyc2lzdE1lc3NhZ2VzKFsuLi51cGRhdGVkTWVzc2FnZXMsIGFzc2lzdGFudE1zZ10pO1xuICAgIH0gY2F0Y2ggKGVycjogdW5rbm93bikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikgcmV0dXJuO1xuICAgICAgY29uc3QgZXJyb3JNc2c6IENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogYEVycm9yOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9O1xuICAgICAgcGVyc2lzdE1lc3NhZ2VzKFsuLi51cGRhdGVkTWVzc2FnZXMsIGVycm9yTXNnXSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN0cmVhbWluZyhmYWxzZSk7XG4gICAgICBzZXRTdHJlYW1UZXh0KFwiXCIpO1xuICAgICAgYWJvcnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGhhbmRsZVNlbmQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFZGl0QWNjZXB0KG1zZ0lkOiBzdHJpbmcsIGVkaXRJZHg6IG51bWJlcikge1xuICAgIHNldEFjY2VwdGVkRWRpdHMoZnVuY3Rpb24gdXBkYXRlKHByZXYpIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXYsIFtgJHttc2dJZH0tJHtlZGl0SWR4fWBdOiB0cnVlIH07XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFZGl0UmVqZWN0KG1zZ0lkOiBzdHJpbmcsIGVkaXRJZHg6IG51bWJlcikge1xuICAgIHNldEFjY2VwdGVkRWRpdHMoZnVuY3Rpb24gdXBkYXRlKHByZXYpIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXYsIFtgJHttc2dJZH0tJHtlZGl0SWR4fWBdOiBmYWxzZSB9O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyTWVzc2FnZUNvbnRlbnQobXNnOiBDaGF0TWVzc2FnZSkge1xuICAgIGNvbnN0IHsgdGV4dCwgZWRpdHMgfSA9IHBhcnNlRWRpdEJsb2Nrcyhtc2cuY29udGVudCk7XG5cbiAgICBpZiAoZWRpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS42IH19PlxuICAgICAgICAgIDxSZWFjdE1hcmtkb3duXG4gICAgICAgICAgICByZW1hcmtQbHVnaW5zPXtbcmVtYXJrR2ZtXX1cbiAgICAgICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAgICAgY29kZTogZnVuY3Rpb24gcmVuZGVyQ29kZSh7IGNoaWxkcmVuLCBjbGFzc05hbWUgfSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSW5saW5lID0gIWNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNJbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1qZXRicmFpbnMtbW9ubyksIG1vbm9zcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjFweCA0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMyxcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICA8L2NvZGU+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPHByZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1qZXRicmFpbnMtbW9ubyksIG1vbm9zcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjhweCAwXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxjb2RlPntjaGlsZHJlbn08L2NvZGU+XG4gICAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwOiBmdW5jdGlvbiByZW5kZXJQKHsgY2hpbGRyZW4gfSkge1xuICAgICAgICAgICAgICAgIHJldHVybiA8cCBzdHlsZT17eyBtYXJnaW46IFwiNnB4IDBcIiB9fT57Y2hpbGRyZW59PC9wPjtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RleHR9XG4gICAgICAgICAgPC9SZWFjdE1hcmtkb3duPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KC9cXFtcXFtFRElUX0JMT0NLXyhcXGQrKVxcXVxcXS8pO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAxMywgbGluZUhlaWdodDogMS42IH19PlxuICAgICAgICB7cGFydHMubWFwKGZ1bmN0aW9uIHJlbmRlclBhcnQocGFydCwgaSkge1xuICAgICAgICAgIGlmIChpICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgZWRpdElkeCA9IHBhcnNlSW50KHBhcnQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGVkaXQgPSBlZGl0c1tlZGl0SWR4XTtcbiAgICAgICAgICAgIGlmICghZWRpdCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBgJHttc2cuaWR9LSR7ZWRpdElkeH1gO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhY2NlcHRlZEVkaXRzW2tleV07XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1zdWNjZXNzKVwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2hhbmdlIGFwcGxpZWRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENoYW5nZSByZWplY3RlZFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxEaWZmSHVua1xuICAgICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICAgIG9sZFRleHQ9e2VkaXQub2xkVGV4dH1cbiAgICAgICAgICAgICAgICBuZXdUZXh0PXtlZGl0Lm5ld1RleHR9XG4gICAgICAgICAgICAgICAgb25BY2NlcHQ9e2Z1bmN0aW9uIGFjY2VwdCgpIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUVkaXRBY2NlcHQobXNnLmlkLCBlZGl0SWR4KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uUmVqZWN0PXtmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVFZGl0UmVqZWN0KG1zZy5pZCwgZWRpdElkeCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVhY3RNYXJrZG93biBrZXk9e2l9IHJlbWFya1BsdWdpbnM9e1tyZW1hcmtHZm1dfT5cbiAgICAgICAgICAgICAge3BhcnR9XG4gICAgICAgICAgICA8L1JlYWN0TWFya2Rvd24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW1wdHlTdGF0ZVRleHQoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgXCJ3cml0aW5nXCI6XG4gICAgICAgIHJldHVybiBcIkFzayBhYm91dCB5b3VyIGJvb2ssIGdldCB3cml0aW5nIGhlbHAsIG9yIHJlcXVlc3QgZWRpdHMuXCI7XG4gICAgICBjYXNlIFwiY3JpdGlxdWVcIjpcbiAgICAgICAgcmV0dXJuIFwiR2V0IHN0cnVjdHVyYWwgZmVlZGJhY2sgb24geW91ciBjaGFwdGVycy4gWW91ciBjdXJyZW50IGNoYXB0ZXIgaXMgaW5jbHVkZWQgYXV0b21hdGljYWxseS5cIjtcbiAgICAgIGNhc2UgXCJyZXNlYXJjaFwiOlxuICAgICAgICByZXR1cm4gXCJEZXNjcmliZSBhIHRvcGljIHRvIHJlc2VhcmNoLiBUaGUgZmlyc3QgbWVzc2FnZSBidWlsZHMgYSBkZWVwIHJlc2VhcmNoIGJyaWVmLlwiO1xuICAgICAgY2FzZSBcInJldmlzaW9uXCI6XG4gICAgICAgIHJldHVybiBcIkFkZCByZXZpc2lvbiBub3RlcyBhcyB5b3UgcmV2aWV3LiBHZW5lcmF0ZSBhIHBsYW4gd2hlbiByZWFkeS5cIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlclRleHQoKTogc3RyaW5nIHtcbiAgICBpZiAoIXByZWZlcmVuY2VzLmtleXNTdG9yZWQpIHJldHVybiBcIlNldCBBUEkga2V5IGluIHNldHRpbmdzXCI7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlIFwid3JpdGluZ1wiOlxuICAgICAgICByZXR1cm4gXCJBc2sgYWJvdXQgeW91ciBib29rLi4uXCI7XG4gICAgICBjYXNlIFwiY3JpdGlxdWVcIjpcbiAgICAgICAgcmV0dXJuIFwiQXNrIGZvciBzdHJ1Y3R1cmFsIGZlZWRiYWNrLi4uXCI7XG4gICAgICBjYXNlIFwicmVzZWFyY2hcIjpcbiAgICAgICAgcmV0dXJuIFwiRGVzY3JpYmUgd2hhdCB0byByZXNlYXJjaC4uLlwiO1xuICAgICAgY2FzZSBcInJldmlzaW9uXCI6XG4gICAgICAgIHJldHVybiBcIkFkZCBhIHJldmlzaW9uIG5vdGUuLi5cIjtcbiAgICB9XG4gIH1cblxuICBjb25zdCB0b2tlbkVzdGltYXRlID0gZXN0aW1hdGVUb2tlbnMoaW5wdXQpO1xuICBjb25zdCBoYXNSZXZpc2lvblBsYW4gPSBtb2RlID09PSBcInJldmlzaW9uXCIgJiYgbWVzc2FnZXMuc29tZShmdW5jdGlvbiBmaW5kUGxhbihtKSB7XG4gICAgcmV0dXJuIG0ucm9sZSA9PT0gXCJhc3Npc3RhbnRcIjtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgZmxleDogMSxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDEycHhcIixcbiAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDIgfX0+XG4gICAgICAgICAge01PREVfTUVUQS5tYXAoZnVuY3Rpb24gcmVuZGVyTW9kZUJ0bihtKSB7XG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IG1vZGUgPT09IG0ua2V5O1xuICAgICAgICAgICAgY29uc3QgSWNvbiA9IG0uaWNvbjtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e20ua2V5fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHNlbGVjdE1vZGUoKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVNb2RlQ2hhbmdlKG0ua2V5KTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPXttLmxhYmVsfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogaXNBY3RpdmUgPyA2MDAgOiA0MDAsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogaXNBY3RpdmUgPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMTIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgICAgID8gXCJjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tY29sb3ItYWNjZW50KSAxMCUsIHRyYW5zcGFyZW50KVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IGlzQWN0aXZlID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMTUwbXNcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEljb24gc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAge20ubGFiZWx9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGVhckNoYXR9XG4gICAgICAgICAgdGl0bGU9XCJDbGVhciBjaGF0XCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjgsXG4gICAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxUcmFzaDIgc2l6ZT17MTR9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtzY3JvbGxSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiMTJweFwiLFxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJiByZXZpc2lvbk5vdGVzLmxlbmd0aCA9PT0gMCAmJiAhc3RyZWFtaW5nICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAyNCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldEVtcHR5U3RhdGVUZXh0KCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge21vZGUgPT09IFwicmV2aXNpb25cIiAmJiByZXZpc2lvbk5vdGVzLm1hcChmdW5jdGlvbiByZW5kZXJOb3RlKG5vdGUpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e25vdGUuaWR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI4OCVcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4IDEycHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMTIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLXRleHQtbXV0ZWQpIDglLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjYsXG4gICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEJvb2ttYXJrXG4gICAgICAgICAgICAgICAgICBzaXplPXsxNH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogMTAsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsIG1hcmdpbkJvdHRvbTogMiB9fT5cbiAgICAgICAgICAgICAgICAgICAge25vdGUuY2hhcHRlcklkID8gbm90ZS5jaGFwdGVySWQgOiBcIkdlbmVyYWxcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge25vdGUudGV4dH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cblxuICAgICAgICB7bWVzc2FnZXMubWFwKGZ1bmN0aW9uIHJlbmRlck1lc3NhZ2UobXNnKSB7XG4gICAgICAgICAgY29uc3QgaXNVc2VyID0gbXNnLnJvbGUgPT09IFwidXNlclwiO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17bXNnLmlkfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBpc1VzZXIgPyBcImZsZXgtZW5kXCIgOiBcImZsZXgtc3RhcnRcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI4OCVcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4IDEycHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMTIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzVXNlclxuICAgICAgICAgICAgICAgICAgICA/IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWFjY2VudCkgMTIlLCB0cmFuc3BhcmVudClcIlxuICAgICAgICAgICAgICAgICAgICA6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjYsXG4gICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNVc2VyID8gbXNnLmNvbnRlbnQgOiByZW5kZXJNZXNzYWdlQ29udGVudChtc2cpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuXG4gICAgICAgIHtzdHJlYW1pbmcgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGp1c3RpZnlDb250ZW50OiBcImZsZXgtc3RhcnRcIiB9fT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI4OCVcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxMnB4XCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjYsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtzdHJlYW1UZXh0ID8gKFxuICAgICAgICAgICAgICAgIDxSZWFjdE1hcmtkb3duIHJlbWFya1BsdWdpbnM9e1tyZW1hcmtHZm1dfT57c3RyZWFtVGV4dH08L1JlYWN0TWFya2Rvd24+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPFN0cmVhbWluZ0RvdHMgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHttb2RlID09PSBcInJldmlzaW9uXCIgJiYgcmV2aXNpb25Ob3Rlcy5sZW5ndGggPiAwICYmICFzdHJlYW1pbmcgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4IDEycHhcIixcbiAgICAgICAgICAgIGJvcmRlclRvcDogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgZ2FwOiA2LFxuICAgICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3Bhbj57cmV2aXNpb25Ob3Rlcy5sZW5ndGh9IG5vdGV7cmV2aXNpb25Ob3Rlcy5sZW5ndGggIT09IDEgPyBcInNcIiA6IFwiXCJ9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4+fntmb3JtYXRUb2tlbkNvdW50KGdldFJldmlzaW9uUGxhblRva2VuRXN0aW1hdGUoKSl9IHRva2Vuczwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDYgfX0+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlUmV2aXNpb25QbGFufVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IXByZWZlcmVuY2VzLmtleXNTdG9yZWR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxMnB4XCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHByZWZlcmVuY2VzLmtleXNTdG9yZWQgPyBcInBvaW50ZXJcIiA6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHByZWZlcmVuY2VzLmtleXNTdG9yZWQgPyAxIDogMC41LFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAxNTBtc1wiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Qm9va09wZW4gc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgIEdlbmVyYXRlIFJldmlzaW9uIFBsYW5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge2hhc1JldmlzaW9uUGxhbiAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlUmV2aXNpb25QbGFufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdQbGFufVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiU2F2ZSB0byByZXBvIGFzIHJldmlzaW9uLXBsYW4ubWRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAzNixcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogMzYsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IHNhdmluZ1BsYW4gPyBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIgOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogc2F2aW5nUGxhbiA/IFwiZGVmYXVsdFwiIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJjb2xvciAxNTBtc1wiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2F2ZSBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxMnB4XCIsXG4gICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgIGdhcDogNixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDQgfX0+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHNlbGVjdEhhaWt1KCkge1xuICAgICAgICAgICAgICAgIHNldE1vZGVsKFwiaGFpa3VcIik7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggOHB4XCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWRcIixcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogbW9kZWwgPT09IFwiaGFpa3VcIiA/IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIDogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbW9kZWwgPT09IFwiaGFpa3VcIiA/IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWFjY2VudCkgMTAlLCB0cmFuc3BhcmVudClcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogbW9kZWwgPT09IFwiaGFpa3VcIiA/IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIDogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEhhaWt1XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gc2VsZWN0U29ubmV0KCkge1xuICAgICAgICAgICAgICAgIHNldE1vZGVsKFwic29ubmV0XCIpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnB4IDhweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IG1vZGVsID09PSBcInNvbm5ldFwiID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcInZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBtb2RlbCA9PT0gXCJzb25uZXRcIiA/IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWFjY2VudCkgMTAlLCB0cmFuc3BhcmVudClcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogbW9kZWwgPT09IFwic29ubmV0XCIgPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTb25uZXRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpbnB1dC5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxzcGFuPntmb3JtYXRUb2tlbkNvdW50KHRva2VuRXN0aW1hdGUpfSB0b2tlbnM8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1lbmRcIixcbiAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgIHNldElucHV0KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0UGxhY2Vob2xkZXJUZXh0KCl9XG4gICAgICAgICAgICBkaXNhYmxlZD17bW9kZSAhPT0gXCJyZXZpc2lvblwiICYmICghcHJlZmVyZW5jZXMua2V5c1N0b3JlZCB8fCBzdHJlYW1pbmcpfVxuICAgICAgICAgICAgcm93cz17MX1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgIHJlc2l6ZTogXCJub25lXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4IDEwcHhcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEzLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgbGluZUhlaWdodDogMS41LFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBtaW5IZWlnaHQ6IDM2LFxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6IDEyMCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICBtb2RlID09PSBcInJldmlzaW9uXCJcbiAgICAgICAgICAgICAgICA/ICFpbnB1dC50cmltKClcbiAgICAgICAgICAgICAgICA6ICFpbnB1dC50cmltKCkgfHwgc3RyZWFtaW5nIHx8ICFwcmVmZXJlbmNlcy5rZXlzU3RvcmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAzNixcbiAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IG1vZGUgPT09IFwicmV2aXNpb25cIiA/IDEyIDogMCxcbiAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBtb2RlID09PSBcInJldmlzaW9uXCIgPyAxMiA6IDAsXG4gICAgICAgICAgICAgIHdpZHRoOiBtb2RlID09PSBcInJldmlzaW9uXCIgPyBcImF1dG9cIiA6IDM2LFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOlxuICAgICAgICAgICAgICAgIChtb2RlID09PSBcInJldmlzaW9uXCIgPyBpbnB1dC50cmltKCkgOiBpbnB1dC50cmltKCkgJiYgIXN0cmVhbWluZyAmJiBwcmVmZXJlbmNlcy5rZXlzU3RvcmVkKVxuICAgICAgICAgICAgICAgICAgPyBcInZhcigtLWNvbG9yLWFjY2VudClcIlxuICAgICAgICAgICAgICAgICAgOiBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCIsXG4gICAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICAgIChtb2RlID09PSBcInJldmlzaW9uXCIgPyBpbnB1dC50cmltKCkgOiBpbnB1dC50cmltKCkgJiYgIXN0cmVhbWluZyAmJiBwcmVmZXJlbmNlcy5rZXlzU3RvcmVkKVxuICAgICAgICAgICAgICAgICAgPyBcIiNmZmZcIlxuICAgICAgICAgICAgICAgICAgOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjpcbiAgICAgICAgICAgICAgICAobW9kZSA9PT0gXCJyZXZpc2lvblwiID8gaW5wdXQudHJpbSgpIDogaW5wdXQudHJpbSgpICYmICFzdHJlYW1pbmcgJiYgcHJlZmVyZW5jZXMua2V5c1N0b3JlZClcbiAgICAgICAgICAgICAgICAgID8gXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZC1jb2xvciAxNTBtcywgY29sb3IgMTUwbXNcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge21vZGUgPT09IFwicmV2aXNpb25cIiA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Qm9va21hcmsgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgICAgQWRkIE5vdGVcbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8U2VuZCBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIlNlbmQiLCJUcmFzaDIiLCJCb29rT3BlbiIsIlNlYXJjaCIsIlBlbmNpbCIsIlN0YXIiLCJNZXNzYWdlU3F1YXJlIiwiQm9va21hcmsiLCJTYXZlIiwiUmVhY3RNYXJrZG93biIsInJlbWFya0dmbSIsInVzZUFwcFN0b3JlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJlc3RpbWF0ZVRva2VucyIsImZvcm1hdFRva2VuQ291bnQiLCJEaWZmSHVuayIsImdldEJvb2tDb25maWciLCJNT0RFX01FVEEiLCJrZXkiLCJsYWJlbCIsImljb24iLCJTdHJlYW1pbmdEb3RzIiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImdhcCIsInBhZGRpbmciLCJtYXAiLCJyZW5kZXJEb3QiLCJpIiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhbmltYXRpb24iLCJwYXJzZUVkaXRCbG9ja3MiLCJjb250ZW50IiwiZWRpdHMiLCJpZHgiLCJjbGVhbmVkIiwicmVwbGFjZSIsInJlcGxhY2VFZGl0IiwiXyIsImlubmVyIiwicHVzaCIsIm9sZFRleHQiLCJuZXdUZXh0IiwidHJpbSIsImluZGV4IiwidGV4dCIsImNoYXRTdG9yYWdlS2V5IiwicmVwb0tleSIsIm1vZGUiLCJyZXZpc2lvblN0b3JhZ2VLZXkiLCJDaGF0UGFuZWwiLCJwcmVmZXJlbmNlcyIsInNlbGVjdFByZWZzIiwicyIsImN1cnJlbnRCb29rIiwic2VsZWN0Qm9vayIsImVkaXRvciIsImN1cnJlbnRDaGFwdGVyIiwic2VsZWN0Q2hhcHRlciIsInNldE1vZGUiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwicmV2aXNpb25Ob3RlcyIsInNldFJldmlzaW9uTm90ZXMiLCJpbnB1dCIsInNldElucHV0Iiwic3RyZWFtaW5nIiwic2V0U3RyZWFtaW5nIiwic3RyZWFtVGV4dCIsInNldFN0cmVhbVRleHQiLCJtb2RlbCIsInNldE1vZGVsIiwiZGVmYXVsdE1vZGVsIiwiYWNjZXB0ZWRFZGl0cyIsInNldEFjY2VwdGVkRWRpdHMiLCJzYXZpbmdQbGFuIiwic2V0U2F2aW5nUGxhbiIsInNjcm9sbFJlZiIsImlucHV0UmVmIiwiYWJvcnRSZWYiLCJsb2FkSGlzdG9yeSIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInBlcnNpc3RNZXNzYWdlcyIsIm1zZ3MiLCJwZXJzaXN0Tm90ZXMiLCJub3RlcyIsImhhbmRsZUNsZWFyQ2hhdCIsImhhbmRsZU1vZGVDaGFuZ2UiLCJuZXdNb2RlIiwiaGFuZGxlQWRkUmV2aXNpb25Ob3RlIiwibm90ZSIsImlkIiwiRGF0ZSIsIm5vdyIsImNoYXB0ZXJJZCIsInRpbWVzdGFtcCIsImJ1aWxkQ3JpdGlxdWVNZXNzYWdlIiwiYnVpbGRSZXNlYXJjaEZpcnN0TWVzc2FnZSIsImJ1aWxkUmV2aXNpb25QbGFuUHJvbXB0Iiwibm90ZXNMaXN0IiwiZm9ybWF0Tm90ZSIsIm4iLCJjaGFwdGVyIiwiam9pbiIsImdldFJldmlzaW9uUGxhblRva2VuRXN0aW1hdGUiLCJwcm9tcHQiLCJoYW5kbGVHZW5lcmF0ZVJldmlzaW9uUGxhbiIsImxlbmd0aCIsImtleXNTdG9yZWQiLCJ1c2VyTXNnIiwicm9sZSIsInVwZGF0ZWRNZXNzYWdlcyIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsImFwaU1lc3NhZ2VzIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaWduYWwiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiZnVsbFJlc3BvbnNlIiwiZG9uZSIsInZhbHVlIiwicmVhZCIsImNodW5rIiwiZGVjb2RlIiwic3RyZWFtIiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJzdGFydHNXaXRoIiwiZGF0YSIsInNsaWNlIiwicGFyc2VkIiwicGFyc2UiLCJlcnJvciIsImUiLCJTeW50YXhFcnJvciIsImFzc2lzdGFudE1zZyIsImVyciIsIm5hbWUiLCJlcnJvck1zZyIsIm1lc3NhZ2UiLCJoYW5kbGVTYXZlUmV2aXNpb25QbGFuIiwibGFzdEFzc2lzdGFudCIsInJldmVyc2UiLCJmaW5kIiwiZmluZEFzc2lzdGFudCIsIm0iLCJjb25maWciLCJvd25lciIsInJlcG8iLCJicmFuY2giLCJwYXRoIiwiaGFuZGxlU2VuZCIsIm1lc3NhZ2VDb250ZW50IiwiYXBpTW9kZSIsInRvQXBpTXNnIiwiaGFuZGxlS2V5RG93biIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVFZGl0QWNjZXB0IiwibXNnSWQiLCJlZGl0SWR4IiwidXBkYXRlIiwicHJldiIsImhhbmRsZUVkaXRSZWplY3QiLCJyZW5kZXJNZXNzYWdlQ29udGVudCIsIm1zZyIsImRpdiIsImZvbnRTaXplIiwibGluZUhlaWdodCIsInJlbWFya1BsdWdpbnMiLCJjb21wb25lbnRzIiwiY29kZSIsInJlbmRlckNvZGUiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImlzSW5saW5lIiwiZm9udEZhbWlseSIsInByZSIsIm92ZXJmbG93WCIsIm1hcmdpbiIsInAiLCJyZW5kZXJQIiwicGFydHMiLCJyZW5kZXJQYXJ0IiwicGFydCIsInBhcnNlSW50IiwiZWRpdCIsInN0YXRlIiwiY29sb3IiLCJmb250U3R5bGUiLCJvbkFjY2VwdCIsImFjY2VwdCIsIm9uUmVqZWN0IiwicmVqZWN0IiwiZ2V0RW1wdHlTdGF0ZVRleHQiLCJnZXRQbGFjZWhvbGRlclRleHQiLCJ0b2tlbkVzdGltYXRlIiwiaGFzUmV2aXNpb25QbGFuIiwic29tZSIsImZpbmRQbGFuIiwiZmxleERpcmVjdGlvbiIsImZsZXgiLCJtaW5IZWlnaHQiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJib3JkZXJCb3R0b20iLCJmbGV4U2hyaW5rIiwicmVuZGVyTW9kZUJ0biIsImlzQWN0aXZlIiwiSWNvbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzZWxlY3RNb2RlIiwidGl0bGUiLCJmb250V2VpZ2h0IiwiYm9yZGVyIiwiYm9yZGVyQ29sb3IiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwic2l6ZSIsImJhY2tncm91bmQiLCJyZWYiLCJvdmVyZmxvd1kiLCJ0ZXh0QWxpZ24iLCJyZW5kZXJOb3RlIiwibWF4V2lkdGgiLCJ3b3JkQnJlYWsiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJyZW5kZXJNZXNzYWdlIiwiaXNVc2VyIiwiYm9yZGVyVG9wIiwiZGlzYWJsZWQiLCJvcGFjaXR5Iiwic2VsZWN0SGFpa3UiLCJzZWxlY3RTb25uZXQiLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwiaGFuZGxlQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJyb3dzIiwicmVzaXplIiwib3V0bGluZSIsIm1heEhlaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/rightpanel/ChatPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/rightpanel/RightPanel.tsx":
/*!**********************************************!*\
  !*** ./components/rightpanel/RightPanel.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RightPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ChatPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChatPanel */ \"(ssr)/./components/rightpanel/ChatPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction RightPanel() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatPanel__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/RightPanel.tsx\",\n            lineNumber: 15,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/rightpanel/RightPanel.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3JpZ2h0cGFuZWwvUmlnaHRQYW5lbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFb0M7QUFFckIsU0FBU0M7SUFDdEIscUJBQ0UsOERBQUNDO1FBQ0NDLE9BQU87WUFDTEMsU0FBUztZQUNUQyxlQUFlO1lBQ2ZDLFFBQVE7WUFDUkMsWUFBWTtRQUNkO2tCQUVBLDRFQUFDUCxrREFBU0E7Ozs7Ozs7Ozs7QUFHaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3JpZ2h0cGFuZWwvUmlnaHRQYW5lbC50c3g/NTQ0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IENoYXRQYW5lbCBmcm9tIFwiLi9DaGF0UGFuZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmlnaHRQYW5lbCgpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxDaGF0UGFuZWwgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJDaGF0UGFuZWwiLCJSaWdodFBhbmVsIiwiZGl2Iiwic3R5bGUiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImhlaWdodCIsImZvbnRGYW1pbHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/rightpanel/RightPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/shared/DiffHunk.tsx":
/*!****************************************!*\
  !*** ./components/shared/DiffHunk.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DiffHunk)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Check,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction DiffHunk({ oldText, newText, onAccept, onReject }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline\",\n            fontFamily: \"var(--font-literata), serif\",\n            transition: \"opacity 300ms ease\"\n        },\n        children: [\n            oldText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-error) 15%, transparent)\",\n                    textDecoration: \"line-through\",\n                    color: \"var(--color-error)\",\n                    padding: \"1px 2px\",\n                    borderRadius: 2,\n                    transition: \"background-color 300ms ease, opacity 300ms ease\"\n                },\n                children: oldText\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                lineNumber: 22,\n                columnNumber: 9\n            }, this),\n            newText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    backgroundColor: \"color-mix(in srgb, var(--color-success) 15%, transparent)\",\n                    color: \"var(--color-success)\",\n                    padding: \"1px 2px\",\n                    borderRadius: 2,\n                    transition: \"background-color 300ms ease, opacity 300ms ease\"\n                },\n                children: newText\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                lineNumber: 36,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onAccept,\n                title: \"Accept\",\n                style: {\n                    display: \"inline-flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: 18,\n                    height: 18,\n                    marginLeft: 4,\n                    padding: 0,\n                    background: \"none\",\n                    border: \"1px solid var(--color-success)\",\n                    borderRadius: 3,\n                    color: \"var(--color-success)\",\n                    cursor: \"pointer\",\n                    verticalAlign: \"middle\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                    size: 12\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                    lineNumber: 67,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onReject,\n                title: \"Reject\",\n                style: {\n                    display: \"inline-flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    width: 18,\n                    height: 18,\n                    marginLeft: 2,\n                    padding: 0,\n                    background: \"none\",\n                    border: \"1px solid var(--color-error)\",\n                    borderRadius: 3,\n                    color: \"var(--color-error)\",\n                    cursor: \"pointer\",\n                    verticalAlign: \"middle\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    size: 12\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n                lineNumber: 69,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shared/DiffHunk.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NoYXJlZC9EaWZmSHVuay50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRXdDO0FBU3pCLFNBQVNFLFNBQVMsRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFpQjtJQUN0RixxQkFDRSw4REFBQ0M7UUFDQ0MsT0FBTztZQUNMQyxTQUFTO1lBQ1RDLFlBQVk7WUFDWkMsWUFBWTtRQUNkOztZQUVDUix5QkFDQyw4REFBQ0k7Z0JBQ0NDLE9BQU87b0JBQ0xJLGlCQUFpQjtvQkFDakJDLGdCQUFnQjtvQkFDaEJDLE9BQU87b0JBQ1BDLFNBQVM7b0JBQ1RDLGNBQWM7b0JBQ2RMLFlBQVk7Z0JBQ2Q7MEJBRUNSOzs7Ozs7WUFHSkMseUJBQ0MsOERBQUNHO2dCQUNDQyxPQUFPO29CQUNMSSxpQkFBaUI7b0JBQ2pCRSxPQUFPO29CQUNQQyxTQUFTO29CQUNUQyxjQUFjO29CQUNkTCxZQUFZO2dCQUNkOzBCQUVDUDs7Ozs7OzBCQUdMLDhEQUFDYTtnQkFDQ0MsU0FBU2I7Z0JBQ1RjLE9BQU07Z0JBQ05YLE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1RXLFlBQVk7b0JBQ1pDLGdCQUFnQjtvQkFDaEJDLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pULFNBQVM7b0JBQ1RVLFlBQVk7b0JBQ1pDLFFBQVE7b0JBQ1JWLGNBQWM7b0JBQ2RGLE9BQU87b0JBQ1BhLFFBQVE7b0JBQ1JDLGVBQWU7Z0JBQ2pCOzBCQUVBLDRFQUFDNUIsbUZBQUtBO29CQUFDNkIsTUFBTTs7Ozs7Ozs7Ozs7MEJBRWYsOERBQUNaO2dCQUNDQyxTQUFTWjtnQkFDVGEsT0FBTTtnQkFDTlgsT0FBTztvQkFDTEMsU0FBUztvQkFDVFcsWUFBWTtvQkFDWkMsZ0JBQWdCO29CQUNoQkMsT0FBTztvQkFDUEMsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWlQsU0FBUztvQkFDVFUsWUFBWTtvQkFDWkMsUUFBUTtvQkFDUlYsY0FBYztvQkFDZEYsT0FBTztvQkFDUGEsUUFBUTtvQkFDUkMsZUFBZTtnQkFDakI7MEJBRUEsNEVBQUMzQixtRkFBQ0E7b0JBQUM0QixNQUFNOzs7Ozs7Ozs7Ozs7Ozs7OztBQUlqQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvc2hhcmVkL0RpZmZIdW5rLnRzeD8zYzgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBDaGVjaywgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW50ZXJmYWNlIERpZmZIdW5rUHJvcHMge1xuICBvbGRUZXh0OiBzdHJpbmc7XG4gIG5ld1RleHQ6IHN0cmluZztcbiAgb25BY2NlcHQ6ICgpID0+IHZvaWQ7XG4gIG9uUmVqZWN0OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaWZmSHVuayh7IG9sZFRleHQsIG5ld1RleHQsIG9uQWNjZXB0LCBvblJlamVjdCB9OiBEaWZmSHVua1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1saXRlcmF0YSksIHNlcmlmXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlXCIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtvbGRUZXh0ICYmIChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImNvbG9yLW1peChpbiBzcmdiLCB2YXIoLS1jb2xvci1lcnJvcikgMTUlLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBcImxpbmUtdGhyb3VnaFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItZXJyb3IpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjFweCAycHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZC1jb2xvciAzMDBtcyBlYXNlLCBvcGFjaXR5IDMwMG1zIGVhc2VcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge29sZFRleHR9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICl9XG4gICAgICB7bmV3VGV4dCAmJiAoXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tY29sb3Itc3VjY2VzcykgMTUlLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXN1Y2Nlc3MpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjFweCAycHhcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZC1jb2xvciAzMDBtcyBlYXNlLCBvcGFjaXR5IDMwMG1zIGVhc2VcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge25ld1RleHR9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICl9XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e29uQWNjZXB0fVxuICAgICAgICB0aXRsZT1cIkFjY2VwdFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgd2lkdGg6IDE4LFxuICAgICAgICAgIGhlaWdodDogMTgsXG4gICAgICAgICAgbWFyZ2luTGVmdDogNCxcbiAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3Itc3VjY2VzcylcIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDMsXG4gICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3Itc3VjY2VzcylcIixcbiAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxDaGVjayBzaXplPXsxMn0gLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtvblJlamVjdH1cbiAgICAgICAgdGl0bGU9XCJSZWplY3RcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIHdpZHRoOiAxOCxcbiAgICAgICAgICBoZWlnaHQ6IDE4LFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IDIsXG4gICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWVycm9yKVwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogMyxcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci1lcnJvcilcIixcbiAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxYIHNpemU9ezEyfSAvPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9zcGFuPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkNoZWNrIiwiWCIsIkRpZmZIdW5rIiwib2xkVGV4dCIsIm5ld1RleHQiLCJvbkFjY2VwdCIsIm9uUmVqZWN0Iiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImZvbnRGYW1pbHkiLCJ0cmFuc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGV4dERlY29yYXRpb24iLCJjb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJ3aWR0aCIsImhlaWdodCIsIm1hcmdpbkxlZnQiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiY3Vyc29yIiwidmVydGljYWxBbGlnbiIsInNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/shared/DiffHunk.tsx\n");

/***/ }),

/***/ "(ssr)/./components/shell/KeyboardShortcuts.tsx":
/*!************************************************!*\
  !*** ./components/shell/KeyboardShortcuts.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KeyboardShortcuts)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst CATEGORIES = [\n    {\n        title: \"Editor\",\n        shortcuts: [\n            {\n                keys: [\n                    \"\",\n                    \"B\"\n                ],\n                label: \"Bold\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"I\"\n                ],\n                label: \"Italic\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"/\"\n                ],\n                label: \"Toggle markdown\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"S\"\n                ],\n                label: \"Save\"\n            }\n        ]\n    },\n    {\n        title: \"Navigation\",\n        shortcuts: [\n            {\n                keys: [\n                    \"\",\n                    \"B\"\n                ],\n                label: \"Toggle sidebar\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"J\"\n                ],\n                label: \"Toggle right panel\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"\",\n                    \"R\"\n                ],\n                label: \"Reader preview\"\n            }\n        ]\n    },\n    {\n        title: \"AI\",\n        shortcuts: [\n            {\n                keys: [\n                    \"\",\n                    \"\",\n                    \"K\"\n                ],\n                label: \"Polish selection\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"\",\n                    \"\"\n                ],\n                label: \"Continue writing\"\n            }\n        ]\n    },\n    {\n        title: \"General\",\n        shortcuts: [\n            {\n                keys: [\n                    \"F11\"\n                ],\n                label: \"Focus mode\"\n            },\n            {\n                keys: [\n                    \"\",\n                    \"\\\\\"\n                ],\n                label: \"Split view\"\n            },\n            {\n                keys: [\n                    \"?\"\n                ],\n                label: \"Keyboard shortcuts\"\n            },\n            {\n                keys: [\n                    \"Esc\"\n                ],\n                label: \"Close dialog\"\n            }\n        ]\n    }\n];\nfunction Kbd({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"kbd\", {\n        style: {\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            minWidth: 24,\n            height: 24,\n            padding: \"0 6px\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 11,\n            fontWeight: 500,\n            color: \"var(--color-text)\",\n            backgroundColor: \"var(--color-surface-hover)\",\n            border: \"1px solid var(--color-border)\",\n            borderRadius: 5,\n            lineHeight: 1\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, this);\n}\nfunction KeyboardShortcuts({ open, onClose }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function handleEscape() {\n        if (!open) return;\n        function onKeyDown(e) {\n            if (e.key === \"Escape\") {\n                e.preventDefault();\n                onClose();\n            }\n        }\n        window.addEventListener(\"keydown\", onKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", onKeyDown);\n        };\n    }, [\n        open,\n        onClose\n    ]);\n    if (!open) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            inset: 0,\n            zIndex: 1000,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\",\n            animation: \"scriva-fade-in 150ms ease-out\"\n        },\n        onClick: function handleBackdropClick(e) {\n            if (e.target === e.currentTarget) {\n                onClose();\n            }\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                width: 520,\n                maxHeight: \"80vh\",\n                overflow: \"auto\",\n                backgroundColor: \"var(--color-surface)\",\n                borderRadius: 12,\n                border: \"1px solid var(--color-border)\",\n                boxShadow: \"0 24px 48px rgba(0, 0, 0, 0.2)\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                        padding: \"16px 20px 12px\",\n                        borderBottom: \"1px solid var(--color-border)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            style: {\n                                fontSize: 15,\n                                fontWeight: 600,\n                                color: \"var(--color-text)\",\n                                margin: 0\n                            },\n                            children: \"Keyboard Shortcuts\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                            lineNumber: 140,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                width: 28,\n                                height: 28,\n                                border: \"none\",\n                                background: \"none\",\n                                color: \"var(--color-text-muted)\",\n                                cursor: \"pointer\",\n                                borderRadius: 6\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                size: 16\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                lineNumber: 165,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                            lineNumber: 150,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                    lineNumber: 131,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: \"12px 20px 20px\"\n                    },\n                    children: CATEGORIES.map(function renderCategory(category) {\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: 20\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    style: {\n                                        fontSize: 11,\n                                        fontWeight: 600,\n                                        textTransform: \"uppercase\",\n                                        letterSpacing: \"0.05em\",\n                                        color: \"var(--color-text-muted)\",\n                                        margin: \"0 0 8px\"\n                                    },\n                                    children: category.title\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        flexDirection: \"column\",\n                                        gap: 4\n                                    },\n                                    children: category.shortcuts.map(function renderShortcut(shortcut) {\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                justifyContent: \"space-between\",\n                                                padding: \"6px 8px\",\n                                                borderRadius: 6\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    style: {\n                                                        fontSize: 13,\n                                                        color: \"var(--color-text)\"\n                                                    },\n                                                    children: shortcut.label\n                                                }, void 0, false, {\n                                                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                                    lineNumber: 198,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        alignItems: \"center\",\n                                                        gap: 3\n                                                    },\n                                                    children: shortcut.keys.map(function renderKey(key, i) {\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Kbd, {\n                                                            children: key\n                                                        }, i, false, {\n                                                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                                            lineNumber: 208,\n                                                            columnNumber: 36\n                                                        }, this);\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                                    lineNumber: 206,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, shortcut.label, true, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                            lineNumber: 188,\n                                            columnNumber: 23\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, category.title, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                            lineNumber: 172,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n                    lineNumber: 169,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n            lineNumber: 119,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/KeyboardShortcuts.tsx\",\n        lineNumber: 102,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NoZWxsL0tleWJvYXJkU2hvcnRjdXRzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRWtDO0FBQ0Q7QUFpQmpDLE1BQU1FLGFBQWlDO0lBQ3JDO1FBQ0VDLE9BQU87UUFDUEMsV0FBVztZQUNUO2dCQUFFQyxNQUFNO29CQUFDO29CQUFLO2lCQUFJO2dCQUFFQyxPQUFPO1lBQU87WUFDbEM7Z0JBQUVELE1BQU07b0JBQUM7b0JBQUs7aUJBQUk7Z0JBQUVDLE9BQU87WUFBUztZQUNwQztnQkFBRUQsTUFBTTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsT0FBTztZQUFrQjtZQUM3QztnQkFBRUQsTUFBTTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsT0FBTztZQUFPO1NBQ25DO0lBQ0g7SUFDQTtRQUNFSCxPQUFPO1FBQ1BDLFdBQVc7WUFDVDtnQkFBRUMsTUFBTTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsT0FBTztZQUFpQjtZQUM1QztnQkFBRUQsTUFBTTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsT0FBTztZQUFxQjtZQUNoRDtnQkFBRUQsTUFBTTtvQkFBQztvQkFBSztvQkFBSztpQkFBSTtnQkFBRUMsT0FBTztZQUFpQjtTQUNsRDtJQUNIO0lBQ0E7UUFDRUgsT0FBTztRQUNQQyxXQUFXO1lBQ1Q7Z0JBQUVDLE1BQU07b0JBQUM7b0JBQUs7b0JBQUs7aUJBQUk7Z0JBQUVDLE9BQU87WUFBbUI7WUFDbkQ7Z0JBQUVELE1BQU07b0JBQUM7b0JBQUs7b0JBQUs7aUJBQUk7Z0JBQUVDLE9BQU87WUFBbUI7U0FDcEQ7SUFDSDtJQUNBO1FBQ0VILE9BQU87UUFDUEMsV0FBVztZQUNUO2dCQUFFQyxNQUFNO29CQUFDO2lCQUFNO2dCQUFFQyxPQUFPO1lBQWE7WUFDckM7Z0JBQUVELE1BQU07b0JBQUM7b0JBQUs7aUJBQUs7Z0JBQUVDLE9BQU87WUFBYTtZQUN6QztnQkFBRUQsTUFBTTtvQkFBQztpQkFBSTtnQkFBRUMsT0FB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QUMsU0FBU1MsZUFBZUMsUUFBUTt3Q0FDdEQscUJBQ0UsOERBQUM5Qjs0Q0FFQzNCLE9BQU87Z0RBQ0xDLFNBQVM7Z0RBQ1RDLFlBQVk7Z0RBQ1pDLGdCQUFnQjtnREFDaEJHLFNBQVM7Z0RBQ1RPLGNBQWM7NENBQ2hCOzs4REFFQSw4REFBQzZDO29EQUNDMUQsT0FBTzt3REFDTFEsVUFBVTt3REFDVkUsT0FBTztvREFDVDs4REFFQytDLFNBQVM3RCxLQUFLOzs7Ozs7OERBRWpCLDhEQUFDK0I7b0RBQUkzQixPQUFPO3dEQUFFQyxTQUFTO3dEQUFRQyxZQUFZO3dEQUFVcUQsS0FBSztvREFBRTs4REFDekRFLFNBQVM5RCxJQUFJLENBQUNvRCxHQUFHLENBQUMsU0FBU1ksVUFBVXRDLEdBQUcsRUFBRXVDLENBQUM7d0RBQzFDLHFCQUFPLDhEQUFDL0Q7c0VBQWF3QjsyREFBSnVDOzs7OztvREFDbkI7Ozs7Ozs7MkNBcEJHSCxTQUFTN0QsS0FBSzs7Ozs7b0NBd0J6Qjs7Ozs7OzsyQkF6Q01xRCxTQUFTeEQsS0FBSzs7Ozs7b0JBNkM1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLViIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvc2hlbGwvS2V5Ym9hcmRTaG9ydGN1dHMudHN4PzRjYjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW50ZXJmYWNlIEtleWJvYXJkU2hvcnRjdXRzUHJvcHMge1xuICBvcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU2hvcnRjdXRFbnRyeSB7XG4gIGtleXM6IHN0cmluZ1tdO1xuICBsYWJlbDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU2hvcnRjdXRDYXRlZ29yeSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHNob3J0Y3V0czogU2hvcnRjdXRFbnRyeVtdO1xufVxuXG5jb25zdCBDQVRFR09SSUVTOiBTaG9ydGN1dENhdGVnb3J5W10gPSBbXG4gIHtcbiAgICB0aXRsZTogXCJFZGl0b3JcIixcbiAgICBzaG9ydGN1dHM6IFtcbiAgICAgIHsga2V5czogW1wi4oyYXCIsIFwiQlwiXSwgbGFiZWw6IFwiQm9sZFwiIH0sXG4gICAgICB7IGtleXM6IFtcIuKMmFwiLCBcIklcIl0sIGxhYmVsOiBcIkl0YWxpY1wiIH0sXG4gICAgICB7IGtleXM6IFtcIuKMmFwiLCBcIi9cIl0sIGxhYmVsOiBcIlRvZ2dsZSBtYXJrZG93blwiIH0sXG4gICAgICB7IGtleXM6IFtcIuKMmFwiLCBcIlNcIl0sIGxhYmVsOiBcIlNhdmVcIiB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogXCJOYXZpZ2F0aW9uXCIsXG4gICAgc2hvcnRjdXRzOiBbXG4gICAgICB7IGtleXM6IFtcIuKMmFwiLCBcIkJcIl0sIGxhYmVsOiBcIlRvZ2dsZSBzaWRlYmFyXCIgfSxcbiAgICAgIHsga2V5czogW1wi4oyYXCIsIFwiSlwiXSwgbGFiZWw6IFwiVG9nZ2xlIHJpZ2h0IHBhbmVsXCIgfSxcbiAgICAgIHsga2V5czogW1wi4oyYXCIsIFwi4oenXCIsIFwiUlwiXSwgbGFiZWw6IFwiUmVhZGVyIHByZXZpZXdcIiB9LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogXCJBSVwiLFxuICAgIHNob3J0Y3V0czogW1xuICAgICAgeyBrZXlzOiBbXCLijJhcIiwgXCLih6dcIiwgXCJLXCJdLCBsYWJlbDogXCJQb2xpc2ggc2VsZWN0aW9uXCIgfSxcbiAgICAgIHsga2V5czogW1wi4oyYXCIsIFwi4oenXCIsIFwi4oa1XCJdLCBsYWJlbDogXCJDb250aW51ZSB3cml0aW5nXCIgfSxcbiAgICBdLFxuICB9LFxuICB7XG4gICAgdGl0bGU6IFwiR2VuZXJhbFwiLFxuICAgIHNob3J0Y3V0czogW1xuICAgICAgeyBrZXlzOiBbXCJGMTFcIl0sIGxhYmVsOiBcIkZvY3VzIG1vZGVcIiB9LFxuICAgICAgeyBrZXlzOiBbXCLijJhcIiwgXCJcXFxcXCJdLCBsYWJlbDogXCJTcGxpdCB2aWV3XCIgfSxcbiAgICAgIHsga2V5czogW1wiP1wiXSwgbGFiZWw6IFwiS2V5Ym9hcmQgc2hvcnRjdXRzXCIgfSxcbiAgICAgIHsga2V5czogW1wiRXNjXCJdLCBsYWJlbDogXCJDbG9zZSBkaWFsb2dcIiB9LFxuICAgIF0sXG4gIH0sXG5dO1xuXG5mdW5jdGlvbiBLYmQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBzdHJpbmcgfSkge1xuICByZXR1cm4gKFxuICAgIDxrYmRcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIG1pbldpZHRoOiAyNCxcbiAgICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgICAgcGFkZGluZzogXCIwIDZweFwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9rYmQ+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkU2hvcnRjdXRzKHsgb3Blbiwgb25DbG9zZSB9OiBLZXlib2FyZFNob3J0Y3V0c1Byb3BzKSB7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiBoYW5kbGVFc2NhcGUoKSB7XG4gICAgaWYgKCFvcGVuKSByZXR1cm47XG5cbiAgICBmdW5jdGlvbiBvbktleURvd24oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb25DbG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgfTtcbiAgfSwgW29wZW4sIG9uQ2xvc2VdKTtcblxuICBpZiAoIW9wZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgaW5zZXQ6IDAsXG4gICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjQpXCIsXG4gICAgICAgIGFuaW1hdGlvbjogXCJzY3JpdmEtZmFkZS1pbiAxNTBtcyBlYXNlLW91dFwiLFxuICAgICAgfX1cbiAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGhhbmRsZUJhY2tkcm9wQ2xpY2soZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6IDUyMCxcbiAgICAgICAgICBtYXhIZWlnaHQ6IFwiODB2aFwiLFxuICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDEyLFxuICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIGJveFNoYWRvdzogXCIwIDI0cHggNDhweCByZ2JhKDAsIDAsIDAsIDAuMilcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjE2cHggMjBweCAxMnB4XCIsXG4gICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGgyXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmb250U2l6ZTogMTUsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBLZXlib2FyZCBTaG9ydGN1dHNcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiAyOCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAyOCxcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogXCIxMnB4IDIwcHggMjBweFwiIH19PlxuICAgICAgICAgIHtDQVRFR09SSUVTLm1hcChmdW5jdGlvbiByZW5kZXJDYXRlZ29yeShjYXRlZ29yeSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2NhdGVnb3J5LnRpdGxlfSBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDIwIH19PlxuICAgICAgICAgICAgICAgIDxoM1xuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4wNWVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIwIDAgOHB4XCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGdhcDogNCB9fT5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5zaG9ydGN1dHMubWFwKGZ1bmN0aW9uIHJlbmRlclNob3J0Y3V0KHNob3J0Y3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzaG9ydGN1dC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG9ydGN1dC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogMyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3J0Y3V0LmtleXMubWFwKGZ1bmN0aW9uIHJlbmRlcktleShrZXksIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPEtiZCBrZXk9e2l9PntrZXl9PC9LYmQ+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJYIiwiQ0FURUdPUklFUyIsInRpdGxlIiwic2hvcnRjdXRzIiwia2V5cyIsImxhYmVsIiwiS2JkIiwiY2hpbGRyZW4iLCJrYmQiLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJtaW5XaWR0aCIsImhlaWdodCIsInBhZGRpbmciLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJsaW5lSGVpZ2h0IiwiS2V5Ym9hcmRTaG9ydGN1dHMiLCJvcGVuIiwib25DbG9zZSIsImhhbmRsZUVzY2FwZSIsIm9uS2V5RG93biIsImUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhbnVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsInBvc2l0aW9uIiwiaW5zZXQiLCJ6SW5kZXgiLCJhbmltYXRpb24iLCJvbkNsaWNrIiwiaGFuZGxlQmFja2Ryb3BDbGljayIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwiYm94U2hhZG93IiwiYm9yZGVyQm90dG9tIiwiaDIiLCJtYXJnaW4iLCJidXR0b24iLCJiYWNrZ3JvdW5kIiwiY3Vyc29yIiwic2l6ZSIsIm1hcCIsInJlbmRlckNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJtYXJnaW5Cb3R0b20iLCJoMyIsInRleHRUcmFuc2Zvcm0iLCJsZXR0ZXJTcGFjaW5nIiwiZmxleERpcmVjdGlvbiIsImdhcCIsInJlbmRlclNob3J0Y3V0Iiwic2hvcnRjdXQiLCJzcGFuIiwicmVuZGVyS2V5IiwiaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/shell/KeyboardShortcuts.tsx\n");

/***/ }),

/***/ "(ssr)/./components/shell/ShellLayout.tsx":
/*!******************************************!*\
  !*** ./components/shell/ShellLayout.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShellLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction ShellLayout({ children, leftContent, rightContent, onToggleShortcuts, onToggleSplitView }) {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const leftOpen = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectLeftOpen(s) {\n        return s.panels.leftOpen;\n    });\n    const rightOpen = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectRightOpen(s) {\n        return s.panels.rightOpen;\n    });\n    const isFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectFocusMode(s) {\n        return s.editor.isFocusMode;\n    });\n    const toggleLeftPanel = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectToggleLeft(s) {\n        return s.toggleLeftPanel;\n    });\n    const toggleRightPanel = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectToggleRight(s) {\n        return s.toggleRightPanel;\n    });\n    const toggleFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectToggleFocus(s) {\n        return s.toggleFocusMode;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function registerKeyboardShortcuts() {\n        function handleKeyDown(e) {\n            const mod = e.metaKey || e.ctrlKey;\n            const target = e.target;\n            const isInput = target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable;\n            if (mod && e.key === \"b\") {\n                e.preventDefault();\n                toggleLeftPanel();\n            }\n            if (mod && e.key === \"j\") {\n                e.preventDefault();\n                toggleRightPanel();\n            }\n            if (mod && e.shiftKey && (e.key === \"r\" || e.key === \"R\")) {\n                e.preventDefault();\n                router.push(\"/book/galley\");\n            }\n            if (e.key === \"F11\") {\n                e.preventDefault();\n                toggleFocusMode();\n            }\n            if (e.key === \"?\" && !isInput && onToggleShortcuts) {\n                e.preventDefault();\n                onToggleShortcuts();\n            }\n            if (mod && e.key === \"\\\\\" && onToggleSplitView) {\n                e.preventDefault();\n                onToggleSplitView();\n            }\n        }\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        toggleLeftPanel,\n        toggleRightPanel,\n        toggleFocusMode,\n        router,\n        onToggleShortcuts,\n        onToggleSplitView\n    ]);\n    const showLeft = leftOpen && !isFocusMode;\n    const showRight = rightOpen && !isFocusMode;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            height: isFocusMode ? \"100vh\" : \"calc(100vh - 32px)\",\n            overflow: \"hidden\",\n            backgroundColor: \"var(--color-bg)\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"shell-left-panel\",\n                style: {\n                    width: showLeft ? 280 : 0,\n                    minWidth: 0,\n                    overflow: \"hidden\",\n                    transition: \"width 200ms ease-out\",\n                    borderRight: showLeft ? \"1px solid var(--color-border)\" : \"none\",\n                    backgroundColor: \"var(--color-surface)\",\n                    display: \"flex\",\n                    flexDirection: \"column\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        width: 280,\n                        height: \"100%\",\n                        overflow: \"hidden\"\n                    },\n                    children: leftContent\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n                    lineNumber: 110,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n                lineNumber: 97,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                style: {\n                    flex: 1,\n                    minWidth: 0,\n                    overflow: \"auto\",\n                    backgroundColor: \"var(--color-bg)\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n                lineNumber: 115,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"shell-right-panel\",\n                style: {\n                    width: showRight ? 360 : 0,\n                    minWidth: 0,\n                    overflow: \"hidden\",\n                    transition: \"width 200ms ease-out\",\n                    borderLeft: showRight ? \"1px solid var(--color-border)\" : \"none\",\n                    backgroundColor: \"var(--color-surface)\",\n                    display: \"flex\",\n                    flexDirection: \"column\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        width: 360,\n                        height: \"100%\",\n                        overflow: \"hidden\"\n                    },\n                    children: rightContent\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n                    lineNumber: 139,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n                lineNumber: 126,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/ShellLayout.tsx\",\n        lineNumber: 89,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEJXLFVBQVU7b0JBQ1ZMLFVBQVU7b0JBQ1ZNLFlBQVk7b0JBQ1pDLGFBQWFiLFdBQVcsa0NBQWtDO29CQUMxRE8saUJBQWlCO29CQUNqQkgsU0FBUztvQkFDVFUsZUFBZTtnQkFDakI7MEJBRUEsNEVBQUNaO29CQUFJQyxPQUFPO3dCQUFFTyxPQUFPO3dCQUFLTCxRQUFRO3dCQUFRQyxVQUFVO29CQUFTOzhCQUMxRDVDOzs7Ozs7Ozs7OzswQkFJTCw4REFBQ3FEO2dCQUNDWixPQUFPO29CQUNMYSxNQUFNO29CQUNOTCxVQUFVO29CQUNWTCxVQUFVO29CQUNWQyxpQkFBaUI7Z0JBQ25COzBCQUVDOUM7Ozs7OzswQkFHSCw4REFBQytDO2dCQUNDQyxXQUFVO2dCQUNWTixPQUFPO29CQUNMTyxPQUFPVCxZQUFZLE1BQU07b0JBQ3pCVSxVQUFVO29CQUNWTCxVQUFVO29CQUNWTSxZQUFZO29CQUNaSyxZQUFZaEIsWUFBWSxrQ0FBa0M7b0JBQzFETSxpQkFBaUI7b0JBQ2pCSCxTQUFTO29CQUNUVSxlQUFlO2dCQUNqQjswQkFFQSw0RUFBQ1o7b0JBQUlDLE9BQU87d0JBQUVPLE9BQU87d0JBQUtMLFFBQVE7d0JBQVFDLFVBQVU7b0JBQVM7OEJBQzFEM0M7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NoZWxsL1NoZWxsTGF5b3V0LnRzeD83YjMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHR5cGUgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCJAL3N0b3JlXCI7XG5cbmludGVyZmFjZSBTaGVsbExheW91dFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgbGVmdENvbnRlbnQ6IFJlYWN0Tm9kZTtcbiAgcmlnaHRDb250ZW50OiBSZWFjdE5vZGU7XG4gIG9uVG9nZ2xlU2hvcnRjdXRzPzogKCkgPT4gdm9pZDtcbiAgb25Ub2dnbGVTcGxpdFZpZXc/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaGVsbExheW91dCh7XG4gIGNoaWxkcmVuLFxuICBsZWZ0Q29udGVudCxcbiAgcmlnaHRDb250ZW50LFxuICBvblRvZ2dsZVNob3J0Y3V0cyxcbiAgb25Ub2dnbGVTcGxpdFZpZXcsXG59OiBTaGVsbExheW91dFByb3BzKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBsZWZ0T3BlbiA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdExlZnRPcGVuKHMpIHtcbiAgICByZXR1cm4gcy5wYW5lbHMubGVmdE9wZW47XG4gIH0pO1xuICBjb25zdCByaWdodE9wZW4gPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RSaWdodE9wZW4ocykge1xuICAgIHJldHVybiBzLnBhbmVscy5yaWdodE9wZW47XG4gIH0pO1xuICBjb25zdCBpc0ZvY3VzTW9kZSA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEZvY3VzTW9kZShzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmlzRm9jdXNNb2RlO1xuICB9KTtcbiAgY29uc3QgdG9nZ2xlTGVmdFBhbmVsID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VG9nZ2xlTGVmdChzKSB7XG4gICAgcmV0dXJuIHMudG9nZ2xlTGVmdFBhbmVsO1xuICB9KTtcbiAgY29uc3QgdG9nZ2xlUmlnaHRQYW5lbCA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdFRvZ2dsZVJpZ2h0KHMpIHtcbiAgICByZXR1cm4gcy50b2dnbGVSaWdodFBhbmVsO1xuICB9KTtcbiAgY29uc3QgdG9nZ2xlRm9jdXNNb2RlID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VG9nZ2xlRm9jdXMocykge1xuICAgIHJldHVybiBzLnRvZ2dsZUZvY3VzTW9kZTtcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHJlZ2lzdGVyS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICBjb25zdCBtb2QgPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5O1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBpc0lucHV0ID0gdGFyZ2V0LnRhZ05hbWUgPT09IFwiSU5QVVRcIiB8fCB0YXJnZXQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiIHx8IHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZTtcblxuICAgICAgaWYgKG1vZCAmJiBlLmtleSA9PT0gXCJiXCIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0b2dnbGVMZWZ0UGFuZWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZCAmJiBlLmtleSA9PT0gXCJqXCIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0b2dnbGVSaWdodFBhbmVsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2QgJiYgZS5zaGlmdEtleSAmJiAoZS5rZXkgPT09IFwiclwiIHx8IGUua2V5ID09PSBcIlJcIikpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByb3V0ZXIucHVzaChcIi9ib29rL2dhbGxleVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGUua2V5ID09PSBcIkYxMVwiKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9nZ2xlRm9jdXNNb2RlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlLmtleSA9PT0gXCI/XCIgJiYgIWlzSW5wdXQgJiYgb25Ub2dnbGVTaG9ydGN1dHMpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBvblRvZ2dsZVNob3J0Y3V0cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9kICYmIGUua2V5ID09PSBcIlxcXFxcIiAmJiBvblRvZ2dsZVNwbGl0Vmlldykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG9uVG9nZ2xlU3BsaXRWaWV3KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIH07XG4gIH0sIFt0b2dnbGVMZWZ0UGFuZWwsIHRvZ2dsZVJpZ2h0UGFuZWwsIHRvZ2dsZUZvY3VzTW9kZSwgcm91dGVyLCBvblRvZ2dsZVNob3J0Y3V0cywgb25Ub2dnbGVTcGxpdFZpZXddKTtcblxuICBjb25zdCBzaG93TGVmdCA9IGxlZnRPcGVuICYmICFpc0ZvY3VzTW9kZTtcbiAgY29uc3Qgc2hvd1JpZ2h0ID0gcmlnaHRPcGVuICYmICFpc0ZvY3VzTW9kZTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBoZWlnaHQ6IGlzRm9jdXNNb2RlID8gXCIxMDB2aFwiIDogXCJjYWxjKDEwMHZoIC0gMzJweClcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGFzaWRlXG4gICAgICAgIGNsYXNzTmFtZT1cInNoZWxsLWxlZnQtcGFuZWxcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiBzaG93TGVmdCA/IDI4MCA6IDAsXG4gICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgdHJhbnNpdGlvbjogXCJ3aWR0aCAyMDBtcyBlYXNlLW91dFwiLFxuICAgICAgICAgIGJvcmRlclJpZ2h0OiBzaG93TGVmdCA/IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIiA6IFwibm9uZVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IDI4MCwgaGVpZ2h0OiBcIjEwMCVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX0+XG4gICAgICAgICAge2xlZnRDb250ZW50fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYXNpZGU+XG5cbiAgICAgIDxtYWluXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L21haW4+XG5cbiAgICAgIDxhc2lkZVxuICAgICAgICBjbGFzc05hbWU9XCJzaGVsbC1yaWdodC1wYW5lbFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6IHNob3dSaWdodCA/IDM2MCA6IDAsXG4gICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgdHJhbnNpdGlvbjogXCJ3aWR0aCAyMDBtcyBlYXNlLW91dFwiLFxuICAgICAgICAgIGJvcmRlckxlZnQ6IHNob3dSaWdodCA/IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIiA6IFwibm9uZVwiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6IDM2MCwgaGVpZ2h0OiBcIjEwMCVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX0+XG4gICAgICAgICAge3JpZ2h0Q29udGVudH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2FzaWRlPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJvdXRlciIsInVzZUFwcFN0b3JlIiwiU2hlbGxMYXlvdXQiLCJjaGlsZHJlbiIsImxlZnRDb250ZW50IiwicmlnaHRDb250ZW50Iiwib25Ub2dnbGVTaG9ydGN1dHMiLCJvblRvZ2dsZVNwbGl0VmlldyIsInJvdXRlciIsImxlZnRPcGVuIiwic2VsZWN0TGVmdE9wZW4iLCJzIiwicGFuZWxzIiwicmlnaHRPcGVuIiwic2VsZWN0UmlnaHRPcGVuIiwiaXNGb2N1c01vZGUiLCJzZWxlY3RGb2N1c01vZGUiLCJlZGl0b3IiLCJ0b2dnbGVMZWZ0UGFuZWwiLCJzZWxlY3RUb2dnbGVMZWZ0IiwidG9nZ2xlUmlnaHRQYW5lbCIsInNlbGVjdFRvZ2dsZVJpZ2h0IiwidG9nZ2xlRm9jdXNNb2RlIiwic2VsZWN0VG9nZ2xlRm9jdXMiLCJyZWdpc3RlcktleWJvYXJkU2hvcnRjdXRzIiwiaGFuZGxlS2V5RG93biIsImUiLCJtb2QiLCJtZXRhS2V5IiwiY3RybEtleSIsInRhcmdldCIsImlzSW5wdXQiLCJ0YWdOYW1lIiwiaXNDb250ZW50RWRpdGFibGUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInNoaWZ0S2V5IiwicHVzaCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhbnVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3dMZWZ0Iiwic2hvd1JpZ2h0IiwiZGl2Iiwic3R5bGUiLCJkaXNwbGF5IiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kQ29sb3IiLCJhc2lkZSIsImNsYXNzTmFtZSIsIndpZHRoIiwibWluV2lkdGgiLCJ0cmFuc2l0aW9uIiwiYm9yZGVyUmlnaHQiLCJmbGV4RGlyZWN0aW9uIiwibWFpbiIsImZsZXgiLCJib3JkZXJMZWZ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/shell/ShellLayout.tsx\n");

/***/ }),

/***/ "(ssr)/./components/shell/StatusBar.tsx":
/*!****************************************!*\
  !*** ./components/shell/StatusBar.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StatusBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/cloud-off.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/share-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/maximize-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,BookOpen,Check,CloudOff,Loader2,Maximize2,MessageSquare,Moon,Share2,Sun,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _components_editor_PublishPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/editor/PublishPanel */ \"(ssr)/./components/editor/PublishPanel.tsx\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction SaveIndicator({ status }) {\n    if (status === \"idle\") return null;\n    if (status === \"saving\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                gap: 4\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    size: 14,\n                    strokeWidth: 1.5,\n                    style: {\n                        animation: \"spin 1s linear infinite\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 9\n                }, this),\n                \"Saving...\"\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n            lineNumber: 28,\n            columnNumber: 7\n        }, this);\n    }\n    if (status === \"saved\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                gap: 4\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    size: 14,\n                    strokeWidth: 1.5,\n                    style: {\n                        color: \"var(--color-success)\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, this),\n                \"Saved\"\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n            lineNumber: 41,\n            columnNumber: 7\n        }, this);\n    }\n    if (status === \"offline\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                gap: 4\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    size: 14,\n                    strokeWidth: 1.5\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                    lineNumber: 51,\n                    columnNumber: 9\n                }, this),\n                \"Offline (saved locally)\"\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n            lineNumber: 50,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            gap: 4,\n            color: \"var(--color-error)\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                size: 14,\n                strokeWidth: 1.5\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                lineNumber: 59,\n                columnNumber: 7\n            }, this),\n            \"Save failed\"\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, this);\n}\nfunction formatWordCount(count) {\n    return (count ?? 0).toLocaleString() + \" words\";\n}\nfunction StatusBar() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [publishOpen, setPublishOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shareOpen, setShareOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectCurrentBook(s) {\n        return s.editor.currentBook;\n    });\n    const bookConfig = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_5__.getBookConfig)(currentBook);\n    const wordCount = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectWordCount(s) {\n        return s.editor.wordCount;\n    });\n    const saveStatus = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectSaveStatus(s) {\n        return s.editor.saveStatus;\n    });\n    const currentChapter = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectCurrentChapter(s) {\n        return s.editor.currentChapter;\n    });\n    const isFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectFocusMode(s) {\n        return s.editor.isFocusMode;\n    });\n    const toggleFocusMode = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectToggleFocus(s) {\n        return s.toggleFocusMode;\n    });\n    const theme = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectTheme(s) {\n        return s.preferences.theme;\n    });\n    const updatePreferences = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectUpdatePrefs(s) {\n        return s.updatePreferences;\n    });\n    const rightOpen = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectRightOpen(s) {\n        return s.panels.rightOpen;\n    });\n    const toggleRightPanel = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectToggleRight(s) {\n        return s.toggleRightPanel;\n    });\n    const dailyGoal = 1000;\n    const todayKey = \"scriva:wordcount:\" + new Date().toISOString().slice(0, 10);\n    const [dailyWords, setDailyWords] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const prevWordCountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(wordCount);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadDailyWords() {\n        try {\n            const stored = localStorage.getItem(todayKey);\n            if (stored) setDailyWords(parseInt(stored, 10) || 0);\n        } catch  {}\n    }, [\n        todayKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function trackWords() {\n        const diff = wordCount - prevWordCountRef.current;\n        prevWordCountRef.current = wordCount;\n        if (diff > 0) {\n            setDailyWords(function updateDaily(prev) {\n                const next = prev + diff;\n                try {\n                    localStorage.setItem(todayKey, String(next));\n                } catch  {}\n                return next;\n            });\n        }\n    }, [\n        wordCount,\n        todayKey\n    ]);\n    const goalProgress = Math.min(dailyWords / dailyGoal, 1);\n    function handleThemeToggle() {\n        const next = theme === \"paper\" ? \"study\" : \"paper\";\n        document.documentElement.setAttribute(\"data-theme\", next);\n        updatePreferences({\n            theme: next\n        });\n    }\n    function handleReader() {\n        router.push(\"/book/galley\");\n    }\n    function handlePublishOpen() {\n        setPublishOpen(true);\n    }\n    function handlePublishClose() {\n        setPublishOpen(false);\n    }\n    if (isFocusMode) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            height: 32,\n            minHeight: 32,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            paddingLeft: 12,\n            paddingRight: 12,\n            backgroundColor: \"var(--color-surface)\",\n            borderTop: \"1px solid var(--color-border)\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 12,\n            color: \"var(--color-text-muted)\",\n            userSelect: \"none\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 16\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: formatWordCount(wordCount)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            color: goalProgress >= 1 ? \"var(--color-success, #22c55e)\" : \"var(--color-text-muted)\"\n                        },\n                        title: dailyWords + \" / \" + dailyGoal + \" daily goal\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    width: 40,\n                                    height: 4,\n                                    borderRadius: 2,\n                                    background: \"var(--color-border)\",\n                                    overflow: \"hidden\",\n                                    display: \"inline-block\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        display: \"block\",\n                                        width: goalProgress * 100 + \"%\",\n                                        height: \"100%\",\n                                        borderRadius: 2,\n                                        background: goalProgress >= 1 ? \"var(--color-success, #22c55e)\" : \"var(--color-accent)\",\n                                        transition: \"width 300ms ease\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                                    lineNumber: 192,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                                lineNumber: 182,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 11\n                                },\n                                children: [\n                                    dailyWords,\n                                    \"/\",\n                                    dailyGoal\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 9\n                    }, this),\n                    currentChapter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            maxWidth: 200,\n                            overflow: \"hidden\",\n                            textOverflow: \"ellipsis\",\n                            whiteSpace: \"nowrap\"\n                        },\n                        children: currentChapter\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 206,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                lineNumber: 171,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 12\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Draft 1\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SaveIndicator, {\n                        status: saveStatus\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 4\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleRightPanel,\n                        title: \"Chat & AI panels (J)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: rightOpen ? \"var(--color-surface-hover)\" : \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = rightOpen ? \"var(--color-surface-hover)\" : \"transparent\";\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 248,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this),\n                    bookConfig && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function onShareClick() {\n                            setShareOpen(!shareOpen);\n                        },\n                        title: \"Share & Collaborate\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = \"transparent\";\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 276,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleReader,\n                        title: \"Reader preview (R)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = \"transparent\";\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 302,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 279,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handlePublishOpen,\n                        title: \"Publish / Export\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = \"transparent\";\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 327,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 304,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleFocusMode,\n                        title: \"Focus mode (F11)\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = \"transparent\";\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 352,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 329,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleThemeToggle,\n                        title: theme === \"paper\" ? \"Switch to dark theme\" : \"Switch to light theme\",\n                        style: {\n                            display: \"inline-flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 24,\n                            height: 24,\n                            borderRadius: 4,\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            transition: \"background 150ms ease\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.background = \"transparent\";\n                        },\n                        children: theme === \"paper\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 378,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_BookOpen_Check_CloudOff_Loader2_Maximize2_MessageSquare_Moon_Share2_Sun_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                            lineNumber: 380,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                        lineNumber: 354,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_PublishPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                open: publishOpen,\n                onClose: handlePublishClose\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n                lineNumber: 385,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/shell/StatusBar.tsx\",\n        lineNumber: 154,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NoZWxsL1N0YXR1c0Jhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW9EO0FBQ1I7QUFhdEI7QUFDZ0I7QUFDc0I7QUFDWDtBQUdqRCxTQUFTa0IsY0FBYyxFQUFFQyxNQUFNLEVBQTBCO0lBQ3ZELElBQUlBLFdBQVcsUUFBUSxPQUFPO0lBRTlCLElBQUlBLFdBQVcsVUFBVTtRQUN2QixxQkFDRSw4REFBQ0M7WUFBS0MsT0FBTztnQkFBRUMsU0FBUztnQkFBZUMsWUFBWTtnQkFBVUMsS0FBSztZQUFFOzs4QkFDbEUsOERBQUNwQixzS0FBT0E7b0JBQ05xQixNQUFNO29CQUNOQyxhQUFhO29CQUNiTCxPQUFPO3dCQUFFTSxXQUFXO29CQUEwQjs7Ozs7O2dCQUM5Qzs7Ozs7OztJQUlSO0lBRUEsSUFBSVIsV0FBVyxTQUFTO1FBQ3RCLHFCQUNFLDhEQUFDQztZQUFLQyxPQUFPO2dCQUFFQyxTQUFTO2dCQUFlQyxZQUFZO2dCQUFVQyxLQUFLO1lBQUU7OzhCQUNsRSw4REFBQ25CLHNLQUFLQTtvQkFBQ29CLE1BQU07b0JBQUlDLGFBQWE7b0JBQUtMLE9BQU87d0JBQUVPLE9BQU87b0JBQXVCOzs7Ozs7Z0JBQUs7Ozs7Ozs7SUFJckY7SUFFQSxJQUFJVCxXQUFXLFdBQVc7UUFDeEIscUJBQ0UsOERBQUNDO1lBQUtDLE9BQU87Z0JBQUVDLFNBQVM7Z0JBQWVDLFlBQVk7Z0JBQVVDLEtBQUs7WUFBRTs7OEJBQ2xFLDhEQUFDbEIsc0tBQVFBO29CQUFDbUIsTUFBTTtvQkFBSUMsYUFBYTs7Ozs7O2dCQUFPOzs7Ozs7O0lBSTlDO0lBRUEscUJBQ0UsOERBQUNOO1FBQUtDLE9BQU87WUFBRUMsU0FBUztZQUFlQyxZQUFZO1lBQVVDLEtBQUs7WUFBR0ksT0FBTztRQUFxQjs7MEJBQy9GLDhEQUFDckIsc0tBQVdBO2dCQUFDa0IsTUFBTTtnQkFBSUMsYUFBYTs7Ozs7O1lBQU87Ozs7Ozs7QUFJakQ7QUFFQSxT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UFgsUUFBUTs0QkFDUlksY0FBYzs0QkFDZFMsUUFBUTs0QkFDUlIsWUFBWTs0QkFDWmpGLE9BQU87NEJBQ1AwRixRQUFROzRCQUNSUCxZQUFZO3dCQUNkO3dCQUNBUSxjQUFjLFNBQVNDLFFBQVFDLENBQUM7NEJBQzlCQSxFQUFFQyxhQUFhLENBQUNyRyxLQUFLLENBQUN3RixVQUFVLEdBQUc7d0JBQ3JDO3dCQUNBYyxjQUFjLFNBQVNDLFFBQVFILENBQUM7NEJBQzlCQSxFQUFFQyxhQUFhLENBQUNyRyxLQUFLLENBQUN3RixVQUFVLEdBQUc7d0JBQ3JDO2tDQUVDeEQsVUFBVSx3QkFDVCw4REFBQzNDLHVLQUFJQTs0QkFBQ2UsTUFBTTs0QkFBSUMsYUFBYTs7Ozs7aURBRTdCLDhEQUFDakIsdUtBQUdBOzRCQUFDZ0IsTUFBTTs0QkFBSUMsYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBS2xDLDhEQUFDVix1RUFBWUE7Z0JBQUM4RyxNQUFNNUY7Z0JBQWE2RixTQUFTakM7Ozs7Ozs7Ozs7OztBQUdoRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvc2hlbGwvU3RhdHVzQmFyLnRzeD8xNzJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7XG4gIExvYWRlcjIsXG4gIENoZWNrLFxuICBDbG91ZE9mZixcbiAgQWxlcnRDaXJjbGUsXG4gIE1heGltaXplMixcbiAgU3VuLFxuICBNb29uLFxuICBCb29rT3BlbixcbiAgVXBsb2FkLFxuICBNZXNzYWdlU3F1YXJlLFxuICBTaGFyZTIsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCBQdWJsaXNoUGFuZWwgZnJvbSBcIkAvY29tcG9uZW50cy9lZGl0b3IvUHVibGlzaFBhbmVsXCI7XG5pbXBvcnQgeyBnZXRCb29rQ29uZmlnIH0gZnJvbSBcIkAvbGliL2Jvb2tDb25maWdcIjtcbmltcG9ydCB0eXBlIHsgU2F2ZVN0YXR1cyB9IGZyb20gXCJAL3R5cGVzXCI7XG5cbmZ1bmN0aW9uIFNhdmVJbmRpY2F0b3IoeyBzdGF0dXMgfTogeyBzdGF0dXM6IFNhdmVTdGF0dXMgfSkge1xuICBpZiAoc3RhdHVzID09PSBcImlkbGVcIikgcmV0dXJuIG51bGw7XG5cbiAgaWYgKHN0YXR1cyA9PT0gXCJzYXZpbmdcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogNCB9fT5cbiAgICAgICAgPExvYWRlcjJcbiAgICAgICAgICBzaXplPXsxNH1cbiAgICAgICAgICBzdHJva2VXaWR0aD17MS41fVxuICAgICAgICAgIHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGluIDFzIGxpbmVhciBpbmZpbml0ZVwiIH19XG4gICAgICAgIC8+XG4gICAgICAgIFNhdmluZy4uLlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICBpZiAoc3RhdHVzID09PSBcInNhdmVkXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gc3R5bGU9e3sgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IDQgfX0+XG4gICAgICAgIDxDaGVjayBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gc3R5bGU9e3sgY29sb3I6IFwidmFyKC0tY29sb3Itc3VjY2VzcylcIiB9fSAvPlxuICAgICAgICBTYXZlZFxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICBpZiAoc3RhdHVzID09PSBcIm9mZmxpbmVcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogNCB9fT5cbiAgICAgICAgPENsb3VkT2ZmIHNpemU9ezE0fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICBPZmZsaW5lIChzYXZlZCBsb2NhbGx5KVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZ2FwOiA0LCBjb2xvcjogXCJ2YXIoLS1jb2xvci1lcnJvcilcIiB9fT5cbiAgICAgIDxBbGVydENpcmNsZSBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgIFNhdmUgZmFpbGVkXG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXb3JkQ291bnQoY291bnQ6IG51bWJlciB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gIHJldHVybiAoY291bnQgPz8gMCkudG9Mb2NhbGVTdHJpbmcoKSArIFwiIHdvcmRzXCI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0YXR1c0JhcigpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtwdWJsaXNoT3Blbiwgc2V0UHVibGlzaE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hhcmVPcGVuLCBzZXRTaGFyZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGN1cnJlbnRCb29rID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0Q3VycmVudEJvb2socykge1xuICAgIHJldHVybiBzLmVkaXRvci5jdXJyZW50Qm9vaztcbiAgfSk7XG4gIGNvbnN0IGJvb2tDb25maWcgPSBnZXRCb29rQ29uZmlnKGN1cnJlbnRCb29rKTtcblxuICBjb25zdCB3b3JkQ291bnQgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RXb3JkQ291bnQocykge1xuICAgIHJldHVybiBzLmVkaXRvci53b3JkQ291bnQ7XG4gIH0pO1xuICBjb25zdCBzYXZlU3RhdHVzID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0U2F2ZVN0YXR1cyhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLnNhdmVTdGF0dXM7XG4gIH0pO1xuICBjb25zdCBjdXJyZW50Q2hhcHRlciA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEN1cnJlbnRDaGFwdGVyKHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3IuY3VycmVudENoYXB0ZXI7XG4gIH0pO1xuICBjb25zdCBpc0ZvY3VzTW9kZSA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEZvY3VzTW9kZShzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmlzRm9jdXNNb2RlO1xuICB9KTtcbiAgY29uc3QgdG9nZ2xlRm9jdXNNb2RlID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VG9nZ2xlRm9jdXMocykge1xuICAgIHJldHVybiBzLnRvZ2dsZUZvY3VzTW9kZTtcbiAgfSk7XG4gIGNvbnN0IHRoZW1lID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VGhlbWUocykge1xuICAgIHJldHVybiBzLnByZWZlcmVuY2VzLnRoZW1lO1xuICB9KTtcbiAgY29uc3QgdXBkYXRlUHJlZmVyZW5jZXMgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RVcGRhdGVQcmVmcyhzKSB7XG4gICAgcmV0dXJuIHMudXBkYXRlUHJlZmVyZW5jZXM7XG4gIH0pO1xuICBjb25zdCByaWdodE9wZW4gPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RSaWdodE9wZW4ocykge1xuICAgIHJldHVybiBzLnBhbmVscy5yaWdodE9wZW47XG4gIH0pO1xuICBjb25zdCB0b2dnbGVSaWdodFBhbmVsID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0VG9nZ2xlUmlnaHQocykge1xuICAgIHJldHVybiBzLnRvZ2dsZVJpZ2h0UGFuZWw7XG4gIH0pO1xuXG4gIGNvbnN0IGRhaWx5R29hbCA9IDEwMDA7XG4gIGNvbnN0IHRvZGF5S2V5ID0gXCJzY3JpdmE6d29yZGNvdW50OlwiICsgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgY29uc3QgW2RhaWx5V29yZHMsIHNldERhaWx5V29yZHNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHByZXZXb3JkQ291bnRSZWYgPSB1c2VSZWYod29yZENvdW50KTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gbG9hZERhaWx5V29yZHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRvZGF5S2V5KTtcbiAgICAgIGlmIChzdG9yZWQpIHNldERhaWx5V29yZHMocGFyc2VJbnQoc3RvcmVkLCAxMCkgfHwgMCk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbdG9kYXlLZXldKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gdHJhY2tXb3JkcygpIHtcbiAgICBjb25zdCBkaWZmID0gd29yZENvdW50IC0gcHJldldvcmRDb3VudFJlZi5jdXJyZW50O1xuICAgIHByZXZXb3JkQ291bnRSZWYuY3VycmVudCA9IHdvcmRDb3VudDtcbiAgICBpZiAoZGlmZiA+IDApIHtcbiAgICAgIHNldERhaWx5V29yZHMoZnVuY3Rpb24gdXBkYXRlRGFpbHkocHJldikge1xuICAgICAgICBjb25zdCBuZXh0ID0gcHJldiArIGRpZmY7XG4gICAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRvZGF5S2V5LCBTdHJpbmcobmV4dCkpOyB9IGNhdGNoIHt9XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbd29yZENvdW50LCB0b2RheUtleV0pO1xuXG4gIGNvbnN0IGdvYWxQcm9ncmVzcyA9IE1hdGgubWluKGRhaWx5V29yZHMgLyBkYWlseUdvYWwsIDEpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVRoZW1lVG9nZ2xlKCkge1xuICAgIGNvbnN0IG5leHQgPSB0aGVtZSA9PT0gXCJwYXBlclwiID8gXCJzdHVkeVwiIDogXCJwYXBlclwiO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRoZW1lXCIsIG5leHQpO1xuICAgIHVwZGF0ZVByZWZlcmVuY2VzKHsgdGhlbWU6IG5leHQgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZWFkZXIoKSB7XG4gICAgcm91dGVyLnB1c2goXCIvYm9vay9nYWxsZXlcIik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQdWJsaXNoT3BlbigpIHtcbiAgICBzZXRQdWJsaXNoT3Blbih0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVB1Ymxpc2hDbG9zZSgpIHtcbiAgICBzZXRQdWJsaXNoT3BlbihmYWxzZSk7XG4gIH1cblxuICBpZiAoaXNGb2N1c01vZGUpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgaGVpZ2h0OiAzMixcbiAgICAgICAgbWluSGVpZ2h0OiAzMixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDEyLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDEyLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IDE2IH19PlxuICAgICAgICA8c3Bhbj57Zm9ybWF0V29yZENvdW50KHdvcmRDb3VudCl9PC9zcGFuPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgY29sb3I6IGdvYWxQcm9ncmVzcyA+PSAxID8gXCJ2YXIoLS1jb2xvci1zdWNjZXNzLCAjMjJjNTVlKVwiIDogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIH19XG4gICAgICAgICAgdGl0bGU9e2RhaWx5V29yZHMgKyBcIiAvIFwiICsgZGFpbHlHb2FsICsgXCIgZGFpbHkgZ29hbFwifVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiA0LFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IChnb2FsUHJvZ3Jlc3MgKiAxMDApICsgXCIlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ29hbFByb2dyZXNzID49IDEgPyBcInZhcigtLWNvbG9yLXN1Y2Nlc3MsICMyMmM1NWUpXCIgOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcIndpZHRoIDMwMG1zIGVhc2VcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMSB9fT57ZGFpbHlXb3Jkc30ve2RhaWx5R29hbH08L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2N1cnJlbnRDaGFwdGVyICYmIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IDIwMCxcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y3VycmVudENoYXB0ZXJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogMTIgfX0+XG4gICAgICAgIDxzcGFuPkRyYWZ0IDE8L3NwYW4+XG4gICAgICAgIDxTYXZlSW5kaWNhdG9yIHN0YXR1cz17c2F2ZVN0YXR1c30gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IDQgfX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVSaWdodFBhbmVsfVxuICAgICAgICAgIHRpdGxlPVwiQ2hhdCAmIEFJIHBhbmVscyAo4oyYSilcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjQsXG4gICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJpZ2h0T3BlbiA/IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kIDE1MG1zIGVhc2VcIixcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IHJpZ2h0T3BlbiA/IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIiA6IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgc2l6ZT17MTZ9IHN0cm9rZVdpZHRoPXsxLjV9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB7Ym9va0NvbmZpZyAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gb25TaGFyZUNsaWNrKCkge1xuICAgICAgICAgICAgICBzZXRTaGFyZU9wZW4oIXNoYXJlT3Blbik7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdGl0bGU9XCJTaGFyZSAmIENvbGxhYm9yYXRlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiAyNCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZCAxNTBtcyBlYXNlXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHtcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBvbkxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTaGFyZTIgc2l6ZT17MTZ9IHN0cm9rZVdpZHRoPXsxLjV9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWFkZXJ9XG4gICAgICAgICAgdGl0bGU9XCJSZWFkZXIgcHJldmlldyAo4oyY4oenUilcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjQsXG4gICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kIDE1MG1zIGVhc2VcIixcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEJvb2tPcGVuIHNpemU9ezE2fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVB1Ymxpc2hPcGVufVxuICAgICAgICAgIHRpdGxlPVwiUHVibGlzaCAvIEV4cG9ydFwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiAyNCxcbiAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcImJhY2tncm91bmQgMTUwbXMgZWFzZVwiLFxuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBvbkxlYXZlKGUpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8VXBsb2FkIHNpemU9ezE2fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUZvY3VzTW9kZX1cbiAgICAgICAgICB0aXRsZT1cIkZvY3VzIG1vZGUgKEYxMSlcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMjQsXG4gICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kIDE1MG1zIGVhc2VcIixcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPE1heGltaXplMiBzaXplPXsxNn0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUaGVtZVRvZ2dsZX1cbiAgICAgICAgICB0aXRsZT17dGhlbWUgPT09IFwicGFwZXJcIiA/IFwiU3dpdGNoIHRvIGRhcmsgdGhlbWVcIiA6IFwiU3dpdGNoIHRvIGxpZ2h0IHRoZW1lXCJ9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiAyNCxcbiAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcImJhY2tncm91bmQgMTUwbXMgZWFzZVwiLFxuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBvbkxlYXZlKGUpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7dGhlbWUgPT09IFwicGFwZXJcIiA/IChcbiAgICAgICAgICAgIDxNb29uIHNpemU9ezE2fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8U3VuIHNpemU9ezE2fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxQdWJsaXNoUGFuZWwgb3Blbj17cHVibGlzaE9wZW59IG9uQ2xvc2U9e2hhbmRsZVB1Ymxpc2hDbG9zZX0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVJvdXRlciIsIkxvYWRlcjIiLCJDaGVjayIsIkNsb3VkT2ZmIiwiQWxlcnRDaXJjbGUiLCJNYXhpbWl6ZTIiLCJTdW4iLCJNb29uIiwiQm9va09wZW4iLCJVcGxvYWQiLCJNZXNzYWdlU3F1YXJlIiwiU2hhcmUyIiwidXNlQXBwU3RvcmUiLCJQdWJsaXNoUGFuZWwiLCJnZXRCb29rQ29uZmlnIiwiU2F2ZUluZGljYXRvciIsInN0YXR1cyIsInNwYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwic2l6ZSIsInN0cm9rZVdpZHRoIiwiYW5pbWF0aW9uIiwiY29sb3IiLCJmb3JtYXRXb3JkQ291bnQiLCJjb3VudCIsInRvTG9jYWxlU3RyaW5nIiwiU3RhdHVzQmFyIiwicm91dGVyIiwicHVibGlzaE9wZW4iLCJzZXRQdWJsaXNoT3BlbiIsInNoYXJlT3BlbiIsInNldFNoYXJlT3BlbiIsImN1cnJlbnRCb29rIiwic2VsZWN0Q3VycmVudEJvb2siLCJzIiwiZWRpdG9yIiwiYm9va0NvbmZpZyIsIndvcmRDb3VudCIsInNlbGVjdFdvcmRDb3VudCIsInNhdmVTdGF0dXMiLCJzZWxlY3RTYXZlU3RhdHVzIiwiY3VycmVudENoYXB0ZXIiLCJzZWxlY3RDdXJyZW50Q2hhcHRlciIsImlzRm9jdXNNb2RlIiwic2VsZWN0Rm9jdXNNb2RlIiwidG9nZ2xlRm9jdXNNb2RlIiwic2VsZWN0VG9nZ2xlRm9jdXMiLCJ0aGVtZSIsInNlbGVjdFRoZW1lIiwicHJlZmVyZW5jZXMiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInNlbGVjdFVwZGF0ZVByZWZzIiwicmlnaHRPcGVuIiwic2VsZWN0UmlnaHRPcGVuIiwicGFuZWxzIiwidG9nZ2xlUmlnaHRQYW5lbCIsInNlbGVjdFRvZ2dsZVJpZ2h0IiwiZGFpbHlHb2FsIiwidG9kYXlLZXkiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzbGljZSIsImRhaWx5V29yZHMiLCJzZXREYWlseVdvcmRzIiwicHJldldvcmRDb3VudFJlZiIsImxvYWREYWlseVdvcmRzIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlSW50IiwidHJhY2tXb3JkcyIsImRpZmYiLCJjdXJyZW50IiwidXBkYXRlRGFpbHkiLCJwcmV2IiwibmV4dCIsInNldEl0ZW0iLCJTdHJpbmciLCJnb2FsUHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwiaGFuZGxlVGhlbWVUb2dnbGUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImhhbmRsZVJlYWRlciIsInB1c2giLCJoYW5kbGVQdWJsaXNoT3BlbiIsImhhbmRsZVB1Ymxpc2hDbG9zZSIsImRpdiIsImhlaWdodCIsIm1pbkhlaWdodCIsImp1c3RpZnlDb250ZW50IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJUb3AiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJ1c2VyU2VsZWN0IiwidGl0bGUiLCJ3aWR0aCIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJvdmVyZmxvdyIsInRyYW5zaXRpb24iLCJtYXhXaWR0aCIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJidXR0b24iLCJvbkNsaWNrIiwiYm9yZGVyIiwiY3Vyc29yIiwib25Nb3VzZUVudGVyIiwib25FbnRlciIsImUiLCJjdXJyZW50VGFyZ2V0Iiwib25Nb3VzZUxlYXZlIiwib25MZWF2ZSIsIm9uU2hhcmVDbGljayIsIm9wZW4iLCJvbkNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/shell/StatusBar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/BookPanel.tsx":
/*!******************************************!*\
  !*** ./components/sidebar/BookPanel.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BookPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,GripVertical,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,GripVertical,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,GripVertical,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nconst STATUS_COLORS = {\n    idea: \"var(--color-text-muted)\",\n    draft: \"#5b9bd5\",\n    revision: \"#d4a843\",\n    final: \"#6ab04c\"\n};\nconst STATUS_LABELS = {\n    idea: \"Idea\",\n    draft: \"Draft\",\n    revision: \"Revision\",\n    final: \"Final\"\n};\nfunction StatusBadge({ status }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            fontSize: 10,\n            fontWeight: 500,\n            color: STATUS_COLORS[status] || \"var(--color-text-muted)\",\n            padding: \"1px 5px\",\n            borderRadius: 3,\n            backgroundColor: `color-mix(in srgb, ${STATUS_COLORS[status] || \"var(--color-text-muted)\"} 12%, transparent)`,\n            lineHeight: 1.4,\n            flexShrink: 0\n        },\n        children: STATUS_LABELS[status] || status\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, this);\n}\nfunction BookPanel() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [chapters, setChapters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [dragIndex, setDragIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [dragOverIndex, setDragOverIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const dragRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadConfig() {\n        const cfg = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_4__.getBookConfig)(currentBook);\n        setConfig(cfg);\n        if (!cfg || !cfg.book || !cfg.book.parts) {\n            setChapters([]);\n            return;\n        }\n        const flat = [];\n        cfg.book.parts.forEach(function processPart(part, pIdx) {\n            part.chapters.forEach(function processChapter(ch, cIdx) {\n                flat.push({\n                    partIndex: pIdx,\n                    chapterIndex: cIdx,\n                    partTitle: part.title,\n                    chapter: ch,\n                    status: \"draft\"\n                });\n            });\n        });\n        setChapters(flat);\n    }, [\n        currentBook\n    ]);\n    function handleChapterClick(chapter) {\n        router.push(\"/book/\" + chapter.id);\n    }\n    function handleDragStart(e, index) {\n        dragRef.current = index;\n        setDragIndex(index);\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"text/plain\", String(index));\n    }\n    function handleDragOver(e, index) {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = \"move\";\n        setDragOverIndex(index);\n    }\n    function handleDragLeave() {\n        setDragOverIndex(null);\n    }\n    function handleDrop(e, toIndex) {\n        e.preventDefault();\n        const fromIndex = dragRef.current;\n        if (fromIndex === null || fromIndex === toIndex) {\n            setDragIndex(null);\n            setDragOverIndex(null);\n            return;\n        }\n        setChapters(function reorder(prev) {\n            const next = [\n                ...prev\n            ];\n            const [moved] = next.splice(fromIndex, 1);\n            next.splice(toIndex, 0, moved);\n            return next;\n        });\n        setDragIndex(null);\n        setDragOverIndex(null);\n        dragRef.current = null;\n    }\n    function handleDragEnd() {\n        setDragIndex(null);\n        setDragOverIndex(null);\n        dragRef.current = null;\n    }\n    function handleAddChapter() {\n        alert(\"Add Chapter  coming soon.\");\n    }\n    if (!currentBook || !config) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: 12,\n                color: \"var(--color-text-muted)\",\n                padding: 24,\n                textAlign: \"center\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 13\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    size: 32,\n                    strokeWidth: 1,\n                    style: {\n                        opacity: 0.5\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                    lineNumber: 160,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"Select a book from your shelf to get started\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                    lineNumber: 161,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n            lineNumber: 145,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 12\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"12px 16px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    fontSize: 12,\n                    fontWeight: 600,\n                    color: \"var(--color-text-muted)\",\n                    textTransform: \"uppercase\",\n                    letterSpacing: \"0.05em\"\n                },\n                children: config.book.title || \"Chapters\"\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                lineNumber: 176,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\",\n                    padding: \"4px 0\"\n                },\n                children: chapters.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        padding: 24,\n                        color: \"var(--color-text-muted)\",\n                        fontSize: 12,\n                        textAlign: \"center\"\n                    },\n                    children: \"No chapters yet. Add one below.\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                    lineNumber: 192,\n                    columnNumber: 11\n                }, this) : chapters.map(function renderChapter(item, index) {\n                    const isDragging = dragIndex === index;\n                    const isDragOver = dragOverIndex === index;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        draggable: true,\n                        onDragStart: function handleStart(e) {\n                            handleDragStart(e, index);\n                        },\n                        onDragOver: function handleOver(e) {\n                            handleDragOver(e, index);\n                        },\n                        onDragLeave: handleDragLeave,\n                        onDrop: function handleDropHere(e) {\n                            handleDrop(e, index);\n                        },\n                        onDragEnd: handleDragEnd,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 4,\n                            padding: \"6px 8px 6px 8px\",\n                            margin: \"0 4px\",\n                            borderRadius: 4,\n                            cursor: \"pointer\",\n                            userSelect: \"none\",\n                            opacity: isDragging ? 0.4 : 1,\n                            borderTop: isDragOver ? \"2px solid var(--color-accent)\" : \"2px solid transparent\",\n                            transition: \"background 100ms, opacity 100ms\"\n                        },\n                        onClick: function handleClick() {\n                            handleChapterClick(item.chapter);\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    cursor: \"grab\",\n                                    color: \"var(--color-text-muted)\",\n                                    flexShrink: 0,\n                                    padding: \"2px 0\"\n                                },\n                                onMouseDown: function handleGrab(e) {\n                                    e.stopPropagation();\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 12\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                    lineNumber: 261,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                lineNumber: 248,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 20,\n                                    height: 20,\n                                    borderRadius: 4,\n                                    backgroundColor: \"color-mix(in srgb, var(--color-accent) 10%, transparent)\",\n                                    color: \"var(--color-text-muted)\",\n                                    fontSize: 10,\n                                    fontWeight: 600,\n                                    flexShrink: 0\n                                },\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    flex: 1,\n                                    overflow: \"hidden\",\n                                    textOverflow: \"ellipsis\",\n                                    whiteSpace: \"nowrap\",\n                                    color: \"var(--color-text)\",\n                                    paddingLeft: 2\n                                },\n                                children: item.chapter.label\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                lineNumber: 282,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusBadge, {\n                                status: item.status\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 17\n                            }, this),\n                            item.wordCount != null && item.wordCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 10,\n                                    color: \"var(--color-text-muted)\",\n                                    flexShrink: 0,\n                                    marginLeft: 4\n                                },\n                                children: [\n                                    item.wordCount.toLocaleString(),\n                                    \"w\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                                lineNumber: 298,\n                                columnNumber: 19\n                            }, this)\n                        ]\n                    }, item.chapter.id + \"-\" + index, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 15\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                lineNumber: 190,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    borderTop: \"1px solid var(--color-border)\",\n                    padding: 8,\n                    flexShrink: 0\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleAddChapter,\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        gap: 6,\n                        width: \"100%\",\n                        padding: \"6px 0\",\n                        border: \"1px dashed var(--color-border)\",\n                        borderRadius: 6,\n                        background: \"none\",\n                        color: \"var(--color-text-muted)\",\n                        fontSize: 12,\n                        fontFamily: \"inherit\",\n                        cursor: \"pointer\",\n                        transition: \"color 150ms, border-color 150ms\"\n                    },\n                    onMouseEnter: function handleEnter(e) {\n                        e.currentTarget.style.color = \"var(--color-accent)\";\n                        e.currentTarget.style.borderColor = \"var(--color-accent)\";\n                    },\n                    onMouseLeave: function handleLeave(e) {\n                        e.currentTarget.style.color = \"var(--color-text-muted)\";\n                        e.currentTarget.style.borderColor = \"var(--color-border)\";\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_GripVertical_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            size: 14\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                            lineNumber: 349,\n                            columnNumber: 11\n                        }, this),\n                        \"Add Chapter\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                    lineNumber: 322,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n                lineNumber: 315,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/BookPanel.tsx\",\n        lineNumber: 167,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVTtvQ0FDVkUsT0FBTztvQ0FDUEssWUFBWTtvQ0FDWitHLFlBQVk7Z0NBQ2Q7O29DQUVDbEMsS0FBS2lDLFNBQVMsQ0FBQ0UsY0FBYztvQ0FBRzs7Ozs7Ozs7dUJBOUZoQ25DLEtBQUs1QyxPQUFPLENBQUNFLEVBQUUsR0FBRyxNQUFNRzs7Ozs7Z0JBbUduQzs7Ozs7OzBCQUlKLDhEQUFDcUI7Z0JBQ0NyRSxPQUFPO29CQUNMc0csV0FBVztvQkFDWGhHLFNBQVM7b0JBQ1RJLFlBQVk7Z0JBQ2Q7MEJBRUEsNEVBQUNpSDtvQkFDQ25CLFNBQVNyQztvQkFDVG5FLE9BQU87d0JBQ0xDLFNBQVM7d0JBQ1RDLFlBQVk7d0JBQ1pxRSxnQkFBZ0I7d0JBQ2hCRSxLQUFLO3dCQUNMeUMsT0FBTzt3QkFDUDVHLFNBQVM7d0JBQ1RzSCxRQUFRO3dCQUNSckgsY0FBYzt3QkFDZHNILFlBQVk7d0JBQ1p4SCxPQUFPO3dCQUNQRixVQUFVO3dCQUNWd0UsWUFBWTt3QkFDWnlCLFFBQVE7d0JBQ1JHLFlBQVk7b0JBQ2Q7b0JBQ0FHLGNBQWMsU0FBU0MsWUFBWTVELENBQUM7d0JBQ2xDQSxFQUFFNkQsYUFBYSxDQUFDNUcsS0FBSyxDQUFDSyxLQUFLLEdBQUc7d0JBQzlCMEMsRUFBRTZELGFBQWEsQ0FBQzVHLEtBQUssQ0FBQzhILFdBQVcsR0FBRztvQkFDdEM7b0JBQ0FqQixjQUFjLFNBQVNDLFlBQVkvRCxDQUFDO3dCQUNsQ0EsRUFBRTZELGFBQWEsQ0FBQzVHLEtBQUssQ0FBQ0ssS0FBSyxHQUFHO3dCQUM5QjBDLEVBQUU2RCxhQUFhLENBQUM1RyxLQUFLLENBQUM4SCxXQUFXLEdBQUc7b0JBQ3RDOztzQ0FFQSw4REFBQzFJLHNHQUFJQTs0QkFBQ3dGLE1BQU07Ozs7Ozt3QkFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vY29tcG9uZW50cy9zaWRlYmFyL0Jvb2tQYW5lbC50c3g/NmUyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgQm9va09wZW4sIEdyaXBWZXJ0aWNhbCwgUGx1cyB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB7IGdldEJvb2tDb25maWcgfSBmcm9tIFwiQC9saWIvYm9va0NvbmZpZ1wiO1xuaW1wb3J0IHR5cGUgeyBCb29rQ29uZmlnLCBDaGFwdGVyIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuaW50ZXJmYWNlIEZsYXRDaGFwdGVyIHtcbiAgcGFydEluZGV4OiBudW1iZXI7XG4gIGNoYXB0ZXJJbmRleDogbnVtYmVyO1xuICBwYXJ0VGl0bGU6IHN0cmluZztcbiAgY2hhcHRlcjogQ2hhcHRlcjtcbiAgd29yZENvdW50PzogbnVtYmVyO1xuICBzdGF0dXM6IFwiaWRlYVwiIHwgXCJkcmFmdFwiIHwgXCJyZXZpc2lvblwiIHwgXCJmaW5hbFwiO1xufVxuXG5jb25zdCBTVEFUVVNfQ09MT1JTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICBpZGVhOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gIGRyYWZ0OiBcIiM1YjliZDVcIixcbiAgcmV2aXNpb246IFwiI2Q0YTg0M1wiLFxuICBmaW5hbDogXCIjNmFiMDRjXCIsXG59O1xuXG5jb25zdCBTVEFUVVNfTEFCRUxTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICBpZGVhOiBcIklkZWFcIixcbiAgZHJhZnQ6IFwiRHJhZnRcIixcbiAgcmV2aXNpb246IFwiUmV2aXNpb25cIixcbiAgZmluYWw6IFwiRmluYWxcIixcbn07XG5cbmZ1bmN0aW9uIFN0YXR1c0JhZGdlKHsgc3RhdHVzIH06IHsgc3RhdHVzOiBzdHJpbmcgfSkge1xuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgICBjb2xvcjogU1RBVFVTX0NPTE9SU1tzdGF0dXNdIHx8IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgcGFkZGluZzogXCIxcHggNXB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogMyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBgY29sb3ItbWl4KGluIHNyZ2IsICR7U1RBVFVTX0NPTE9SU1tzdGF0dXNdIHx8IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIn0gMTIlLCB0cmFuc3BhcmVudClgLFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjQsXG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtTVEFUVVNfTEFCRUxTW3N0YXR1c10gfHwgc3RhdHVzfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQm9va1BhbmVsKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgY3VycmVudEJvb2sgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RCb29rKHMpIHtcbiAgICByZXR1cm4gcy5lZGl0b3IuY3VycmVudEJvb2s7XG4gIH0pO1xuXG4gIGNvbnN0IFtjb25maWcsIHNldENvbmZpZ10gPSB1c2VTdGF0ZTxCb29rQ29uZmlnIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGFwdGVycywgc2V0Q2hhcHRlcnNdID0gdXNlU3RhdGU8RmxhdENoYXB0ZXJbXT4oW10pO1xuICBjb25zdCBbZHJhZ0luZGV4LCBzZXREcmFnSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkcmFnT3ZlckluZGV4LCBzZXREcmFnT3ZlckluZGV4XSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkcmFnUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBsb2FkQ29uZmlnKCkge1xuICAgIGNvbnN0IGNmZyA9IGdldEJvb2tDb25maWcoY3VycmVudEJvb2spO1xuICAgIHNldENvbmZpZyhjZmcpO1xuXG4gICAgaWYgKCFjZmcgfHwgIWNmZy5ib29rIHx8ICFjZmcuYm9vay5wYXJ0cykge1xuICAgICAgc2V0Q2hhcHRlcnMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZsYXQ6IEZsYXRDaGFwdGVyW10gPSBbXTtcbiAgICBjZmcuYm9vay5wYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NQYXJ0KHBhcnQsIHBJZHgpIHtcbiAgICAgIHBhcnQuY2hhcHRlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzQ2hhcHRlcihjaCwgY0lkeCkge1xuICAgICAgICBmbGF0LnB1c2goe1xuICAgICAgICAgIHBhcnRJbmRleDogcElkeCxcbiAgICAgICAgICBjaGFwdGVySW5kZXg6IGNJZHgsXG4gICAgICAgICAgcGFydFRpdGxlOiBwYXJ0LnRpdGxlLFxuICAgICAgICAgIGNoYXB0ZXI6IGNoLFxuICAgICAgICAgIHN0YXR1czogXCJkcmFmdFwiLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHNldENoYXB0ZXJzKGZsYXQpO1xuICB9LCBbY3VycmVudEJvb2tdKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDaGFwdGVyQ2xpY2soY2hhcHRlcjogQ2hhcHRlcikge1xuICAgIHJvdXRlci5wdXNoKFwiL2Jvb2svXCIgKyBjaGFwdGVyLmlkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURyYWdTdGFydChlOiBSZWFjdC5EcmFnRXZlbnQsIGluZGV4OiBudW1iZXIpIHtcbiAgICBkcmFnUmVmLmN1cnJlbnQgPSBpbmRleDtcbiAgICBzZXREcmFnSW5kZXgoaW5kZXgpO1xuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSBcIm1vdmVcIjtcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBTdHJpbmcoaW5kZXgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURyYWdPdmVyKGU6IFJlYWN0LkRyYWdFdmVudCwgaW5kZXg6IG51bWJlcikge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJtb3ZlXCI7XG4gICAgc2V0RHJhZ092ZXJJbmRleChpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEcmFnTGVhdmUoKSB7XG4gICAgc2V0RHJhZ092ZXJJbmRleChudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURyb3AoZTogUmVhY3QuRHJhZ0V2ZW50LCB0b0luZGV4OiBudW1iZXIpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZnJvbUluZGV4ID0gZHJhZ1JlZi5jdXJyZW50O1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gbnVsbCB8fCBmcm9tSW5kZXggPT09IHRvSW5kZXgpIHtcbiAgICAgIHNldERyYWdJbmRleChudWxsKTtcbiAgICAgIHNldERyYWdPdmVySW5kZXgobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0Q2hhcHRlcnMoZnVuY3Rpb24gcmVvcmRlcihwcmV2KSB7XG4gICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBuZXh0LnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcblxuICAgIHNldERyYWdJbmRleChudWxsKTtcbiAgICBzZXREcmFnT3ZlckluZGV4KG51bGwpO1xuICAgIGRyYWdSZWYuY3VycmVudCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEcmFnRW5kKCkge1xuICAgIHNldERyYWdJbmRleChudWxsKTtcbiAgICBzZXREcmFnT3ZlckluZGV4KG51bGwpO1xuICAgIGRyYWdSZWYuY3VycmVudCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVBZGRDaGFwdGVyKCkge1xuICAgIGFsZXJ0KFwiQWRkIENoYXB0ZXIg4oCUIGNvbWluZyBzb29uLlwiKTtcbiAgfVxuXG4gIGlmICghY3VycmVudEJvb2sgfHwgIWNvbmZpZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIHBhZGRpbmc6IDI0LFxuICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxCb29rT3BlbiBzaXplPXszMn0gc3Ryb2tlV2lkdGg9ezF9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNSB9fSAvPlxuICAgICAgICA8c3Bhbj5TZWxlY3QgYSBib29rIGZyb20geW91ciBzaGVsZiB0byBnZXQgc3RhcnRlZDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcGFkZGluZzogXCIxMnB4IDE2cHhcIixcbiAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMDVlbVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Y29uZmlnLmJvb2sudGl0bGUgfHwgXCJDaGFwdGVyc1wifVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3dZOiBcImF1dG9cIiwgcGFkZGluZzogXCI0cHggMFwiIH19PlxuICAgICAgICB7Y2hhcHRlcnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogMjQsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBObyBjaGFwdGVycyB5ZXQuIEFkZCBvbmUgYmVsb3cuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgY2hhcHRlcnMubWFwKGZ1bmN0aW9uIHJlbmRlckNoYXB0ZXIoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSBkcmFnSW5kZXggPT09IGluZGV4O1xuICAgICAgICAgICAgY29uc3QgaXNEcmFnT3ZlciA9IGRyYWdPdmVySW5kZXggPT09IGluZGV4O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtpdGVtLmNoYXB0ZXIuaWQgKyBcIi1cIiArIGluZGV4fVxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXtmdW5jdGlvbiBoYW5kbGVTdGFydChlKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVEcmFnU3RhcnQoZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17ZnVuY3Rpb24gaGFuZGxlT3ZlcihlKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVEcmFnT3ZlcihlLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17aGFuZGxlRHJhZ0xlYXZlfVxuICAgICAgICAgICAgICAgIG9uRHJvcD17ZnVuY3Rpb24gaGFuZGxlRHJvcEhlcmUoZSkge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlRHJvcChlLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkRyYWdFbmQ9e2hhbmRsZURyYWdFbmR9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDhweCA2cHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW46IFwiMCA0cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGlzRHJhZ2dpbmcgPyAwLjQgOiAxLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOiBpc0RyYWdPdmVyID8gXCIycHggc29saWQgdmFyKC0tY29sb3ItYWNjZW50KVwiIDogXCIycHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZCAxMDBtcywgb3BhY2l0eSAxMDBtc1wiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVDaGFwdGVyQ2xpY2soaXRlbS5jaGFwdGVyKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwiZ3JhYlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJweCAwXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249e2Z1bmN0aW9uIGhhbmRsZUdyYWIoZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8R3JpcFZlcnRpY2FsIHNpemU9ezEyfSAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWFjY2VudCkgMTAlLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLmNoYXB0ZXIubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgICAgPFN0YXR1c0JhZGdlIHN0YXR1cz17aXRlbS5zdGF0dXN9IC8+XG5cbiAgICAgICAgICAgICAgICB7aXRlbS53b3JkQ291bnQgIT0gbnVsbCAmJiBpdGVtLndvcmRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDQsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLndvcmRDb3VudC50b0xvY2FsZVN0cmluZygpfXdcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgcGFkZGluZzogOCxcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQ2hhcHRlcn1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBnYXA6IDYsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAwXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMXB4IGRhc2hlZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcImNvbG9yIDE1MG1zLCBib3JkZXItY29sb3IgMTUwbXNcIixcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCI7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcInZhcigtLWNvbG9yLWFjY2VudClcIjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiO1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCI7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQbHVzIHNpemU9ezE0fSAvPlxuICAgICAgICAgIEFkZCBDaGFwdGVyXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJCb29rT3BlbiIsIkdyaXBWZXJ0aWNhbCIsIlBsdXMiLCJ1c2VBcHBTdG9yZSIsImdldEJvb2tDb25maWciLCJTVEFUVVNfQ09MT1JTIiwiaWRlYSIsImRyYWZ0IiwicmV2aXNpb24iLCJmaW5hbCIsIlNUQVRVU19MQUJFTFMiLCJTdGF0dXNCYWRnZSIsInN0YXR1cyIsInNwYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwibGluZUhlaWdodCIsImZsZXhTaHJpbmsiLCJCb29rUGFuZWwiLCJyb3V0ZXIiLCJjdXJyZW50Qm9vayIsInNlbGVjdEJvb2siLCJzIiwiZWRpdG9yIiwiY29uZmlnIiwic2V0Q29uZmlnIiwiY2hhcHRlcnMiLCJzZXRDaGFwdGVycyIsImRyYWdJbmRleCIsInNldERyYWdJbmRleCIsImRyYWdPdmVySW5kZXgiLCJzZXREcmFnT3ZlckluZGV4IiwiZHJhZ1JlZiIsImxvYWRDb25maWciLCJjZmciLCJib29rIiwicGFydHMiLCJmbGF0IiwiZm9yRWFjaCIsInByb2Nlc3NQYXJ0IiwicGFydCIsInBJZHgiLCJwcm9jZXNzQ2hhcHRlciIsImNoIiwiY0lkeCIsInB1c2giLCJwYXJ0SW5kZXgiLCJjaGFwdGVySW5kZXgiLCJwYXJ0VGl0bGUiLCJ0aXRsZSIsImNoYXB0ZXIiLCJoYW5kbGVDaGFwdGVyQ2xpY2siLCJpZCIsImhhbmRsZURyYWdTdGFydCIsImUiLCJpbmRleCIsImN1cnJlbnQiLCJkYXRhVHJhbnNmZXIiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsIlN0cmluZyIsImhhbmRsZURyYWdPdmVyIiwicHJldmVudERlZmF1bHQiLCJkcm9wRWZmZWN0IiwiaGFuZGxlRHJhZ0xlYXZlIiwiaGFuZGxlRHJvcCIsInRvSW5kZXgiLCJmcm9tSW5kZXgiLCJyZW9yZGVyIiwicHJldiIsIm5leHQiLCJtb3ZlZCIsInNwbGljZSIsImhhbmRsZURyYWdFbmQiLCJoYW5kbGVBZGRDaGFwdGVyIiwiYWxlcnQiLCJkaXYiLCJmbGV4RGlyZWN0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJoZWlnaHQiLCJnYXAiLCJ0ZXh0QWxpZ24iLCJmb250RmFtaWx5Iiwic2l6ZSIsInN0cm9rZVdpZHRoIiwib3BhY2l0eSIsImJvcmRlckJvdHRvbSIsInRleHRUcmFuc2Zvcm0iLCJsZXR0ZXJTcGFjaW5nIiwiZmxleCIsIm92ZXJmbG93WSIsImxlbmd0aCIsIm1hcCIsInJlbmRlckNoYXB0ZXIiLCJpdGVtIiwiaXNEcmFnZ2luZyIsImlzRHJhZ092ZXIiLCJkcmFnZ2FibGUiLCJvbkRyYWdTdGFydCIsImhhbmRsZVN0YXJ0Iiwib25EcmFnT3ZlciIsImhhbmRsZU92ZXIiLCJvbkRyYWdMZWF2ZSIsIm9uRHJvcCIsImhhbmRsZURyb3BIZXJlIiwib25EcmFnRW5kIiwibWFyZ2luIiwiY3Vyc29yIiwidXNlclNlbGVjdCIsImJvcmRlclRvcCIsInRyYW5zaXRpb24iLCJvbkNsaWNrIiwiaGFuZGxlQ2xpY2siLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVFbnRlciIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJoYW5kbGVMZWF2ZSIsIm9uTW91c2VEb3duIiwiaGFuZGxlR3JhYiIsInN0b3BQcm9wYWdhdGlvbiIsIndpZHRoIiwib3ZlcmZsb3ciLCJ0ZXh0T3ZlcmZsb3ciLCJ3aGl0ZVNwYWNlIiwicGFkZGluZ0xlZnQiLCJsYWJlbCIsIndvcmRDb3VudCIsIm1hcmdpbkxlZnQiLCJ0b0xvY2FsZVN0cmluZyIsImJ1dHRvbiIsImJvcmRlciIsImJhY2tncm91bmQiLCJib3JkZXJDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/BookPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/ContextPanel.tsx":
/*!*********************************************!*\
  !*** ./components/sidebar/ContextPanel.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder-plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,Copy,FilePlus,FileText,Folder,FolderPlus,Loader2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/tokens */ \"(ssr)/./lib/tokens.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nfunction FileTreeNode({ entry, depth, onFileClick, onContextMenu, expandedFile }) {\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isDir = entry.type === \"dir\";\n    const tokens = entry.size ? (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.estimateTokens)(\"x\".repeat(entry.size)) : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 4,\n                    padding: \"3px 8px 3px \" + (8 + depth * 14) + \"px\",\n                    cursor: \"pointer\",\n                    fontSize: 12,\n                    borderRadius: 3,\n                    margin: \"0 4px\",\n                    transition: \"background 100ms\",\n                    backgroundColor: !isDir && expandedFile === entry.path ? \"var(--color-surface-hover)\" : \"transparent\"\n                },\n                onClick: function handleClick() {\n                    if (isDir) {\n                        setExpanded(function toggle(prev) {\n                            return !prev;\n                        });\n                    } else {\n                        onFileClick(entry);\n                    }\n                },\n                onContextMenu: function handleCtx(e) {\n                    e.preventDefault();\n                    onContextMenu(e, entry);\n                },\n                onMouseEnter: function handleEnter(e) {\n                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                },\n                onMouseLeave: function handleLeave(e) {\n                    if (!(!isDir && expandedFile === entry.path)) {\n                        e.currentTarget.style.backgroundColor = \"transparent\";\n                    }\n                },\n                children: [\n                    isDir ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                size: 12,\n                                style: {\n                                    transform: expanded ? \"rotate(90deg)\" : \"rotate(0deg)\",\n                                    transition: \"transform 150ms\",\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                size: 14,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-accent)\",\n                                    opacity: 0.8\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 100,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    width: 12,\n                                    flexShrink: 0\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 107,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                size: 14,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\",\n                                    opacity: 0.7\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 108,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            flex: 1,\n                            overflow: \"hidden\",\n                            textOverflow: \"ellipsis\",\n                            whiteSpace: \"nowrap\",\n                            color: \"var(--color-text)\"\n                        },\n                        children: entry.name\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 9\n                    }, this),\n                    !isDir && tokens > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontSize: 10,\n                            color: \"var(--color-text-muted)\",\n                            flexShrink: 0\n                        },\n                        children: [\n                            (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.formatTokenCount)(tokens),\n                            \"t\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 126,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, this),\n            isDir && expanded && entry.children && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: entry.children.map(function renderChild(child) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileTreeNode, {\n                        entry: child,\n                        depth: depth + 1,\n                        onFileClick: onFileClick,\n                        onContextMenu: onContextMenu,\n                        expandedFile: expandedFile\n                    }, child.path, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 15\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 139,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n        lineNumber: 51,\n        columnNumber: 5\n    }, this);\n}\nfunction ContextPanel() {\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const keysStored = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectKeys(s) {\n        return s.preferences.keysStored;\n    });\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [expandedFile, setExpandedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fileContent, setFileContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fileLoading, setFileLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewFile, setShowNewFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newFileName, setNewFileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewFolder, setShowNewFolder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newFolderName, setNewFolderName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const contextMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const config = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_3__.getBookConfig)(currentBook);\n    const owner = config?.owner;\n    const repo = config?.repo;\n    const branch = config?.branch || \"main\";\n    function buildTree(entries) {\n        const dirs = {};\n        const topLevel = [];\n        const sorted = [\n            ...entries\n        ].sort(function sortEntries(a, b) {\n            if (a.type === \"dir\" && b.type !== \"dir\") return -1;\n            if (a.type !== \"dir\" && b.type === \"dir\") return 1;\n            return a.name.localeCompare(b.name);\n        });\n        for (const e of sorted){\n            const entry = {\n                name: e.name,\n                path: e.path,\n                type: e.type === \"dir\" ? \"dir\" : \"file\",\n                size: e.size,\n                sha: e.sha,\n                children: e.type === \"dir\" ? [] : undefined\n            };\n            const parentPath = e.path.substring(0, e.path.lastIndexOf(\"/\"));\n            if (parentPath && dirs[parentPath]) {\n                dirs[parentPath].children.push(entry);\n            } else {\n                topLevel.push(entry);\n            }\n            if (e.type === \"dir\") {\n                dirs[e.path] = entry;\n            }\n        }\n        return topLevel;\n    }\n    const fetchFiles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function fetchContextFiles() {\n        if (!keysStored || !owner || !repo) return;\n        setLoading(true);\n        fetch(\"/api/github/tree?owner=\" + owner + \"&repo=\" + repo + \"&branch=\" + branch).then(function handleRes(res) {\n            if (!res.ok) throw new Error(\"Failed to fetch\");\n            return res.json();\n        }).then(function handleData(data) {\n            const tree = data.tree ?? data;\n            if (Array.isArray(tree)) {\n                const contextFiles = tree.filter(function isContext(p) {\n                    return p.startsWith(\"context/\") && !p.endsWith(\".gitkeep\");\n                }).map(function toEntry(p) {\n                    const name = p.split(\"/\").pop() ?? p;\n                    return {\n                        name,\n                        path: p,\n                        type: \"file\",\n                        size: 0\n                    };\n                });\n                setFiles(buildTree(contextFiles));\n            }\n        }).catch(function handleErr() {\n            setFiles([]);\n        }).finally(function done() {\n            setLoading(false);\n        });\n    }, [\n        keysStored,\n        owner,\n        repo,\n        branch\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadFiles() {\n        fetchFiles();\n    }, [\n        fetchFiles\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function handleClickOutside() {\n        function handler(e) {\n            if (contextMenuRef.current && !contextMenuRef.current.contains(e.target)) {\n                setContextMenu(null);\n            }\n        }\n        document.addEventListener(\"mousedown\", handler);\n        return function cleanup() {\n            document.removeEventListener(\"mousedown\", handler);\n        };\n    }, []);\n    function handleFileClick(entry) {\n        if (entry.type === \"dir\" || !keysStored || !owner || !repo) return;\n        if (expandedFile === entry.path) {\n            setExpandedFile(null);\n            setFileContent(\"\");\n            return;\n        }\n        setExpandedFile(entry.path);\n        setFileLoading(true);\n        setFileContent(\"\");\n        fetch(\"/api/github/files?owner=\" + owner + \"&repo=\" + repo + \"&path=\" + encodeURIComponent(entry.path) + \"&branch=\" + branch).then(function handleRes(res) {\n            if (!res.ok) throw new Error(\"Failed to fetch file\");\n            return res.json();\n        }).then(function handleData(data) {\n            setFileContent(data.content || \"\");\n        }).catch(function handleErr() {\n            setFileContent(\"Failed to load file content.\");\n        }).finally(function done() {\n            setFileLoading(false);\n        });\n    }\n    function handleCopyRef(entry) {\n        navigator.clipboard.writeText(\"@\" + entry.path);\n        setContextMenu(null);\n    }\n    function handleDeleteFile(entry) {\n        if (!keysStored || !owner || !repo || !entry.sha) {\n            setContextMenu(null);\n            return;\n        }\n        fetch(\"/api/github/files\", {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                owner,\n                repo,\n                path: entry.path,\n                sha: entry.sha\n            })\n        }).then(function handleRes() {\n            fetchFiles();\n            if (expandedFile === entry.path) {\n                setExpandedFile(null);\n                setFileContent(\"\");\n            }\n        }).catch(function handleErr() {\n            alert(\"Failed to delete file.\");\n        });\n        setContextMenu(null);\n    }\n    function handleCreateFile() {\n        if (!keysStored || !owner || !repo || !newFileName.trim()) return;\n        const path = \"context/\" + newFileName.trim();\n        fetch(\"/api/github/files\", {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                owner,\n                repo,\n                path,\n                content: \"\",\n                message: \"Create \" + path\n            })\n        }).then(function handleRes() {\n            fetchFiles();\n            setShowNewFile(false);\n            setNewFileName(\"\");\n        }).catch(function handleErr() {\n            alert(\"Failed to create file.\");\n        });\n    }\n    function handleCreateFolder() {\n        if (!keysStored || !owner || !repo || !newFolderName.trim()) return;\n        const path = \"context/\" + newFolderName.trim() + \"/.gitkeep\";\n        fetch(\"/api/github/files\", {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                owner,\n                repo,\n                path,\n                content: \"\",\n                message: \"Create folder \" + newFolderName.trim()\n            })\n        }).then(function handleRes() {\n            fetchFiles();\n            setShowNewFolder(false);\n            setNewFolderName(\"\");\n        }).catch(function handleErr() {\n            alert(\"Failed to create folder.\");\n        });\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 12,\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    padding: \"8px 12px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontSize: 11,\n                            fontWeight: 600,\n                            color: \"var(--color-text-muted)\",\n                            textTransform: \"uppercase\",\n                            letterSpacing: \"0.5px\"\n                        },\n                        children: \"Context Files\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 395,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 2\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function handleNewFile() {\n                                    setShowNewFile(true);\n                                    setShowNewFolder(false);\n                                },\n                                title: \"New File\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 24,\n                                    height: 24,\n                                    border: \"none\",\n                                    background: \"none\",\n                                    color: \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function handleEnter(e) {\n                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function handleLeave(e) {\n                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                    lineNumber: 432,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 407,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function handleNewFolder() {\n                                    setShowNewFolder(true);\n                                    setShowNewFile(false);\n                                },\n                                title: \"New Folder\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 24,\n                                    height: 24,\n                                    border: \"none\",\n                                    background: \"none\",\n                                    color: \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function handleEnter(e) {\n                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function handleLeave(e) {\n                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                    lineNumber: 459,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 406,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 385,\n                columnNumber: 7\n            }, this),\n            showNewFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    gap: 4,\n                    padding: \"6px 8px\",\n                    borderBottom: \"1px solid var(--color-border)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: newFileName,\n                        onChange: function handleChange(e) {\n                            setNewFileName(e.target.value);\n                        },\n                        onKeyDown: function handleKey(e) {\n                            if (e.key === \"Enter\") handleCreateFile();\n                            if (e.key === \"Escape\") {\n                                setShowNewFile(false);\n                                setNewFileName(\"\");\n                            }\n                        },\n                        placeholder: \"filename.md\",\n                        autoFocus: true,\n                        style: {\n                            flex: 1,\n                            fontSize: 12,\n                            padding: \"4px 8px\",\n                            border: \"1px solid var(--color-border)\",\n                            borderRadius: 4,\n                            backgroundColor: \"var(--color-bg)\",\n                            color: \"var(--color-text)\",\n                            outline: \"none\",\n                            fontFamily: \"inherit\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 473,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleCreateFile,\n                        style: {\n                            fontSize: 11,\n                            padding: \"3px 8px\",\n                            border: \"none\",\n                            borderRadius: 4,\n                            backgroundColor: \"var(--color-accent)\",\n                            color: \"#fff\",\n                            cursor: \"pointer\",\n                            fontFamily: \"inherit\"\n                        },\n                        children: \"Add\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 465,\n                columnNumber: 9\n            }, this),\n            showNewFolder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    gap: 4,\n                    padding: \"6px 8px\",\n                    borderBottom: \"1px solid var(--color-border)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: newFolderName,\n                        onChange: function handleChange(e) {\n                            setNewFolderName(e.target.value);\n                        },\n                        onKeyDown: function handleKey(e) {\n                            if (e.key === \"Enter\") handleCreateFolder();\n                            if (e.key === \"Escape\") {\n                                setShowNewFolder(false);\n                                setNewFolderName(\"\");\n                            }\n                        },\n                        placeholder: \"folder-name\",\n                        autoFocus: true,\n                        style: {\n                            flex: 1,\n                            fontSize: 12,\n                            padding: \"4px 8px\",\n                            border: \"1px solid var(--color-border)\",\n                            borderRadius: 4,\n                            backgroundColor: \"var(--color-bg)\",\n                            color: \"var(--color-text)\",\n                            outline: \"none\",\n                            fontFamily: \"inherit\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 527,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleCreateFolder,\n                        style: {\n                            fontSize: 11,\n                            padding: \"3px 8px\",\n                            border: \"none\",\n                            borderRadius: 4,\n                            backgroundColor: \"var(--color-accent)\",\n                            color: \"#fff\",\n                            cursor: \"pointer\",\n                            fontFamily: \"inherit\"\n                        },\n                        children: \"Add\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 554,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 519,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\",\n                    padding: \"4px 0\"\n                },\n                children: [\n                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            padding: 24,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                size: 16,\n                                style: {\n                                    animation: \"spin 1s linear infinite\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 583,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                                children: `@keyframes spin { to { transform: rotate(360deg); } }`\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 584,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 11\n                    }, this) : files.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            padding: 24,\n                            color: \"var(--color-text-muted)\",\n                            fontSize: 12,\n                            textAlign: \"center\"\n                        },\n                        children: [\n                            \"No context files yet.\",\n                            owner ? \"\" : \" Open a book first.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 587,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: files.map(function renderEntry(entry) {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileTreeNode, {\n                                entry: entry,\n                                depth: 0,\n                                onFileClick: handleFileClick,\n                                onContextMenu: function handleCtx(e, ent) {\n                                    setContextMenu({\n                                        x: e.clientX,\n                                        y: e.clientY,\n                                        entry: ent\n                                    });\n                                },\n                                expandedFile: expandedFile\n                            }, entry.path, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 605,\n                                columnNumber: 17\n                            }, this);\n                        })\n                    }, void 0, false),\n                    expandedFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            margin: \"4px 8px\",\n                            padding: 10,\n                            borderRadius: 6,\n                            border: \"1px solid var(--color-border)\",\n                            backgroundColor: \"var(--color-bg)\",\n                            maxHeight: 240,\n                            overflowY: \"auto\"\n                        },\n                        children: fileLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: 6,\n                                color: \"var(--color-text-muted)\",\n                                fontSize: 11\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    size: 12,\n                                    style: {\n                                        animation: \"spin 1s linear infinite\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                    lineNumber: 642,\n                                    columnNumber: 17\n                                }, this),\n                                \"Loading...\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                            lineNumber: 633,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        justifyContent: \"space-between\",\n                                        marginBottom: 6\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                fontSize: 10,\n                                                fontWeight: 600,\n                                                color: \"var(--color-text-muted)\",\n                                                textTransform: \"uppercase\"\n                                            },\n                                            children: expandedFile.split(\"/\").pop()\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                            lineNumber: 655,\n                                            columnNumber: 19\n                                        }, this),\n                                        fileContent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                fontSize: 10,\n                                                color: \"var(--color-text-muted)\"\n                                            },\n                                            children: [\n                                                (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.formatTokenCount)((0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.estimateTokens)(fileContent)),\n                                                \"t\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                            lineNumber: 666,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                    lineNumber: 647,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                    style: {\n                                        fontSize: 11,\n                                        lineHeight: 1.5,\n                                        color: \"var(--color-text)\",\n                                        whiteSpace: \"pre-wrap\",\n                                        wordBreak: \"break-word\",\n                                        fontFamily: \"var(--font-literata), serif\",\n                                        margin: 0\n                                    },\n                                    children: fileContent || \"(empty)\"\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                    lineNumber: 676,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 621,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 572,\n                columnNumber: 7\n            }, this),\n            contextMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contextMenuRef,\n                style: {\n                    position: \"fixed\",\n                    top: contextMenu.y,\n                    left: contextMenu.x,\n                    backgroundColor: \"var(--color-surface)\",\n                    border: \"1px solid var(--color-border)\",\n                    borderRadius: 8,\n                    boxShadow: \"0 4px 16px rgba(0,0,0,0.12)\",\n                    padding: 4,\n                    zIndex: 9999,\n                    minWidth: 140,\n                    fontSize: 12\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleCopy() {\n                            handleCopyRef(contextMenu.entry);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            width: \"100%\",\n                            padding: \"6px 10px\",\n                            border: \"none\",\n                            background: \"none\",\n                            color: \"var(--color-text)\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderRadius: 4,\n                            textAlign: \"left\"\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 738,\n                                columnNumber: 13\n                            }, this),\n                            \"Copy @reference\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 712,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            height: 1,\n                            backgroundColor: \"var(--color-border)\",\n                            margin: \"4px 0\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 742,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleDel() {\n                            handleDeleteFile(contextMenu.entry);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            width: \"100%\",\n                            padding: \"6px 10px\",\n                            border: \"none\",\n                            background: \"none\",\n                            color: \"#d9534f\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderRadius: 4,\n                            textAlign: \"left\"\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_Copy_FilePlus_FileText_Folder_FolderPlus_Loader2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                                lineNumber: 776,\n                                columnNumber: 13\n                            }, this),\n                            \"Delete\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                        lineNumber: 750,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n                lineNumber: 696,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/ContextPanel.tsx\",\n        lineNumber: 375,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NpZGViYXIvQ29udGV4dFBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVpRTtBQVUzQztBQUNnQjtBQUNXO0FBQ2U7QUFpQmhFLFNBQVNnQixhQUFhLEVBQ3BCQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLFlBQVksRUFPYjtJQUNDLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHdkIsK0NBQVFBLENBQUM7SUFDekMsTUFBTXdCLFFBQVFQLE1BQU1RLElBQUksS0FBSztJQUM3QixNQUFNQyxTQUFTVCxNQUFNVSxJQUFJLEdBQUdiLDJEQUFjQSxDQUFDLElBQUljLE1BQU0sQ0FBQ1gsTUFBTVUsSUFBSSxLQUFLO0lBRXJFLHFCQUNFLDhEQUFDRTs7MEJBQ0MsOERBQUNBO2dCQUNDQyxPQUFPO29CQUNMQyxTQUFTO29CQUNUQyxZQUFZO29CQUNaQyxLQUFLO29CQUNMQyxTQUFTLGlCQUFrQixLQUFJaEIsUUFBUSxFQUFDLElBQUs7b0JBQzdDaUIsUUFBUTtvQkFDUkMsVUFBVTtvQkFDVkMsY0FBYztvQkFDZEMsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsaUJBQWlCLENBQUNoQixTQUFTSCxpQkFBaUJKLE1BQU13QixJQUFJLEdBQ2xELCtCQUNBO2dCQUNOO2dCQUNBQyxTQUFTLFNBQVNDO29CQUNoQixJQUFJbkIsT0FBTzt3QkFDVEQsWUFBWSxTQUFTcUIsT0FBT0MsSUFBSTs0QkFDOUIsT0FBTyxDQUFDQTt3QkFDVjtvQkFDRixPQUFPO3dCQUNMMUIsWUFBWUY7b0JBQ2Q7Z0JBQ0Y7Z0JBQ0FHLGVBQWUsU0FBUzBCLFVBQVVDLENBQUM7b0JBQ2pDQSxFQUFFQyxjQUFjO29CQUNoQjVCLGNBQWMyQixHQUFHOUI7Z0JBQ25CO2dCQUNBZ0MsY0FBYyxTQUFTQyxZQUFZSCxDQUFDO29CQUNsQ0EsRUFBRUksYUFBYSxDQUFDckIsS0FBSyxDQUFDVSxlQUFlLEdBQUc7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d0JBQ1Y7Ozs7OztrQ0FHRiw4REFBQytJO3dCQUNDM0ksU0FBUyxTQUFTaUw7NEJBQ2hCMUQsaUJBQWlCaEYsWUFBWWhFLEtBQUs7d0JBQ3BDO3dCQUNBYSxPQUFPOzRCQUNMQyxTQUFTOzRCQUNUQyxZQUFZOzRCQUNaQyxLQUFLOzRCQUNMMEIsT0FBTzs0QkFDUHpCLFNBQVM7NEJBQ1RzSixRQUFROzRCQUNSQyxZQUFZOzRCQUNaakksT0FBTzs0QkFDUHBCLFVBQVU7NEJBQ1YwSSxZQUFZOzRCQUNaM0ksUUFBUTs0QkFDUkUsY0FBYzs0QkFDZG1LLFdBQVc7d0JBQ2I7d0JBQ0F2SixjQUFjLFNBQVNDLFlBQVlILENBQUM7NEJBQ2xDQSxFQUFFSSxhQUFhLENBQUNyQixLQUFLLENBQUNVLGVBQWUsR0FBRzt3QkFDMUM7d0JBQ0FZLGNBQWMsU0FBU0MsWUFBWU4sQ0FBQzs0QkFDbENBLEVBQUVJLGFBQWEsQ0FBQ3JCLEtBQUssQ0FBQ1UsZUFBZSxHQUFHO3dCQUMxQzs7MENBRUEsOERBQUM5QixpSkFBTUE7Z0NBQUNpQixNQUFNOzs7Ozs7NEJBQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NpZGViYXIvQ29udGV4dFBhbmVsLnRzeD9lYThjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBGaWxlVGV4dCxcbiAgRm9sZGVyUGx1cyxcbiAgRmlsZVBsdXMsXG4gIENoZXZyb25SaWdodCxcbiAgRm9sZGVyLFxuICBDb3B5LFxuICBUcmFzaDIsXG4gIExvYWRlcjIsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB7IGdldEJvb2tDb25maWcgfSBmcm9tIFwiQC9saWIvYm9va0NvbmZpZ1wiO1xuaW1wb3J0IHsgZXN0aW1hdGVUb2tlbnMsIGZvcm1hdFRva2VuQ291bnQgfSBmcm9tIFwiQC9saWIvdG9rZW5zXCI7XG5cbmludGVyZmFjZSBGaWxlRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbiAgdHlwZTogXCJmaWxlXCIgfCBcImRpclwiO1xuICBzaXplPzogbnVtYmVyO1xuICBzaGE/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogRmlsZUVudHJ5W107XG59XG5cbmludGVyZmFjZSBDb250ZXh0TWVudVN0YXRlIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGVudHJ5OiBGaWxlRW50cnk7XG59XG5cbmZ1bmN0aW9uIEZpbGVUcmVlTm9kZSh7XG4gIGVudHJ5LFxuICBkZXB0aCxcbiAgb25GaWxlQ2xpY2ssXG4gIG9uQ29udGV4dE1lbnUsXG4gIGV4cGFuZGVkRmlsZSxcbn06IHtcbiAgZW50cnk6IEZpbGVFbnRyeTtcbiAgZGVwdGg6IG51bWJlcjtcbiAgb25GaWxlQ2xpY2s6IChlbnRyeTogRmlsZUVudHJ5KSA9PiB2b2lkO1xuICBvbkNvbnRleHRNZW51OiAoZTogUmVhY3QuTW91c2VFdmVudCwgZW50cnk6IEZpbGVFbnRyeSkgPT4gdm9pZDtcbiAgZXhwYW5kZWRGaWxlOiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBpc0RpciA9IGVudHJ5LnR5cGUgPT09IFwiZGlyXCI7XG4gIGNvbnN0IHRva2VucyA9IGVudHJ5LnNpemUgPyBlc3RpbWF0ZVRva2VucyhcInhcIi5yZXBlYXQoZW50cnkuc2l6ZSkpIDogMDtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgcGFkZGluZzogXCIzcHggOHB4IDNweCBcIiArICg4ICsgZGVwdGggKiAxNCkgKyBcInB4XCIsXG4gICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAzLFxuICAgICAgICAgIG1hcmdpbjogXCIwIDRweFwiLFxuICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZCAxMDBtc1wiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogIWlzRGlyICYmIGV4cGFuZGVkRmlsZSA9PT0gZW50cnkucGF0aFxuICAgICAgICAgICAgPyBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCJcbiAgICAgICAgICAgIDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICAgICAgICBpZiAoaXNEaXIpIHtcbiAgICAgICAgICAgIHNldEV4cGFuZGVkKGZ1bmN0aW9uIHRvZ2dsZShwcmV2KSB7XG4gICAgICAgICAgICAgIHJldHVybiAhcHJldjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvbkZpbGVDbGljayhlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXtmdW5jdGlvbiBoYW5kbGVDdHgoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBvbkNvbnRleHRNZW51KGUsIGVudHJ5KTtcbiAgICAgICAgfX1cbiAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBoYW5kbGVFbnRlcihlKSB7XG4gICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgfX1cbiAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBoYW5kbGVMZWF2ZShlKSB7XG4gICAgICAgICAgaWYgKCEoIWlzRGlyICYmIGV4cGFuZGVkRmlsZSA9PT0gZW50cnkucGF0aCkpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aXNEaXIgPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxDaGV2cm9uUmlnaHRcbiAgICAgICAgICAgICAgc2l6ZT17MTJ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBleHBhbmRlZCA/IFwicm90YXRlKDkwZGVnKVwiIDogXCJyb3RhdGUoMGRlZylcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcInRyYW5zZm9ybSAxNTBtc1wiLFxuICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8Rm9sZGVyXG4gICAgICAgICAgICAgIHNpemU9ezE0fVxuICAgICAgICAgICAgICBzdHlsZT17eyBmbGV4U2hyaW5rOiAwLCBjb2xvcjogXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIsIG9wYWNpdHk6IDAuOCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgd2lkdGg6IDEyLCBmbGV4U2hyaW5rOiAwIH19IC8+XG4gICAgICAgICAgICA8RmlsZVRleHRcbiAgICAgICAgICAgICAgc2l6ZT17MTR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXhTaHJpbms6IDAsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsIG9wYWNpdHk6IDAuNyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2VudHJ5Lm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgeyFpc0RpciAmJiB0b2tlbnMgPiAwICYmIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Zm9ybWF0VG9rZW5Db3VudCh0b2tlbnMpfXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge2lzRGlyICYmIGV4cGFuZGVkICYmIGVudHJ5LmNoaWxkcmVuICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7ZW50cnkuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIHJlbmRlckNoaWxkKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RmlsZVRyZWVOb2RlXG4gICAgICAgICAgICAgICAga2V5PXtjaGlsZC5wYXRofVxuICAgICAgICAgICAgICAgIGVudHJ5PXtjaGlsZH1cbiAgICAgICAgICAgICAgICBkZXB0aD17ZGVwdGggKyAxfVxuICAgICAgICAgICAgICAgIG9uRmlsZUNsaWNrPXtvbkZpbGVDbGlja31cbiAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51PXtvbkNvbnRleHRNZW51fVxuICAgICAgICAgICAgICAgIGV4cGFuZGVkRmlsZT17ZXhwYW5kZWRGaWxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZXh0UGFuZWwoKSB7XG4gIGNvbnN0IGN1cnJlbnRCb29rID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0Qm9vayhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmN1cnJlbnRCb29rO1xuICB9KTtcbiAgY29uc3Qga2V5c1N0b3JlZCA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEtleXMocykge1xuICAgIHJldHVybiBzLnByZWZlcmVuY2VzLmtleXNTdG9yZWQ7XG4gIH0pO1xuXG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGU8RmlsZUVudHJ5W10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29udGV4dE1lbnUsIHNldENvbnRleHRNZW51XSA9IHVzZVN0YXRlPENvbnRleHRNZW51U3RhdGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2V4cGFuZGVkRmlsZSwgc2V0RXhwYW5kZWRGaWxlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmlsZUNvbnRlbnQsIHNldEZpbGVDb250ZW50XSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtmaWxlTG9hZGluZywgc2V0RmlsZUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ld0ZpbGUsIHNldFNob3dOZXdGaWxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld0ZpbGVOYW1lLCBzZXROZXdGaWxlTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Nob3dOZXdGb2xkZXIsIHNldFNob3dOZXdGb2xkZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3Rm9sZGVyTmFtZSwgc2V0TmV3Rm9sZGVyTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgY29udGV4dE1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGNvbmZpZyA9IGdldEJvb2tDb25maWcoY3VycmVudEJvb2spO1xuICBjb25zdCBvd25lciA9IGNvbmZpZz8ub3duZXI7XG4gIGNvbnN0IHJlcG8gPSBjb25maWc/LnJlcG87XG4gIGNvbnN0IGJyYW5jaCA9IGNvbmZpZz8uYnJhbmNoIHx8IFwibWFpblwiO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkVHJlZShlbnRyaWVzOiB7IG5hbWU6IHN0cmluZzsgcGF0aDogc3RyaW5nOyB0eXBlOiBzdHJpbmc7IHNpemU/OiBudW1iZXI7IHNoYT86IHN0cmluZyB9W10pOiBGaWxlRW50cnlbXSB7XG4gICAgY29uc3QgZGlyczogUmVjb3JkPHN0cmluZywgRmlsZUVudHJ5PiA9IHt9O1xuICAgIGNvbnN0IHRvcExldmVsOiBGaWxlRW50cnlbXSA9IFtdO1xuXG4gICAgY29uc3Qgc29ydGVkID0gWy4uLmVudHJpZXNdLnNvcnQoZnVuY3Rpb24gc29ydEVudHJpZXMoYSwgYikge1xuICAgICAgaWYgKGEudHlwZSA9PT0gXCJkaXJcIiAmJiBiLnR5cGUgIT09IFwiZGlyXCIpIHJldHVybiAtMTtcbiAgICAgIGlmIChhLnR5cGUgIT09IFwiZGlyXCIgJiYgYi50eXBlID09PSBcImRpclwiKSByZXR1cm4gMTtcbiAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgIH0pO1xuXG4gICAgZm9yIChjb25zdCBlIG9mIHNvcnRlZCkge1xuICAgICAgY29uc3QgZW50cnk6IEZpbGVFbnRyeSA9IHtcbiAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICBwYXRoOiBlLnBhdGgsXG4gICAgICAgIHR5cGU6IGUudHlwZSA9PT0gXCJkaXJcIiA/IFwiZGlyXCIgOiBcImZpbGVcIixcbiAgICAgICAgc2l6ZTogZS5zaXplLFxuICAgICAgICBzaGE6IGUuc2hhLFxuICAgICAgICBjaGlsZHJlbjogZS50eXBlID09PSBcImRpclwiID8gW10gOiB1bmRlZmluZWQsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwYXJlbnRQYXRoID0gZS5wYXRoLnN1YnN0cmluZygwLCBlLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICAgIGlmIChwYXJlbnRQYXRoICYmIGRpcnNbcGFyZW50UGF0aF0pIHtcbiAgICAgICAgZGlyc1twYXJlbnRQYXRoXS5jaGlsZHJlbiEucHVzaChlbnRyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3BMZXZlbC5wdXNoKGVudHJ5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGUudHlwZSA9PT0gXCJkaXJcIikge1xuICAgICAgICBkaXJzW2UucGF0aF0gPSBlbnRyeTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG9wTGV2ZWw7XG4gIH1cblxuICBjb25zdCBmZXRjaEZpbGVzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gZmV0Y2hDb250ZXh0RmlsZXMoKSB7XG4gICAgaWYgKCFrZXlzU3RvcmVkIHx8ICFvd25lciB8fCAhcmVwbykgcmV0dXJuO1xuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBmZXRjaChcIi9hcGkvZ2l0aHViL3RyZWU/b3duZXI9XCIgKyBvd25lciArIFwiJnJlcG89XCIgKyByZXBvICsgXCImYnJhbmNoPVwiICsgYnJhbmNoKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlUmVzKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoXCIpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVEYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgdHJlZTogc3RyaW5nW10gPSBkYXRhLnRyZWUgPz8gZGF0YTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZSkpIHtcbiAgICAgICAgICBjb25zdCBjb250ZXh0RmlsZXMgPSB0cmVlXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIGlzQ29udGV4dChwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwLnN0YXJ0c1dpdGgoXCJjb250ZXh0L1wiKSAmJiAhcC5lbmRzV2l0aChcIi5naXRrZWVwXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gdG9FbnRyeShwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwLnNwbGl0KFwiL1wiKS5wb3AoKSA/PyBwO1xuICAgICAgICAgICAgICByZXR1cm4geyBuYW1lLCBwYXRoOiBwLCB0eXBlOiBcImZpbGVcIiBhcyBjb25zdCwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0RmlsZXMoYnVpbGRUcmVlKGNvbnRleHRGaWxlcykpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGhhbmRsZUVycigpIHtcbiAgICAgICAgc2V0RmlsZXMoW10pO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtrZXlzU3RvcmVkLCBvd25lciwgcmVwbywgYnJhbmNoXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGxvYWRGaWxlcygpIHtcbiAgICBmZXRjaEZpbGVzKCk7XG4gIH0sIFtmZXRjaEZpbGVzXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZSgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVyKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGlmIChjb250ZXh0TWVudVJlZi5jdXJyZW50ICYmICFjb250ZXh0TWVudVJlZi5jdXJyZW50LmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgIHNldENvbnRleHRNZW51KG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRmlsZUNsaWNrKGVudHJ5OiBGaWxlRW50cnkpIHtcbiAgICBpZiAoZW50cnkudHlwZSA9PT0gXCJkaXJcIiB8fCAha2V5c1N0b3JlZCB8fCAhb3duZXIgfHwgIXJlcG8pIHJldHVybjtcblxuICAgIGlmIChleHBhbmRlZEZpbGUgPT09IGVudHJ5LnBhdGgpIHtcbiAgICAgIHNldEV4cGFuZGVkRmlsZShudWxsKTtcbiAgICAgIHNldEZpbGVDb250ZW50KFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldEV4cGFuZGVkRmlsZShlbnRyeS5wYXRoKTtcbiAgICBzZXRGaWxlTG9hZGluZyh0cnVlKTtcbiAgICBzZXRGaWxlQ29udGVudChcIlwiKTtcblxuICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyBvd25lciArIFwiJnJlcG89XCIgKyByZXBvICsgXCImcGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChlbnRyeS5wYXRoKSArIFwiJmJyYW5jaD1cIiArIGJyYW5jaClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZVJlcyhyZXMpIHtcbiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBmaWxlXCIpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVEYXRhKGRhdGEpIHtcbiAgICAgICAgc2V0RmlsZUNvbnRlbnQoZGF0YS5jb250ZW50IHx8IFwiXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiBoYW5kbGVFcnIoKSB7XG4gICAgICAgIHNldEZpbGVDb250ZW50KFwiRmFpbGVkIHRvIGxvYWQgZmlsZSBjb250ZW50LlwiKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICBzZXRGaWxlTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvcHlSZWYoZW50cnk6IEZpbGVFbnRyeSkge1xuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KFwiQFwiICsgZW50cnkucGF0aCk7XG4gICAgc2V0Q29udGV4dE1lbnUobnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEZWxldGVGaWxlKGVudHJ5OiBGaWxlRW50cnkpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQgfHwgIW93bmVyIHx8ICFyZXBvIHx8ICFlbnRyeS5zaGEpIHtcbiAgICAgIHNldENvbnRleHRNZW51KG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBvd25lciwgcmVwbywgcGF0aDogZW50cnkucGF0aCwgc2hhOiBlbnRyeS5zaGEgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZVJlcygpIHtcbiAgICAgICAgZmV0Y2hGaWxlcygpO1xuICAgICAgICBpZiAoZXhwYW5kZWRGaWxlID09PSBlbnRyeS5wYXRoKSB7XG4gICAgICAgICAgc2V0RXhwYW5kZWRGaWxlKG51bGwpO1xuICAgICAgICAgIHNldEZpbGVDb250ZW50KFwiXCIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGhhbmRsZUVycigpIHtcbiAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gZGVsZXRlIGZpbGUuXCIpO1xuICAgICAgfSk7XG5cbiAgICBzZXRDb250ZXh0TWVudShudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZUZpbGUoKSB7XG4gICAgaWYgKCFrZXlzU3RvcmVkIHx8ICFvd25lciB8fCAhcmVwbyB8fCAhbmV3RmlsZU5hbWUudHJpbSgpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoID0gXCJjb250ZXh0L1wiICsgbmV3RmlsZU5hbWUudHJpbSgpO1xuICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBvd25lcixcbiAgICAgICAgcmVwbyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgbWVzc2FnZTogXCJDcmVhdGUgXCIgKyBwYXRoLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZVJlcygpIHtcbiAgICAgICAgZmV0Y2hGaWxlcygpO1xuICAgICAgICBzZXRTaG93TmV3RmlsZShmYWxzZSk7XG4gICAgICAgIHNldE5ld0ZpbGVOYW1lKFwiXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiBoYW5kbGVFcnIoKSB7XG4gICAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIGNyZWF0ZSBmaWxlLlwiKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlRm9sZGVyKCkge1xuICAgIGlmICgha2V5c1N0b3JlZCB8fCAhb3duZXIgfHwgIXJlcG8gfHwgIW5ld0ZvbGRlck5hbWUudHJpbSgpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoID0gXCJjb250ZXh0L1wiICsgbmV3Rm9sZGVyTmFtZS50cmltKCkgKyBcIi8uZ2l0a2VlcFwiO1xuICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBvd25lcixcbiAgICAgICAgcmVwbyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgbWVzc2FnZTogXCJDcmVhdGUgZm9sZGVyIFwiICsgbmV3Rm9sZGVyTmFtZS50cmltKCksXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlUmVzKCkge1xuICAgICAgICBmZXRjaEZpbGVzKCk7XG4gICAgICAgIHNldFNob3dOZXdGb2xkZXIoZmFsc2UpO1xuICAgICAgICBzZXROZXdGb2xkZXJOYW1lKFwiXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiBoYW5kbGVFcnIoKSB7XG4gICAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXIuXCIpO1xuICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgcGFkZGluZzogXCI4cHggMTJweFwiLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjVweFwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBDb250ZXh0IEZpbGVzXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZ2FwOiAyIH19PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGhhbmRsZU5ld0ZpbGUoKSB7XG4gICAgICAgICAgICAgIHNldFNob3dOZXdGaWxlKHRydWUpO1xuICAgICAgICAgICAgICBzZXRTaG93TmV3Rm9sZGVyKGZhbHNlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB0aXRsZT1cIk5ldyBGaWxlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmlsZVBsdXMgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlTmV3Rm9sZGVyKCkge1xuICAgICAgICAgICAgICBzZXRTaG93TmV3Rm9sZGVyKHRydWUpO1xuICAgICAgICAgICAgICBzZXRTaG93TmV3RmlsZShmYWxzZSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdGl0bGU9XCJOZXcgRm9sZGVyXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Rm9sZGVyUGx1cyBzaXplPXsxNH0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3Nob3dOZXdGaWxlICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDhweFwiLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e25ld0ZpbGVOYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgIHNldE5ld0ZpbGVOYW1lKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbktleURvd249e2Z1bmN0aW9uIGhhbmRsZUtleShlKSB7XG4gICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSBoYW5kbGVDcmVhdGVGaWxlKCk7XG4gICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgICAgIHNldFNob3dOZXdGaWxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXROZXdGaWxlTmFtZShcIlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZmlsZW5hbWUubWRcIlxuICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDhweFwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVGaWxlfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjNweCA4cHhcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBBZGRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7c2hvd05ld0ZvbGRlciAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjZweCA4cHhcIixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXtuZXdGb2xkZXJOYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgIHNldE5ld0ZvbGRlck5hbWUoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17ZnVuY3Rpb24gaGFuZGxlS2V5KGUpIHtcbiAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIGhhbmRsZUNyZWF0ZUZvbGRlcigpO1xuICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRTaG93TmV3Rm9sZGVyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXROZXdGb2xkZXJOYW1lKFwiXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJmb2xkZXItbmFtZVwiXG4gICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHggOHB4XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZUZvbGRlcn1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgcGFkZGluZzogXCIzcHggOHB4XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQWRkXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBvdmVyZmxvd1k6IFwiYXV0b1wiLCBwYWRkaW5nOiBcIjRweCAwXCIgfX0+XG4gICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogMjQsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMb2FkZXIyIHNpemU9ezE2fSBzdHlsZT17eyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9fSAvPlxuICAgICAgICAgICAgPHN0eWxlPntgQGtleWZyYW1lcyBzcGluIHsgdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1gfTwvc3R5bGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBmaWxlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAyNCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIE5vIGNvbnRleHQgZmlsZXMgeWV0LlxuICAgICAgICAgICAge293bmVyID8gXCJcIiA6IFwiIE9wZW4gYSBib29rIGZpcnN0LlwifVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7ZmlsZXMubWFwKGZ1bmN0aW9uIHJlbmRlckVudHJ5KGVudHJ5KSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEZpbGVUcmVlTm9kZVxuICAgICAgICAgICAgICAgICAga2V5PXtlbnRyeS5wYXRofVxuICAgICAgICAgICAgICAgICAgZW50cnk9e2VudHJ5fVxuICAgICAgICAgICAgICAgICAgZGVwdGg9ezB9XG4gICAgICAgICAgICAgICAgICBvbkZpbGVDbGljaz17aGFuZGxlRmlsZUNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17ZnVuY3Rpb24gaGFuZGxlQ3R4KGUsIGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb250ZXh0TWVudSh7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZLCBlbnRyeTogZW50IH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGV4cGFuZGVkRmlsZT17ZXhwYW5kZWRGaWxlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cblxuICAgICAgICB7ZXhwYW5kZWRGaWxlICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXJnaW46IFwiNHB4IDhweFwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6IDI0MCxcbiAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2ZpbGVMb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIHNpemU9ezEyfSBzdHlsZT17eyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9fSAvPlxuICAgICAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogNixcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2V4cGFuZGVkRmlsZS5zcGxpdChcIi9cIikucG9wKCl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7ZmlsZUNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VG9rZW5Db3VudChlc3RpbWF0ZVRva2VucyhmaWxlQ29udGVudCkpfXRcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cHJlXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJwcmUtd3JhcFwiLFxuICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtbGl0ZXJhdGEpLCBzZXJpZlwiLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtmaWxlQ29udGVudCB8fCBcIihlbXB0eSlcIn1cbiAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtjb250ZXh0TWVudSAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICByZWY9e2NvbnRleHRNZW51UmVmfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgdG9wOiBjb250ZXh0TWVudS55LFxuICAgICAgICAgICAgbGVmdDogY29udGV4dE1lbnUueCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICBib3hTaGFkb3c6IFwiMCA0cHggMTZweCByZ2JhKDAsMCwwLDAuMTIpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICAgICAgbWluV2lkdGg6IDE0MCxcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlQ29weSgpIHtcbiAgICAgICAgICAgICAgaGFuZGxlQ29weVJlZihjb250ZXh0TWVudS5lbnRyeSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxMHB4XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBoYW5kbGVFbnRlcihlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBoYW5kbGVMZWF2ZShlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDb3B5IHNpemU9ezEzfSAvPlxuICAgICAgICAgICAgQ29weSBAcmVmZXJlbmNlXG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgIG1hcmdpbjogXCI0cHggMFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlRGVsKCkge1xuICAgICAgICAgICAgICBoYW5kbGVEZWxldGVGaWxlKGNvbnRleHRNZW51LmVudHJ5KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDEwcHhcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiNkOTUzNGZcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VHJhc2gyIHNpemU9ezEzfSAvPlxuICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwiRmlsZVRleHQiLCJGb2xkZXJQbHVzIiwiRmlsZVBsdXMiLCJDaGV2cm9uUmlnaHQiLCJGb2xkZXIiLCJDb3B5IiwiVHJhc2gyIiwiTG9hZGVyMiIsInVzZUFwcFN0b3JlIiwiZ2V0Qm9va0NvbmZpZyIsImVzdGltYXRlVG9rZW5zIiwiZm9ybWF0VG9rZW5Db3VudCIsIkZpbGVUcmVlTm9kZSIsImVudHJ5IiwiZGVwdGgiLCJvbkZpbGVDbGljayIsIm9uQ29udGV4dE1lbnUiLCJleHBhbmRlZEZpbGUiLCJleHBhbmRlZCIsInNldEV4cGFuZGVkIiwiaXNEaXIiLCJ0eXBlIiwidG9rZW5zIiwic2l6ZSIsInJlcGVhdCIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJwYWRkaW5nIiwiY3Vyc29yIiwiZm9udFNpemUiLCJib3JkZXJSYWRpdXMiLCJtYXJnaW4iLCJ0cmFuc2l0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwicGF0aCIsIm9uQ2xpY2siLCJoYW5kbGVDbGljayIsInRvZ2dsZSIsInByZXYiLCJoYW5kbGVDdHgiLCJlIiwicHJldmVudERlZmF1bHQiLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVFbnRlciIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJoYW5kbGVMZWF2ZSIsInRyYW5zZm9ybSIsImZsZXhTaHJpbmsiLCJjb2xvciIsIm9wYWNpdHkiLCJzcGFuIiwid2lkdGgiLCJmbGV4Iiwib3ZlcmZsb3ciLCJ0ZXh0T3ZlcmZsb3ciLCJ3aGl0ZVNwYWNlIiwibmFtZSIsImNoaWxkcmVuIiwibWFwIiwicmVuZGVyQ2hpbGQiLCJjaGlsZCIsIkNvbnRleHRQYW5lbCIsImN1cnJlbnRCb29rIiwic2VsZWN0Qm9vayIsInMiLCJlZGl0b3IiLCJrZXlzU3RvcmVkIiwic2VsZWN0S2V5cyIsInByZWZlcmVuY2VzIiwiZmlsZXMiLCJzZXRGaWxlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiY29udGV4dE1lbnUiLCJzZXRDb250ZXh0TWVudSIsInNldEV4cGFuZGVkRmlsZSIsImZpbGVDb250ZW50Iiwic2V0RmlsZUNvbnRlbnQiLCJmaWxlTG9hZGluZyIsInNldEZpbGVMb2FkaW5nIiwic2hvd05ld0ZpbGUiLCJzZXRTaG93TmV3RmlsZSIsIm5ld0ZpbGVOYW1lIiwic2V0TmV3RmlsZU5hbWUiLCJzaG93TmV3Rm9sZGVyIiwic2V0U2hvd05ld0ZvbGRlciIsIm5ld0ZvbGRlck5hbWUiLCJzZXROZXdGb2xkZXJOYW1lIiwiY29udGV4dE1lbnVSZWYiLCJjb25maWciLCJvd25lciIsInJlcG8iLCJicmFuY2giLCJidWlsZFRyZWUiLCJlbnRyaWVzIiwiZGlycyIsInRvcExldmVsIiwic29ydGVkIiwic29ydCIsInNvcnRFbnRyaWVzIiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwic2hhIiwidW5kZWZpbmVkIiwicGFyZW50UGF0aCIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwicHVzaCIsImZldGNoRmlsZXMiLCJmZXRjaENvbnRleHRGaWxlcyIsImZldGNoIiwidGhlbiIsImhhbmRsZVJlcyIsInJlcyIsIm9rIiwiRXJyb3IiLCJqc29uIiwiaGFuZGxlRGF0YSIsImRhdGEiLCJ0cmVlIiwiQXJyYXkiLCJpc0FycmF5IiwiY29udGV4dEZpbGVzIiwiZmlsdGVyIiwiaXNDb250ZXh0IiwicCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInRvRW50cnkiLCJzcGxpdCIsInBvcCIsImNhdGNoIiwiaGFuZGxlRXJyIiwiZmluYWxseSIsImRvbmUiLCJsb2FkRmlsZXMiLCJoYW5kbGVDbGlja091dHNpZGUiLCJoYW5kbGVyIiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYW51cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVGaWxlQ2xpY2siLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb250ZW50IiwiaGFuZGxlQ29weVJlZiIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImhhbmRsZURlbGV0ZUZpbGUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGVydCIsImhhbmRsZUNyZWF0ZUZpbGUiLCJ0cmltIiwibWVzc2FnZSIsImhhbmRsZUNyZWF0ZUZvbGRlciIsImZsZXhEaXJlY3Rpb24iLCJoZWlnaHQiLCJmb250RmFtaWx5IiwicG9zaXRpb24iLCJqdXN0aWZ5Q29udGVudCIsImJvcmRlckJvdHRvbSIsImZvbnRXZWlnaHQiLCJ0ZXh0VHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImJ1dHRvbiIsImhhbmRsZU5ld0ZpbGUiLCJ0aXRsZSIsImJvcmRlciIsImJhY2tncm91bmQiLCJoYW5kbGVOZXdGb2xkZXIiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJoYW5kbGVDaGFuZ2UiLCJvbktleURvd24iLCJoYW5kbGVLZXkiLCJrZXkiLCJwbGFjZWhvbGRlciIsImF1dG9Gb2N1cyIsIm91dGxpbmUiLCJvdmVyZmxvd1kiLCJhbmltYXRpb24iLCJsZW5ndGgiLCJ0ZXh0QWxpZ24iLCJyZW5kZXJFbnRyeSIsImVudCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJtYXhIZWlnaHQiLCJtYXJnaW5Cb3R0b20iLCJwcmUiLCJsaW5lSGVpZ2h0Iiwid29yZEJyZWFrIiwicmVmIiwidG9wIiwibGVmdCIsImJveFNoYWRvdyIsInpJbmRleCIsIm1pbldpZHRoIiwiaGFuZGxlQ29weSIsImhhbmRsZURlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/ContextPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/FileExplorer.tsx":
/*!*********************************************!*\
  !*** ./components/sidebar/FileExplorer.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FileExplorer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list-tree.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/braces.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-code.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/table.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder-open.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder-closed.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder-plus.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/rotate-cw.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Braces,ChevronDown,ChevronRight,Copy,File,FileCode,FileText,FolderClosed,FolderOpen,FolderPlus,Image,ListTree,Loader2,Mic,Pencil,Plus,RotateCw,Table,Trash2,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction getFileIcon(name, path) {\n    if (name === \"book.json\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        color: \"var(--color-accent)\"\n    };\n    if (name === \"voice.md\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n        color: \"var(--color-accent)\"\n    };\n    if (name === \"characters.md\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n        color: \"var(--color-accent)\"\n    };\n    if (name === \"outline.json\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        color: \"var(--color-accent)\"\n    };\n    const ext = name.split(\".\").pop()?.toLowerCase() ?? \"\";\n    if (ext === \"md\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"json\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"txt\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"py\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"js\" || ext === \"ts\" || ext === \"tsx\" || ext === \"jsx\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"csv\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        color: undefined\n    };\n    if (ext === \"png\" || ext === \"jpg\" || ext === \"jpeg\" || ext === \"gif\" || ext === \"svg\" || ext === \"webp\") return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        color: undefined\n    };\n    return {\n        icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        color: undefined\n    };\n}\nfunction buildTree(paths) {\n    const root = {\n        name: \"\",\n        path: \"\",\n        type: \"dir\",\n        children: []\n    };\n    for (const filePath of paths){\n        const parts = filePath.split(\"/\");\n        let current = root;\n        for(let i = 0; i < parts.length; i++){\n            const part = parts[i];\n            const currentPath = parts.slice(0, i + 1).join(\"/\");\n            const isFile = i === parts.length - 1;\n            let existing = current.children?.find(function findChild(c) {\n                return c.name === part;\n            });\n            if (!existing) {\n                existing = {\n                    name: part,\n                    path: currentPath,\n                    type: isFile ? \"file\" : \"dir\",\n                    children: isFile ? undefined : []\n                };\n                current.children.push(existing);\n            }\n            if (!isFile) {\n                current = existing;\n            }\n        }\n    }\n    function sortNodes(nodes) {\n        return nodes.sort(function compare(a, b) {\n            if (a.type !== b.type) {\n                return a.type === \"dir\" ? -1 : 1;\n            }\n            return a.name.localeCompare(b.name);\n        }).map(function recurse(node) {\n            if (node.children) {\n                return {\n                    ...node,\n                    children: sortNodes(node.children)\n                };\n            }\n            return node;\n        });\n    }\n    return sortNodes(root.children ?? []);\n}\nfunction getExpandedKey(repoFullName) {\n    return \"scriva-expanded-\" + repoFullName;\n}\nfunction FileExplorer() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    const keysStored = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectKeysStored(s) {\n        return s.preferences.keysStored;\n    });\n    const currentChapter = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectChapter(s) {\n        return s.editor.currentChapter;\n    });\n    const [tree, setTree] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [inlineInput, setInlineInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [repoInfo, setRepoInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [refreshing, setRefreshing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    function loadExpandedState(fullName) {\n        try {\n            const raw = localStorage.getItem(getExpandedKey(fullName));\n            if (raw) return new Set(JSON.parse(raw));\n        } catch  {}\n        return new Set();\n    }\n    function saveExpandedState(fullName, expandedSet) {\n        try {\n            localStorage.setItem(getExpandedKey(fullName), JSON.stringify(Array.from(expandedSet)));\n        } catch  {}\n    }\n    const fetchTree = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function fetchTree() {\n        if (!keysStored) {\n            setLoading(false);\n            return;\n        }\n        const raw = localStorage.getItem(\"scriva-current-book\");\n        if (!raw) {\n            setLoading(false);\n            return;\n        }\n        let bookData;\n        try {\n            bookData = JSON.parse(raw);\n        } catch  {\n            setLoading(false);\n            return;\n        }\n        const [owner, repo] = bookData.full_name.split(\"/\");\n        if (!owner || !repo) {\n            setLoading(false);\n            return;\n        }\n        setRepoInfo({\n            owner,\n            repo,\n            branch: bookData.default_branch,\n            fullName: bookData.full_name\n        });\n        const savedExpanded = loadExpandedState(bookData.full_name);\n        if (savedExpanded.size > 0) {\n            setExpanded(savedExpanded);\n        }\n        setLoading(true);\n        fetch(\"/api/github/tree?owner=\" + owner + \"&repo=\" + repo + \"&branch=\" + bookData.default_branch).then(function handleRes(res) {\n            return res.json();\n        }).then(function handleData(data) {\n            if (!data.tree) {\n                setTree([]);\n                return;\n            }\n            const filePaths = data.tree.filter(function isBlob(item) {\n                return item.type === \"blob\";\n            }).map(function getPath(item) {\n                return item.path;\n            });\n            setTree(buildTree(filePaths));\n        }).catch(function handleErr() {\n            setTree([]);\n        }).finally(function done() {\n            setLoading(false);\n            setRefreshing(false);\n        });\n    }, [\n        keysStored\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function onMount() {\n        fetchTree();\n    }, [\n        fetchTree\n    ]);\n    function handleRefresh() {\n        setRefreshing(true);\n        fetchTree();\n    }\n    function toggleFolder(path) {\n        setExpanded(function update(prev) {\n            const next = new Set(prev);\n            if (next.has(path)) {\n                next.delete(path);\n            } else {\n                next.add(path);\n            }\n            if (repoInfo) {\n                saveExpandedState(repoInfo.fullName, next);\n            }\n            return next;\n        });\n    }\n    function handleFileClick(node) {\n        router.push(\"/book/\" + node.path);\n    }\n    function handleContextMenu(e, node) {\n        e.preventDefault();\n        e.stopPropagation();\n        setContextMenu({\n            x: e.clientX,\n            y: e.clientY,\n            node\n        });\n    }\n    function closeContextMenu() {\n        setContextMenu(null);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function closeOnClick() {\n        function handleClick() {\n            setContextMenu(null);\n        }\n        window.addEventListener(\"click\", handleClick);\n        return function cleanup() {\n            window.removeEventListener(\"click\", handleClick);\n        };\n    }, []);\n    function handleNewFile(parentPath) {\n        closeContextMenu();\n        const folderPath = parentPath;\n        if (folderPath && !expanded.has(folderPath)) {\n            toggleFolder(folderPath);\n        }\n        setInlineInput({\n            parentPath: folderPath,\n            type: \"file\",\n            initialValue: \"\"\n        });\n    }\n    function handleNewFolder(parentPath) {\n        closeContextMenu();\n        const folderPath = parentPath;\n        if (folderPath && !expanded.has(folderPath)) {\n            toggleFolder(folderPath);\n        }\n        setInlineInput({\n            parentPath: folderPath,\n            type: \"folder\",\n            initialValue: \"\"\n        });\n    }\n    function handleRename(node) {\n        closeContextMenu();\n        const parentPath = node.path.includes(\"/\") ? node.path.substring(0, node.path.lastIndexOf(\"/\")) : \"\";\n        setInlineInput({\n            parentPath,\n            type: \"rename\",\n            initialValue: node.name,\n            originalPath: node.path\n        });\n    }\n    function handleDelete(node) {\n        closeContextMenu();\n        if (!repoInfo || !keysStored) return;\n        const confirmed = window.confirm(\"Delete \" + node.path + \"?\");\n        if (!confirmed) return;\n        if (node.type === \"dir\") {\n            const filesToDelete = collectFiles(node);\n            let chain = Promise.resolve();\n            for (const filePath of filesToDelete){\n                chain = chain.then(function deleteOneFile() {\n                    return fetch(\"/api/github/files?owner=\" + repoInfo.owner + \"&repo=\" + repoInfo.repo + \"&path=\" + encodeURIComponent(filePath) + \"&branch=\" + repoInfo.branch).then(function getSha(res) {\n                        return res.json();\n                    }).then(function doDelete(data) {\n                        return fetch(\"/api/github/files\", {\n                            method: \"DELETE\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify({\n                                owner: repoInfo.owner,\n                                repo: repoInfo.repo,\n                                path: filePath,\n                                sha: data.sha,\n                                branch: repoInfo.branch\n                            })\n                        }).then(function ignore() {\n                            return;\n                        });\n                    });\n                });\n            }\n            chain.then(function refresh() {\n                fetchTree();\n            });\n        } else {\n            fetch(\"/api/github/files?owner=\" + repoInfo.owner + \"&repo=\" + repoInfo.repo + \"&path=\" + encodeURIComponent(node.path) + \"&branch=\" + repoInfo.branch).then(function getSha(res) {\n                return res.json();\n            }).then(function doDelete(data) {\n                return fetch(\"/api/github/files\", {\n                    method: \"DELETE\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        owner: repoInfo.owner,\n                        repo: repoInfo.repo,\n                        path: node.path,\n                        sha: data.sha,\n                        branch: repoInfo.branch\n                    })\n                });\n            }).then(function refresh() {\n                fetchTree();\n            });\n        }\n    }\n    function collectFiles(node) {\n        if (node.type === \"file\") return [\n            node.path\n        ];\n        const result = [];\n        if (node.children) {\n            for (const child of node.children){\n                result.push(...collectFiles(child));\n            }\n        }\n        return result;\n    }\n    function handleCopyPath(node) {\n        closeContextMenu();\n        navigator.clipboard.writeText(node.path);\n    }\n    function handleInlineSubmit(value) {\n        if (!value.trim() || !repoInfo || !keysStored) {\n            setInlineInput(null);\n            return;\n        }\n        const trimmed = value.trim();\n        if (inlineInput?.type === \"rename\" && inlineInput.originalPath) {\n            const oldPath = inlineInput.originalPath;\n            const parentDir = oldPath.includes(\"/\") ? oldPath.substring(0, oldPath.lastIndexOf(\"/\")) + \"/\" : \"\";\n            const newPath = parentDir + trimmed;\n            fetch(\"/api/github/files?owner=\" + repoInfo.owner + \"&repo=\" + repoInfo.repo + \"&path=\" + encodeURIComponent(oldPath) + \"&branch=\" + repoInfo.branch).then(function getOld(res) {\n                return res.json();\n            }).then(function createNew(data) {\n                return fetch(\"/api/github/files\", {\n                    method: \"PUT\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        owner: repoInfo.owner,\n                        repo: repoInfo.repo,\n                        path: newPath,\n                        content: data.content,\n                        branch: repoInfo.branch,\n                        message: \"Rename \" + oldPath + \" to \" + newPath\n                    })\n                }).then(function deleteOld() {\n                    return fetch(\"/api/github/files\", {\n                        method: \"DELETE\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            owner: repoInfo.owner,\n                            repo: repoInfo.repo,\n                            path: oldPath,\n                            sha: data.sha,\n                            branch: repoInfo.branch\n                        })\n                    });\n                });\n            }).then(function refresh() {\n                fetchTree();\n            });\n        } else if (inlineInput?.type === \"folder\") {\n            const folderPath = inlineInput.parentPath ? inlineInput.parentPath + \"/\" + trimmed : trimmed;\n            const keepPath = folderPath + \"/.gitkeep\";\n            fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: repoInfo.owner,\n                    repo: repoInfo.repo,\n                    path: keepPath,\n                    content: \"\",\n                    branch: repoInfo.branch,\n                    message: \"Create folder \" + folderPath\n                })\n            }).then(function refresh() {\n                fetchTree();\n            });\n        } else {\n            const filePath = inlineInput?.parentPath ? inlineInput.parentPath + \"/\" + trimmed : trimmed;\n            fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: repoInfo.owner,\n                    repo: repoInfo.repo,\n                    path: filePath,\n                    content: \"\",\n                    branch: repoInfo.branch,\n                    message: \"Create \" + filePath\n                })\n            }).then(function refresh() {\n                fetchTree();\n                router.push(\"/book/\" + filePath);\n            });\n        }\n        setInlineInput(null);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function focusInput() {\n        if (inlineInput && inputRef.current) {\n            inputRef.current.focus();\n            if (inlineInput.type === \"rename\") {\n                const dotIdx = inlineInput.initialValue.lastIndexOf(\".\");\n                if (dotIdx > 0) {\n                    inputRef.current.setSelectionRange(0, dotIdx);\n                } else {\n                    inputRef.current.select();\n                }\n            }\n        }\n    }, [\n        inlineInput\n    ]);\n    function renderInlineInput(depth) {\n        if (!inlineInput) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                height: 28,\n                paddingLeft: 8 + depth * 16,\n                paddingRight: 8\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineInputField, {\n                ref: inputRef,\n                initialValue: inlineInput.initialValue,\n                onSubmit: handleInlineSubmit,\n                onCancel: function cancel() {\n                    setInlineInput(null);\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 473,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n            lineNumber: 464,\n            columnNumber: 7\n        }, this);\n    }\n    function renderNode(node, depth) {\n        const isExpanded = expanded.has(node.path);\n        const isActive = currentChapter === node.path || pathname === \"/book/\" + node.path;\n        if (node.type === \"dir\") {\n            const showInlineHere = inlineInput && inlineInput.parentPath === node.path && inlineInput.type !== \"rename\";\n            const showRenameHere = inlineInput && inlineInput.type === \"rename\" && inlineInput.originalPath === node.path;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    showRenameHere ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            height: 28,\n                            paddingLeft: 8 + depth * 16,\n                            paddingRight: 8\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineInputField, {\n                            ref: inputRef,\n                            initialValue: inlineInput.initialValue,\n                            onSubmit: handleInlineSubmit,\n                            onCancel: function cancel() {\n                                setInlineInput(null);\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                            lineNumber: 503,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 494,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        onClick: function onClick() {\n                            toggleFolder(node.path);\n                        },\n                        onContextMenu: function onCtx(e) {\n                            handleContextMenu(e, node);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            height: 28,\n                            paddingLeft: 8 + depth * 16,\n                            paddingRight: 8,\n                            cursor: \"pointer\",\n                            gap: 4,\n                            position: \"relative\",\n                            userSelect: \"none\"\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            depth > 0 && Array.from({\n                                length: depth\n                            }).map(function renderGuide(_, i) {\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        position: \"absolute\",\n                                        left: 16 + i * 16,\n                                        top: 0,\n                                        bottom: 0,\n                                        width: 1,\n                                        backgroundColor: \"var(--color-border)\",\n                                        opacity: 0.5\n                                    }\n                                }, i, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                    lineNumber: 534,\n                                    columnNumber: 19\n                                }, this);\n                            }),\n                            isExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                size: 14,\n                                strokeWidth: 1.5,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 549,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                size: 14,\n                                strokeWidth: 1.5,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 551,\n                                columnNumber: 17\n                            }, this),\n                            isExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                size: 16,\n                                strokeWidth: 1.5,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                size: 16,\n                                strokeWidth: 1.5,\n                                style: {\n                                    flexShrink: 0,\n                                    color: \"var(--color-text-muted)\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 556,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    flex: 1,\n                                    overflow: \"hidden\",\n                                    textOverflow: \"ellipsis\",\n                                    whiteSpace: \"nowrap\",\n                                    fontWeight: 500,\n                                    color: \"var(--color-text)\",\n                                    marginLeft: 2\n                                },\n                                children: node.name\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 558,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 511,\n                        columnNumber: 13\n                    }, this),\n                    isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            showInlineHere && renderInlineInput(depth + 1),\n                            node.children?.map(function renderChild(child) {\n                                return renderNode(child, depth + 1);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, node.path, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 492,\n                columnNumber: 9\n            }, this);\n        }\n        const { icon: FileIcon, color: iconColor } = getFileIcon(node.name, node.path);\n        const showRenameHere = inlineInput && inlineInput.type === \"rename\" && inlineInput.originalPath === node.path;\n        if (showRenameHere) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    height: 28,\n                    paddingLeft: 8 + depth * 16 + 18,\n                    paddingRight: 8\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineInputField, {\n                    ref: inputRef,\n                    initialValue: inlineInput.initialValue,\n                    onSubmit: handleInlineSubmit,\n                    onCancel: function cancel() {\n                        setInlineInput(null);\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 600,\n                    columnNumber: 11\n                }, this)\n            }, node.path, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 590,\n                columnNumber: 9\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            onClick: function onClick() {\n                handleFileClick(node);\n            },\n            onContextMenu: function onCtx(e) {\n                handleContextMenu(e, node);\n            },\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                height: 28,\n                paddingLeft: 8 + depth * 16 + 18,\n                paddingRight: 8,\n                cursor: \"pointer\",\n                gap: 4,\n                position: \"relative\",\n                userSelect: \"none\",\n                backgroundColor: isActive ? \"rgba(var(--color-accent-rgb, 99, 102, 241), 0.08)\" : \"transparent\"\n            },\n            onMouseEnter: function onEnter(e) {\n                if (!isActive) {\n                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                }\n            },\n            onMouseLeave: function onLeave(e) {\n                if (!isActive) {\n                    e.currentTarget.style.backgroundColor = isActive ? \"rgba(var(--color-accent-rgb, 99, 102, 241), 0.08)\" : \"transparent\";\n                }\n            },\n            children: [\n                depth > 0 && Array.from({\n                    length: depth\n                }).map(function renderGuide(_, i) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"absolute\",\n                            left: 16 + i * 16,\n                            top: 0,\n                            bottom: 0,\n                            width: 1,\n                            backgroundColor: \"var(--color-border)\",\n                            opacity: 0.5\n                        }\n                    }, i, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 640,\n                        columnNumber: 13\n                    }, this);\n                }),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileIcon, {\n                    size: 16,\n                    strokeWidth: 1.5,\n                    style: {\n                        flexShrink: 0,\n                        color: iconColor ?? \"var(--color-text-muted)\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 654,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        flex: 1,\n                        overflow: \"hidden\",\n                        textOverflow: \"ellipsis\",\n                        whiteSpace: \"nowrap\",\n                        color: isActive ? \"var(--color-accent)\" : \"var(--color-text)\",\n                        marginLeft: 2\n                    },\n                    children: node.name\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 659,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, node.path, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n            lineNumber: 611,\n            columnNumber: 7\n        }, this);\n    }\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: 8,\n                color: \"var(--color-text-muted)\",\n                padding: 24\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                    size: 16,\n                    style: {\n                        animation: \"spin 1s linear infinite\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 688,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        fontSize: 13\n                    },\n                    children: \"Loading files...\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 689,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n            lineNumber: 677,\n            columnNumber: 7\n        }, this);\n    }\n    const rootInline = inlineInput && inlineInput.parentPath === \"\" && inlineInput.type !== \"rename\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            overflow: \"hidden\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    padding: \"8px 12px 4px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontSize: 11,\n                            fontWeight: 600,\n                            textTransform: \"uppercase\",\n                            letterSpacing: \"0.05em\",\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: \"Explorer\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 706,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 2\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function onNewFile() {\n                                    handleNewFile(\"\");\n                                },\n                                title: \"New File\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 22,\n                                    height: 22,\n                                    border: \"none\",\n                                    background: \"transparent\",\n                                    color: \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function onEnter(e) {\n                                    e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function onLeave(e) {\n                                    e.currentTarget.style.background = \"transparent\";\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    size: 14,\n                                    strokeWidth: 1.5\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                    lineNumber: 736,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 718,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function onNewFolder() {\n                                    handleNewFolder(\"\");\n                                },\n                                title: \"New Folder\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 22,\n                                    height: 22,\n                                    border: \"none\",\n                                    background: \"transparent\",\n                                    color: \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function onEnter(e) {\n                                    e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function onLeave(e) {\n                                    e.currentTarget.style.background = \"transparent\";\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    size: 14,\n                                    strokeWidth: 1.5\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                    lineNumber: 756,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 738,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleRefresh,\n                                title: \"Refresh\",\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 22,\n                                    height: 22,\n                                    border: \"none\",\n                                    background: \"transparent\",\n                                    color: \"var(--color-text-muted)\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function onEnter(e) {\n                                    e.currentTarget.style.background = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function onLeave(e) {\n                                    e.currentTarget.style.background = \"transparent\";\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    size: 14,\n                                    strokeWidth: 1.5,\n                                    style: refreshing ? {\n                                        animation: \"spin 1s linear infinite\"\n                                    } : undefined\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                    lineNumber: 776,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 758,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 717,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 698,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\",\n                    overflowX: \"hidden\",\n                    paddingBottom: 8\n                },\n                children: [\n                    rootInline && renderInlineInput(0),\n                    tree.map(function renderRoot(node) {\n                        return renderNode(node, 0);\n                    }),\n                    tree.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            height: \"100%\",\n                            gap: 12,\n                            color: \"var(--color-text-muted)\",\n                            padding: 24,\n                            textAlign: \"center\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                size: 32,\n                                strokeWidth: 1,\n                                style: {\n                                    opacity: 0.5\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 13\n                                },\n                                children: \"No files found\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                                lineNumber: 805,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 791,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 785,\n                columnNumber: 7\n            }, this),\n            contextMenu && contextMenu.node && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextMenuPopup, {\n                x: contextMenu.x,\n                y: contextMenu.y,\n                node: contextMenu.node,\n                onNewFile: handleNewFile,\n                onNewFolder: handleNewFolder,\n                onRename: handleRename,\n                onDelete: handleDelete,\n                onCopyPath: handleCopyPath,\n                onClose: closeContextMenu\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 811,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n        lineNumber: 697,\n        columnNumber: 5\n    }, this);\n}\n\nconst InlineInputField = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function InlineInputField(props, ref) {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.initialValue);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        ref: ref,\n        type: \"text\",\n        value: value,\n        onChange: function onChange(e) {\n            setValue(e.target.value);\n        },\n        onKeyDown: function onKey(e) {\n            if (e.key === \"Enter\") {\n                props.onSubmit(value);\n            }\n            if (e.key === \"Escape\") {\n                props.onCancel();\n            }\n        },\n        onBlur: function onBlur() {\n            if (value.trim()) {\n                props.onSubmit(value);\n            } else {\n                props.onCancel();\n            }\n        },\n        style: {\n            width: \"100%\",\n            height: 22,\n            border: \"1px solid var(--color-accent)\",\n            borderRadius: 3,\n            backgroundColor: \"var(--color-surface)\",\n            color: \"var(--color-text)\",\n            fontSize: 13,\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            padding: \"0 6px\",\n            outline: \"none\"\n        }\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n        lineNumber: 840,\n        columnNumber: 7\n    }, this);\n});\nfunction ContextMenuPopup({ x, y, node, onNewFile, onNewFolder, onRename, onDelete, onCopyPath, onClose }) {\n    const parentPath = node.type === \"dir\" ? node.path : node.path.includes(\"/\") ? node.path.substring(0, node.path.lastIndexOf(\"/\")) : \"\";\n    const items = [\n        {\n            label: \"New File\",\n            icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n            action: function newFile() {\n                onNewFile(parentPath);\n            }\n        },\n        {\n            label: \"New Folder\",\n            icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n            action: function newFolder() {\n                onNewFolder(parentPath);\n            }\n        },\n        {\n            label: \"divider\",\n            icon: null,\n            action: function noop() {}\n        },\n        {\n            label: \"Rename\",\n            icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n            action: function rename() {\n                onRename(node);\n            }\n        },\n        {\n            label: \"Delete\",\n            icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n            action: function del() {\n                onDelete(node);\n            }\n        },\n        {\n            label: \"divider2\",\n            icon: null,\n            action: function noop() {}\n        },\n        {\n            label: \"Copy Path\",\n            icon: _barrel_optimize_names_BookOpen_Braces_ChevronDown_ChevronRight_Copy_File_FileCode_FileText_FolderClosed_FolderOpen_FolderPlus_Image_ListTree_Loader2_Mic_Pencil_Plus_RotateCw_Table_Trash2_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"],\n            action: function copy() {\n                onCopyPath(node);\n            }\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: y,\n            left: x,\n            zIndex: 9999,\n            backgroundColor: \"var(--color-surface)\",\n            border: \"1px solid var(--color-border)\",\n            borderRadius: 6,\n            boxShadow: \"0 4px 16px rgba(0,0,0,0.15)\",\n            padding: \"4px 0\",\n            minWidth: 160,\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 13\n        },\n        onClick: function stopPropagation(e) {\n            e.stopPropagation();\n        },\n        children: items.map(function renderItem(item) {\n            if (item.label.startsWith(\"divider\")) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        height: 1,\n                        backgroundColor: \"var(--color-border)\",\n                        margin: \"4px 0\"\n                    }\n                }, item.label, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                    lineNumber: 933,\n                    columnNumber: 13\n                }, this);\n            }\n            const Icon = item.icon;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: function handleClick() {\n                    item.action();\n                    onClose();\n                },\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8,\n                    width: \"100%\",\n                    padding: \"6px 12px\",\n                    border: \"none\",\n                    background: \"transparent\",\n                    color: item.label === \"Delete\" ? \"var(--color-error)\" : \"var(--color-text)\",\n                    cursor: \"pointer\",\n                    textAlign: \"left\",\n                    fontFamily: \"inherit\",\n                    fontSize: \"inherit\"\n                },\n                onMouseEnter: function onEnter(e) {\n                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                },\n                onMouseLeave: function onLeave(e) {\n                    e.currentTarget.style.backgroundColor = \"transparent\";\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                        size: 14,\n                        strokeWidth: 1.5\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                        lineNumber: 974,\n                        columnNumber: 13\n                    }, this),\n                    item.label\n                ]\n            }, item.label, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n                lineNumber: 947,\n                columnNumber: 11\n            }, this);\n        })\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FileExplorer.tsx\",\n        lineNumber: 913,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NpZGViYXIvRmlsZUV4cGxvcmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVpRTtBQUNSO0FBdUJuQztBQUNnQjtBQWdCdEMsU0FBUzZCLFlBQVlDLElBQVksRUFBRUMsSUFBWTtJQUM3QyxJQUFJRCxTQUFTLGFBQWEsT0FBTztRQUFFRSxNQUFNZixzUEFBUUE7UUFBRWdCLE9BQU87SUFBc0I7SUFDaEYsSUFBSUgsU0FBUyxZQUFZLE9BQU87UUFBRUUsTUFBTWQsc1BBQUdBO1FBQUVlLE9BQU87SUFBc0I7SUFDMUUsSUFBSUgsU0FBUyxpQkFBaUIsT0FBTztRQUFFRSxNQUFNYixzUEFBS0E7UUFBRWMsT0FBTztJQUFzQjtJQUNqRixJQUFJSCxTQUFTLGdCQUFnQixPQUFPO1FBQUVFLE1BQU1aLHNQQUFRQTtRQUFFYSxPQUFPO0lBQXNCO0lBRW5GLE1BQU1DLE1BQU1KLEtBQUtLLEtBQUssQ0FBQyxLQUFLQyxHQUFHLElBQUlDLGlCQUFpQjtJQUVwRCxJQUFJSCxRQUFRLE1BQU0sT0FBTztRQUFFRixNQUFNdEIsc1BBQVFBO1FBQUV1QixPQUFPSztJQUFVO0lBQzVELElBQUlKLFFBQVEsUUFBUSxPQUFPO1FBQUVGLE1BQU1uQixzUEFBTUE7UUFBRW9CLE9BQU9LO0lBQVU7SUFDNUQsSUFBSUosUUFBUSxPQUFPLE9BQU87UUFBRUYsTUFBTXRCLHNQQUFRQTtRQUFFdUIsT0FBT0s7SUFBVTtJQUM3RCxJQUFJSixRQUFRLE1BQU0sT0FBTztRQUFFRixNQUFNckIsdVBBQVFBO1FBQUVzQixPQUFPSztJQUFVO0lBQzVELElBQUlKLFFBQVEsUUFBUUEsUUFBUSxRQUFRQSxRQUFRLFNBQVNBLFFBQVEsT0FBTyxPQUFPO1FBQUVGLE1BQU1yQix1UEFBUUE7UUFBRXNCLE9BQU9LO0lBQVU7SUFDOUcsSUFBSUosUUFBUSxPQUFPLE9BQU87UUFBRUYsTUFBTWxCLHVQQUFLQTtRQUFFbUIsT0FB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YnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NpZGViYXIvRmlsZUV4cGxvcmVyLnRzeD9kMGZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVBhdGhuYW1lIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHtcbiAgQ2hldnJvblJpZ2h0LFxuICBDaGV2cm9uRG93bixcbiAgRm9sZGVyQ2xvc2VkLFxuICBGb2xkZXJPcGVuLFxuICBGaWxlVGV4dCxcbiAgRmlsZUNvZGUsXG4gIEZpbGUsXG4gIEJyYWNlcyxcbiAgVGFibGUsXG4gIEltYWdlIGFzIEltYWdlSWNvbixcbiAgQm9va09wZW4sXG4gIE1pYyxcbiAgVXNlcnMsXG4gIExpc3RUcmVlLFxuICBSb3RhdGVDdyxcbiAgTG9hZGVyMixcbiAgUGx1cyxcbiAgRm9sZGVyUGx1cyxcbiAgUGVuY2lsLFxuICBUcmFzaDIsXG4gIENvcHksXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSBcIkAvc3RvcmVcIjtcbmltcG9ydCB0eXBlIHsgRmlsZVRyZWVOb2RlIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuaW50ZXJmYWNlIENvbnRleHRNZW51U3RhdGUge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgbm9kZTogRmlsZVRyZWVOb2RlIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIElubGluZUlucHV0U3RhdGUge1xuICBwYXJlbnRQYXRoOiBzdHJpbmc7XG4gIHR5cGU6IFwiZmlsZVwiIHwgXCJmb2xkZXJcIiB8IFwicmVuYW1lXCI7XG4gIGluaXRpYWxWYWx1ZTogc3RyaW5nO1xuICBvcmlnaW5hbFBhdGg/OiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGdldEZpbGVJY29uKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKSB7XG4gIGlmIChuYW1lID09PSBcImJvb2suanNvblwiKSByZXR1cm4geyBpY29uOiBCb29rT3BlbiwgY29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIH07XG4gIGlmIChuYW1lID09PSBcInZvaWNlLm1kXCIpIHJldHVybiB7IGljb246IE1pYywgY29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIH07XG4gIGlmIChuYW1lID09PSBcImNoYXJhY3RlcnMubWRcIikgcmV0dXJuIHsgaWNvbjogVXNlcnMsIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIiB9O1xuICBpZiAobmFtZSA9PT0gXCJvdXRsaW5lLmpzb25cIikgcmV0dXJuIHsgaWNvbjogTGlzdFRyZWUsIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIiB9O1xuXG4gIGNvbnN0IGV4dCA9IG5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpPy50b0xvd2VyQ2FzZSgpID8/IFwiXCI7XG5cbiAgaWYgKGV4dCA9PT0gXCJtZFwiKSByZXR1cm4geyBpY29uOiBGaWxlVGV4dCwgY29sb3I6IHVuZGVmaW5lZCB9O1xuICBpZiAoZXh0ID09PSBcImpzb25cIikgcmV0dXJuIHsgaWNvbjogQnJhY2VzLCBjb2xvcjogdW5kZWZpbmVkIH07XG4gIGlmIChleHQgPT09IFwidHh0XCIpIHJldHVybiB7IGljb246IEZpbGVUZXh0LCBjb2xvcjogdW5kZWZpbmVkIH07XG4gIGlmIChleHQgPT09IFwicHlcIikgcmV0dXJuIHsgaWNvbjogRmlsZUNvZGUsIGNvbG9yOiB1bmRlZmluZWQgfTtcbiAgaWYgKGV4dCA9PT0gXCJqc1wiIHx8IGV4dCA9PT0gXCJ0c1wiIHx8IGV4dCA9PT0gXCJ0c3hcIiB8fCBleHQgPT09IFwianN4XCIpIHJldHVybiB7IGljb246IEZpbGVDb2RlLCBjb2xvcjogdW5kZWZpbmVkIH07XG4gIGlmIChleHQgPT09IFwiY3N2XCIpIHJldHVybiB7IGljb246IFRhYmxlLCBjb2xvcjogdW5kZWZpbmVkIH07XG4gIGlmIChleHQgPT09IFwicG5nXCIgfHwgZXh0ID09PSBcImpwZ1wiIHx8IGV4dCA9PT0gXCJqcGVnXCIgfHwgZXh0ID09PSBcImdpZlwiIHx8IGV4dCA9PT0gXCJzdmdcIiB8fCBleHQgPT09IFwid2VicFwiKSByZXR1cm4geyBpY29uOiBJbWFnZUljb24sIGNvbG9yOiB1bmRlZmluZWQgfTtcblxuICByZXR1cm4geyBpY29uOiBGaWxlLCBjb2xvcjogdW5kZWZpbmVkIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkVHJlZShwYXRoczogc3RyaW5nW10pOiBGaWxlVHJlZU5vZGVbXSB7XG4gIGNvbnN0IHJvb3Q6IEZpbGVUcmVlTm9kZSA9IHsgbmFtZTogXCJcIiwgcGF0aDogXCJcIiwgdHlwZTogXCJkaXJcIiwgY2hpbGRyZW46IFtdIH07XG5cbiAgZm9yIChjb25zdCBmaWxlUGF0aCBvZiBwYXRocykge1xuICAgIGNvbnN0IHBhcnRzID0gZmlsZVBhdGguc3BsaXQoXCIvXCIpO1xuICAgIGxldCBjdXJyZW50ID0gcm9vdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gcGFydHMuc2xpY2UoMCwgaSArIDEpLmpvaW4oXCIvXCIpO1xuICAgICAgY29uc3QgaXNGaWxlID0gaSA9PT0gcGFydHMubGVuZ3RoIC0gMTtcblxuICAgICAgbGV0IGV4aXN0aW5nID0gY3VycmVudC5jaGlsZHJlbj8uZmluZChmdW5jdGlvbiBmaW5kQ2hpbGQoYykge1xuICAgICAgICByZXR1cm4gYy5uYW1lID09PSBwYXJ0O1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgZXhpc3RpbmcgPSB7XG4gICAgICAgICAgbmFtZTogcGFydCxcbiAgICAgICAgICBwYXRoOiBjdXJyZW50UGF0aCxcbiAgICAgICAgICB0eXBlOiBpc0ZpbGUgPyBcImZpbGVcIiA6IFwiZGlyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IGlzRmlsZSA/IHVuZGVmaW5lZCA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjdXJyZW50LmNoaWxkcmVuIS5wdXNoKGV4aXN0aW5nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0ZpbGUpIHtcbiAgICAgICAgY3VycmVudCA9IGV4aXN0aW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnROb2Rlcyhub2RlczogRmlsZVRyZWVOb2RlW10pOiBGaWxlVHJlZU5vZGVbXSB7XG4gICAgcmV0dXJuIG5vZGVzLnNvcnQoZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgICBpZiAoYS50eXBlICE9PSBiLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSA9PT0gXCJkaXJcIiA/IC0xIDogMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgIH0pLm1hcChmdW5jdGlvbiByZWN1cnNlKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiB7IC4uLm5vZGUsIGNoaWxkcmVuOiBzb3J0Tm9kZXMobm9kZS5jaGlsZHJlbikgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNvcnROb2Rlcyhyb290LmNoaWxkcmVuID8/IFtdKTtcbn1cblxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRLZXkocmVwb0Z1bGxOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gXCJzY3JpdmEtZXhwYW5kZWQtXCIgKyByZXBvRnVsbE5hbWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbGVFeHBsb3JlcigpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcbiAgY29uc3Qga2V5c1N0b3JlZCA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEtleXNTdG9yZWQocykge1xuICAgIHJldHVybiBzLnByZWZlcmVuY2VzLmtleXNTdG9yZWQ7XG4gIH0pO1xuICBjb25zdCBjdXJyZW50Q2hhcHRlciA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdENoYXB0ZXIocykge1xuICAgIHJldHVybiBzLmVkaXRvci5jdXJyZW50Q2hhcHRlcjtcbiAgfSk7XG5cbiAgY29uc3QgW3RyZWUsIHNldFRyZWVdID0gdXNlU3RhdGU8RmlsZVRyZWVOb2RlW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFtjb250ZXh0TWVudSwgc2V0Q29udGV4dE1lbnVdID0gdXNlU3RhdGU8Q29udGV4dE1lbnVTdGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaW5saW5lSW5wdXQsIHNldElubGluZUlucHV0XSA9IHVzZVN0YXRlPElubGluZUlucHV0U3RhdGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3JlcG9JbmZvLCBzZXRSZXBvSW5mb10gPSB1c2VTdGF0ZTx7IG93bmVyOiBzdHJpbmc7IHJlcG86IHN0cmluZzsgYnJhbmNoOiBzdHJpbmc7IGZ1bGxOYW1lOiBzdHJpbmcgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcmVmcmVzaGluZywgc2V0UmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgZnVuY3Rpb24gbG9hZEV4cGFuZGVkU3RhdGUoZnVsbE5hbWU6IHN0cmluZyk6IFNldDxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0RXhwYW5kZWRLZXkoZnVsbE5hbWUpKTtcbiAgICAgIGlmIChyYXcpIHJldHVybiBuZXcgU2V0KEpTT04ucGFyc2UocmF3KSk7XG4gICAgfSBjYXRjaCB7fVxuICAgIHJldHVybiBuZXcgU2V0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlRXhwYW5kZWRTdGF0ZShmdWxsTmFtZTogc3RyaW5nLCBleHBhbmRlZFNldDogU2V0PHN0cmluZz4pIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZ2V0RXhwYW5kZWRLZXkoZnVsbE5hbWUpLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGV4cGFuZGVkU2V0KSkpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIGNvbnN0IGZldGNoVHJlZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGZldGNoVHJlZSgpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQpIHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXZhLWN1cnJlbnQtYm9va1wiKTtcbiAgICBpZiAoIXJhdykge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGJvb2tEYXRhOiB7IGZ1bGxfbmFtZTogc3RyaW5nOyBkZWZhdWx0X2JyYW5jaDogc3RyaW5nIH07XG4gICAgdHJ5IHtcbiAgICAgIGJvb2tEYXRhID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgW293bmVyLCByZXBvXSA9IGJvb2tEYXRhLmZ1bGxfbmFtZS5zcGxpdChcIi9cIik7XG4gICAgaWYgKCFvd25lciB8fCAhcmVwbykge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0UmVwb0luZm8oeyBvd25lciwgcmVwbywgYnJhbmNoOiBib29rRGF0YS5kZWZhdWx0X2JyYW5jaCwgZnVsbE5hbWU6IGJvb2tEYXRhLmZ1bGxfbmFtZSB9KTtcbiAgICBjb25zdCBzYXZlZEV4cGFuZGVkID0gbG9hZEV4cGFuZGVkU3RhdGUoYm9va0RhdGEuZnVsbF9uYW1lKTtcbiAgICBpZiAoc2F2ZWRFeHBhbmRlZC5zaXplID4gMCkge1xuICAgICAgc2V0RXhwYW5kZWQoc2F2ZWRFeHBhbmRlZCk7XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBmZXRjaChcbiAgICAgIFwiL2FwaS9naXRodWIvdHJlZT9vd25lcj1cIiArIG93bmVyICsgXCImcmVwbz1cIiArIHJlcG8gKyBcIiZicmFuY2g9XCIgKyBib29rRGF0YS5kZWZhdWx0X2JyYW5jaCxcbiAgICApXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVSZXMocmVzKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZURhdGEoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEudHJlZSkge1xuICAgICAgICAgIHNldFRyZWUoW10pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVQYXRocyA9IGRhdGEudHJlZVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gaXNCbG9iKGl0ZW06IHsgdHlwZTogc3RyaW5nIH0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnR5cGUgPT09IFwiYmxvYlwiO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiBnZXRQYXRoKGl0ZW06IHsgcGF0aDogc3RyaW5nIH0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnBhdGg7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VHJlZShidWlsZFRyZWUoZmlsZVBhdGhzKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGhhbmRsZUVycigpIHtcbiAgICAgICAgc2V0VHJlZShbXSk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldFJlZnJlc2hpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtrZXlzU3RvcmVkXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIG9uTW91bnQoKSB7XG4gICAgZmV0Y2hUcmVlKCk7XG4gIH0sIFtmZXRjaFRyZWVdKTtcblxuICBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoKCkge1xuICAgIHNldFJlZnJlc2hpbmcodHJ1ZSk7XG4gICAgZmV0Y2hUcmVlKCk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVGb2xkZXIocGF0aDogc3RyaW5nKSB7XG4gICAgc2V0RXhwYW5kZWQoZnVuY3Rpb24gdXBkYXRlKHByZXYpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgaWYgKG5leHQuaGFzKHBhdGgpKSB7XG4gICAgICAgIG5leHQuZGVsZXRlKHBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5hZGQocGF0aCk7XG4gICAgICB9XG4gICAgICBpZiAocmVwb0luZm8pIHtcbiAgICAgICAgc2F2ZUV4cGFuZGVkU3RhdGUocmVwb0luZm8uZnVsbE5hbWUsIG5leHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGaWxlQ2xpY2sobm9kZTogRmlsZVRyZWVOb2RlKSB7XG4gICAgcm91dGVyLnB1c2goXCIvYm9vay9cIiArIG5vZGUucGF0aCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TWVudShlOiBSZWFjdC5Nb3VzZUV2ZW50LCBub2RlOiBGaWxlVHJlZU5vZGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRDb250ZXh0TWVudSh7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZLCBub2RlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VDb250ZXh0TWVudSgpIHtcbiAgICBzZXRDb250ZXh0TWVudShudWxsKTtcbiAgfVxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBjbG9zZU9uQ2xpY2soKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICBzZXRDb250ZXh0TWVudShudWxsKTtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGljayk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3RmlsZShwYXJlbnRQYXRoOiBzdHJpbmcpIHtcbiAgICBjbG9zZUNvbnRleHRNZW51KCk7XG4gICAgY29uc3QgZm9sZGVyUGF0aCA9IHBhcmVudFBhdGg7XG4gICAgaWYgKGZvbGRlclBhdGggJiYgIWV4cGFuZGVkLmhhcyhmb2xkZXJQYXRoKSkge1xuICAgICAgdG9nZ2xlRm9sZGVyKGZvbGRlclBhdGgpO1xuICAgIH1cbiAgICBzZXRJbmxpbmVJbnB1dCh7IHBhcmVudFBhdGg6IGZvbGRlclBhdGgsIHR5cGU6IFwiZmlsZVwiLCBpbml0aWFsVmFsdWU6IFwiXCIgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOZXdGb2xkZXIocGFyZW50UGF0aDogc3RyaW5nKSB7XG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xuICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXJlbnRQYXRoO1xuICAgIGlmIChmb2xkZXJQYXRoICYmICFleHBhbmRlZC5oYXMoZm9sZGVyUGF0aCkpIHtcbiAgICAgIHRvZ2dsZUZvbGRlcihmb2xkZXJQYXRoKTtcbiAgICB9XG4gICAgc2V0SW5saW5lSW5wdXQoeyBwYXJlbnRQYXRoOiBmb2xkZXJQYXRoLCB0eXBlOiBcImZvbGRlclwiLCBpbml0aWFsVmFsdWU6IFwiXCIgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZW5hbWUobm9kZTogRmlsZVRyZWVOb2RlKSB7XG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xuICAgIGNvbnN0IHBhcmVudFBhdGggPSBub2RlLnBhdGguaW5jbHVkZXMoXCIvXCIpID8gbm9kZS5wYXRoLnN1YnN0cmluZygwLCBub2RlLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpKSA6IFwiXCI7XG4gICAgc2V0SW5saW5lSW5wdXQoeyBwYXJlbnRQYXRoLCB0eXBlOiBcInJlbmFtZVwiLCBpbml0aWFsVmFsdWU6IG5vZGUubmFtZSwgb3JpZ2luYWxQYXRoOiBub2RlLnBhdGggfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEZWxldGUobm9kZTogRmlsZVRyZWVOb2RlKSB7XG4gICAgY2xvc2VDb250ZXh0TWVudSgpO1xuICAgIGlmICghcmVwb0luZm8gfHwgIWtleXNTdG9yZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbmZpcm1lZCA9IHdpbmRvdy5jb25maXJtKFwiRGVsZXRlIFwiICsgbm9kZS5wYXRoICsgXCI/XCIpO1xuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBpZiAobm9kZS50eXBlID09PSBcImRpclwiKSB7XG4gICAgICBjb25zdCBmaWxlc1RvRGVsZXRlID0gY29sbGVjdEZpbGVzKG5vZGUpO1xuICAgICAgbGV0IGNoYWluID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBmb3IgKGNvbnN0IGZpbGVQYXRoIG9mIGZpbGVzVG9EZWxldGUpIHtcbiAgICAgICAgY2hhaW4gPSBjaGFpbi50aGVuKGZ1bmN0aW9uIGRlbGV0ZU9uZUZpbGUoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyByZXBvSW5mbyEub3duZXIgKyBcIiZyZXBvPVwiICsgcmVwb0luZm8hLnJlcG8gKyBcIiZwYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVQYXRoKSArIFwiJmJyYW5jaD1cIiArIHJlcG9JbmZvIS5icmFuY2gpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBnZXRTaGEocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gZG9EZWxldGUoZGF0YTogeyBzaGE6IHN0cmluZyB9KSB7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaChcIi9hcGkvZ2l0aHViL2ZpbGVzXCIsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBvd25lcjogcmVwb0luZm8hLm93bmVyLFxuICAgICAgICAgICAgICAgICAgcmVwbzogcmVwb0luZm8hLnJlcG8sXG4gICAgICAgICAgICAgICAgICBwYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgICAgICAgICAgIHNoYTogZGF0YS5zaGEsXG4gICAgICAgICAgICAgICAgICBicmFuY2g6IHJlcG9JbmZvIS5icmFuY2gsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gaWdub3JlKCkgeyByZXR1cm47IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2hhaW4udGhlbihmdW5jdGlvbiByZWZyZXNoKCkgeyBmZXRjaFRyZWUoKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyByZXBvSW5mby5vd25lciArIFwiJnJlcG89XCIgKyByZXBvSW5mby5yZXBvICsgXCImcGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChub2RlLnBhdGgpICsgXCImYnJhbmNoPVwiICsgcmVwb0luZm8uYnJhbmNoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiBnZXRTaGEocmVzKSB7IHJldHVybiByZXMuanNvbigpOyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiBkb0RlbGV0ZShkYXRhOiB7IHNoYTogc3RyaW5nIH0pIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2goXCIvYXBpL2dpdGh1Yi9maWxlc1wiLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgb3duZXI6IHJlcG9JbmZvIS5vd25lcixcbiAgICAgICAgICAgICAgcmVwbzogcmVwb0luZm8hLnJlcG8sXG4gICAgICAgICAgICAgIHBhdGg6IG5vZGUucGF0aCxcbiAgICAgICAgICAgICAgc2hhOiBkYXRhLnNoYSxcbiAgICAgICAgICAgICAgYnJhbmNoOiByZXBvSW5mbyEuYnJhbmNoLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlZnJlc2goKSB7IGZldGNoVHJlZSgpOyB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsZWN0RmlsZXMobm9kZTogRmlsZVRyZWVOb2RlKTogc3RyaW5nW10ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwiZmlsZVwiKSByZXR1cm4gW25vZGUucGF0aF07XG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goLi4uY29sbGVjdEZpbGVzKGNoaWxkKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDb3B5UGF0aChub2RlOiBGaWxlVHJlZU5vZGUpIHtcbiAgICBjbG9zZUNvbnRleHRNZW51KCk7XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobm9kZS5wYXRoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUlubGluZVN1Ym1pdCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgaWYgKCF2YWx1ZS50cmltKCkgfHwgIXJlcG9JbmZvIHx8ICFrZXlzU3RvcmVkKSB7XG4gICAgICBzZXRJbmxpbmVJbnB1dChudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xuXG4gICAgaWYgKGlubGluZUlucHV0Py50eXBlID09PSBcInJlbmFtZVwiICYmIGlubGluZUlucHV0Lm9yaWdpbmFsUGF0aCkge1xuICAgICAgY29uc3Qgb2xkUGF0aCA9IGlubGluZUlucHV0Lm9yaWdpbmFsUGF0aDtcbiAgICAgIGNvbnN0IHBhcmVudERpciA9IG9sZFBhdGguaW5jbHVkZXMoXCIvXCIpID8gb2xkUGF0aC5zdWJzdHJpbmcoMCwgb2xkUGF0aC5sYXN0SW5kZXhPZihcIi9cIikpICsgXCIvXCIgOiBcIlwiO1xuICAgICAgY29uc3QgbmV3UGF0aCA9IHBhcmVudERpciArIHRyaW1tZWQ7XG5cbiAgICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyByZXBvSW5mby5vd25lciArIFwiJnJlcG89XCIgKyByZXBvSW5mby5yZXBvICsgXCImcGF0aD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvbGRQYXRoKSArIFwiJmJyYW5jaD1cIiArIHJlcG9JbmZvLmJyYW5jaClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gZ2V0T2xkKHJlcykgeyByZXR1cm4gcmVzLmpzb24oKTsgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gY3JlYXRlTmV3KGRhdGE6IHsgY29udGVudDogc3RyaW5nOyBzaGE6IHN0cmluZyB9KSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIG93bmVyOiByZXBvSW5mbyEub3duZXIsXG4gICAgICAgICAgICAgIHJlcG86IHJlcG9JbmZvIS5yZXBvLFxuICAgICAgICAgICAgICBwYXRoOiBuZXdQYXRoLFxuICAgICAgICAgICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQsXG4gICAgICAgICAgICAgIGJyYW5jaDogcmVwb0luZm8hLmJyYW5jaCxcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZW5hbWUgXCIgKyBvbGRQYXRoICsgXCIgdG8gXCIgKyBuZXdQYXRoLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbiBkZWxldGVPbGQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goXCIvYXBpL2dpdGh1Yi9maWxlc1wiLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgb3duZXI6IHJlcG9JbmZvIS5vd25lcixcbiAgICAgICAgICAgICAgICByZXBvOiByZXBvSW5mbyEucmVwbyxcbiAgICAgICAgICAgICAgICBwYXRoOiBvbGRQYXRoLFxuICAgICAgICAgICAgICAgIHNoYTogZGF0YS5zaGEsXG4gICAgICAgICAgICAgICAgYnJhbmNoOiByZXBvSW5mbyEuYnJhbmNoLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiByZWZyZXNoKCkgeyBmZXRjaFRyZWUoKTsgfSk7XG4gICAgfSBlbHNlIGlmIChpbmxpbmVJbnB1dD8udHlwZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGlubGluZUlucHV0LnBhcmVudFBhdGggPyBpbmxpbmVJbnB1dC5wYXJlbnRQYXRoICsgXCIvXCIgKyB0cmltbWVkIDogdHJpbW1lZDtcbiAgICAgIGNvbnN0IGtlZXBQYXRoID0gZm9sZGVyUGF0aCArIFwiLy5naXRrZWVwXCI7XG5cbiAgICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG93bmVyOiByZXBvSW5mby5vd25lcixcbiAgICAgICAgICByZXBvOiByZXBvSW5mby5yZXBvLFxuICAgICAgICAgIHBhdGg6IGtlZXBQYXRoLFxuICAgICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgICAgYnJhbmNoOiByZXBvSW5mby5icmFuY2gsXG4gICAgICAgICAgbWVzc2FnZTogXCJDcmVhdGUgZm9sZGVyIFwiICsgZm9sZGVyUGF0aCxcbiAgICAgICAgfSksXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIHJlZnJlc2goKSB7IGZldGNoVHJlZSgpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsZVBhdGggPSBpbmxpbmVJbnB1dD8ucGFyZW50UGF0aCA/IGlubGluZUlucHV0LnBhcmVudFBhdGggKyBcIi9cIiArIHRyaW1tZWQgOiB0cmltbWVkO1xuXG4gICAgICBmZXRjaChcIi9hcGkvZ2l0aHViL2ZpbGVzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBvd25lcjogcmVwb0luZm8ub3duZXIsXG4gICAgICAgICAgcmVwbzogcmVwb0luZm8ucmVwbyxcbiAgICAgICAgICBwYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgIGJyYW5jaDogcmVwb0luZm8uYnJhbmNoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiQ3JlYXRlIFwiICsgZmlsZVBhdGgsXG4gICAgICAgIH0pLFxuICAgICAgfSkudGhlbihmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgICBmZXRjaFRyZWUoKTtcbiAgICAgICAgcm91dGVyLnB1c2goXCIvYm9vay9cIiArIGZpbGVQYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldElubGluZUlucHV0KG51bGwpO1xuICB9XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGZvY3VzSW5wdXQoKSB7XG4gICAgaWYgKGlubGluZUlucHV0ICYmIGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIGlmIChpbmxpbmVJbnB1dC50eXBlID09PSBcInJlbmFtZVwiKSB7XG4gICAgICAgIGNvbnN0IGRvdElkeCA9IGlubGluZUlucHV0LmluaXRpYWxWYWx1ZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgICAgIGlmIChkb3RJZHggPiAwKSB7XG4gICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBkb3RJZHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpbmxpbmVJbnB1dF0pO1xuXG4gIGZ1bmN0aW9uIHJlbmRlcklubGluZUlucHV0KGRlcHRoOiBudW1iZXIpIHtcbiAgICBpZiAoIWlubGluZUlucHV0KSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgIHBhZGRpbmdMZWZ0OiA4ICsgZGVwdGggKiAxNixcbiAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDgsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxJbmxpbmVJbnB1dEZpZWxkXG4gICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICBpbml0aWFsVmFsdWU9e2lubGluZUlucHV0LmluaXRpYWxWYWx1ZX1cbiAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlSW5saW5lU3VibWl0fVxuICAgICAgICAgIG9uQ2FuY2VsPXtmdW5jdGlvbiBjYW5jZWwoKSB7IHNldElubGluZUlucHV0KG51bGwpOyB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck5vZGUobm9kZTogRmlsZVRyZWVOb2RlLCBkZXB0aDogbnVtYmVyKSB7XG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkLmhhcyhub2RlLnBhdGgpO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gY3VycmVudENoYXB0ZXIgPT09IG5vZGUucGF0aCB8fCBwYXRobmFtZSA9PT0gXCIvYm9vay9cIiArIG5vZGUucGF0aDtcblxuICAgIGlmIChub2RlLnR5cGUgPT09IFwiZGlyXCIpIHtcbiAgICAgIGNvbnN0IHNob3dJbmxpbmVIZXJlID0gaW5saW5lSW5wdXQgJiYgaW5saW5lSW5wdXQucGFyZW50UGF0aCA9PT0gbm9kZS5wYXRoICYmIGlubGluZUlucHV0LnR5cGUgIT09IFwicmVuYW1lXCI7XG4gICAgICBjb25zdCBzaG93UmVuYW1lSGVyZSA9IGlubGluZUlucHV0ICYmIGlubGluZUlucHV0LnR5cGUgPT09IFwicmVuYW1lXCIgJiYgaW5saW5lSW5wdXQub3JpZ2luYWxQYXRoID09PSBub2RlLnBhdGg7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYga2V5PXtub2RlLnBhdGh9PlxuICAgICAgICAgIHtzaG93UmVuYW1lSGVyZSA/IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjgsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDggKyBkZXB0aCAqIDE2LFxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogOCxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPElubGluZUlucHV0RmllbGRcbiAgICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZT17aW5saW5lSW5wdXQhLmluaXRpYWxWYWx1ZX1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdD17aGFuZGxlSW5saW5lU3VibWl0fVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXtmdW5jdGlvbiBjYW5jZWwoKSB7IHNldElubGluZUlucHV0KG51bGwpOyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gb25DbGljaygpIHsgdG9nZ2xlRm9sZGVyKG5vZGUucGF0aCk7IH19XG4gICAgICAgICAgICAgIG9uQ29udGV4dE1lbnU9e2Z1bmN0aW9uIG9uQ3R4KGUpIHsgaGFuZGxlQ29udGV4dE1lbnUoZSwgbm9kZSk7IH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiA4ICsgZGVwdGggKiAxNixcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDgsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtkZXB0aCA+IDAgJiYgQXJyYXkuZnJvbSh7IGxlbmd0aDogZGVwdGggfSkubWFwKGZ1bmN0aW9uIHJlbmRlckd1aWRlKF8sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxNiArIGkgKiAxNixcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAge2lzRXhwYW5kZWQgPyAoXG4gICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIHNpemU9ezE0fSBzdHJva2VXaWR0aD17MS41fSBzdHlsZT17eyBmbGV4U2hyaW5rOiAwLCBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiIH19IC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gc3R5bGU9e3sgZmxleFNocmluazogMCwgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiB9fSAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7aXNFeHBhbmRlZCA/IChcbiAgICAgICAgICAgICAgICA8Rm9sZGVyT3BlbiBzaXplPXsxNn0gc3Ryb2tlV2lkdGg9ezEuNX0gc3R5bGU9e3sgZmxleFNocmluazogMCwgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiB9fSAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxGb2xkZXJDbG9zZWQgc2l6ZT17MTZ9IHN0cm9rZVdpZHRoPXsxLjV9IHN0eWxlPXt7IGZsZXhTaHJpbms6IDAsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIgfX0gLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsXG4gICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtub2RlLm5hbWV9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAge3Nob3dJbmxpbmVIZXJlICYmIHJlbmRlcklubGluZUlucHV0KGRlcHRoICsgMSl9XG4gICAgICAgICAgICAgIHtub2RlLmNoaWxkcmVuPy5tYXAoZnVuY3Rpb24gcmVuZGVyQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyTm9kZShjaGlsZCwgZGVwdGggKyAxKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpY29uOiBGaWxlSWNvbiwgY29sb3I6IGljb25Db2xvciB9ID0gZ2V0RmlsZUljb24obm9kZS5uYW1lLCBub2RlLnBhdGgpO1xuICAgIGNvbnN0IHNob3dSZW5hbWVIZXJlID0gaW5saW5lSW5wdXQgJiYgaW5saW5lSW5wdXQudHlwZSA9PT0gXCJyZW5hbWVcIiAmJiBpbmxpbmVJbnB1dC5vcmlnaW5hbFBhdGggPT09IG5vZGUucGF0aDtcblxuICAgIGlmIChzaG93UmVuYW1lSGVyZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGtleT17bm9kZS5wYXRofVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDggKyBkZXB0aCAqIDE2ICsgMTgsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDgsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJbmxpbmVJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlPXtpbmxpbmVJbnB1dCEuaW5pdGlhbFZhbHVlfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUlubGluZVN1Ym1pdH1cbiAgICAgICAgICAgIG9uQ2FuY2VsPXtmdW5jdGlvbiBjYW5jZWwoKSB7IHNldElubGluZUlucHV0KG51bGwpOyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBrZXk9e25vZGUucGF0aH1cbiAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gb25DbGljaygpIHsgaGFuZGxlRmlsZUNsaWNrKG5vZGUpOyB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXtmdW5jdGlvbiBvbkN0eChlKSB7IGhhbmRsZUNvbnRleHRNZW51KGUsIG5vZGUpOyB9fVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgaGVpZ2h0OiAyOCxcbiAgICAgICAgICBwYWRkaW5nTGVmdDogOCArIGRlcHRoICogMTYgKyAxOCxcbiAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDgsXG4gICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzQWN0aXZlID8gXCJyZ2JhKHZhcigtLWNvbG9yLWFjY2VudC1yZ2IsIDk5LCAxMDIsIDI0MSksIDAuMDgpXCIgOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGlzQWN0aXZlID8gXCJyZ2JhKHZhcigtLWNvbG9yLWFjY2VudC1yZ2IsIDk5LCAxMDIsIDI0MSksIDAuMDgpXCIgOiBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7ZGVwdGggPiAwICYmIEFycmF5LmZyb20oeyBsZW5ndGg6IGRlcHRoIH0pLm1hcChmdW5jdGlvbiByZW5kZXJHdWlkZShfLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogMTYgKyBpICogMTYsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICAgIDxGaWxlSWNvblxuICAgICAgICAgIHNpemU9ezE2fVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXsxLjV9XG4gICAgICAgICAgc3R5bGU9e3sgZmxleFNocmluazogMCwgY29sb3I6IGljb25Db2xvciA/PyBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgY29sb3I6IGlzQWN0aXZlID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAyLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7bm9kZS5uYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICBwYWRkaW5nOiAyNCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPExvYWRlcjIgc2l6ZT17MTZ9IHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGluIDFzIGxpbmVhciBpbmZpbml0ZVwiIH19IC8+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMyB9fT5Mb2FkaW5nIGZpbGVzLi4uPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHJvb3RJbmxpbmUgPSBpbmxpbmVJbnB1dCAmJiBpbmxpbmVJbnB1dC5wYXJlbnRQYXRoID09PSBcIlwiICYmIGlubGluZUlucHV0LnR5cGUgIT09IFwicmVuYW1lXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX0+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgcGFkZGluZzogXCI4cHggMTJweCA0cHhcIixcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4wNWVtXCIsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBFeHBsb3JlclxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogMiB9fT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBvbk5ld0ZpbGUoKSB7IGhhbmRsZU5ld0ZpbGUoXCJcIik7IH19XG4gICAgICAgICAgICB0aXRsZT1cIk5ldyBGaWxlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgd2lkdGg6IDIyLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDIyLFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIG9uRW50ZXIoZSkgeyBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjsgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiOyB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQbHVzIHNpemU9ezE0fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIG9uTmV3Rm9sZGVyKCkgeyBoYW5kbGVOZXdGb2xkZXIoXCJcIik7IH19XG4gICAgICAgICAgICB0aXRsZT1cIk5ldyBGb2xkZXJcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB3aWR0aDogMjIsXG4gICAgICAgICAgICAgIGhlaWdodDogMjIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiOyB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBvbkxlYXZlKGUpIHsgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcInRyYW5zcGFyZW50XCI7IH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZvbGRlclBsdXMgc2l6ZT17MTR9IHN0cm9rZVdpZHRoPXsxLjV9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVmcmVzaH1cbiAgICAgICAgICAgIHRpdGxlPVwiUmVmcmVzaFwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiAyMixcbiAgICAgICAgICAgICAgaGVpZ2h0OiAyMixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHsgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7IH19XG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoZSkgeyBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwidHJhbnNwYXJlbnRcIjsgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Um90YXRlQ3dcbiAgICAgICAgICAgICAgc2l6ZT17MTR9XG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsxLjV9XG4gICAgICAgICAgICAgIHN0eWxlPXtyZWZyZXNoaW5nID8geyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBvdmVyZmxvd1k6IFwiYXV0b1wiLCBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsIHBhZGRpbmdCb3R0b206IDggfX0+XG4gICAgICAgIHtyb290SW5saW5lICYmIHJlbmRlcklubGluZUlucHV0KDApfVxuICAgICAgICB7dHJlZS5tYXAoZnVuY3Rpb24gcmVuZGVyUm9vdChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlck5vZGUobm9kZSwgMCk7XG4gICAgICAgIH0pfVxuICAgICAgICB7dHJlZS5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogMjQsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZvbGRlckNsb3NlZCBzaXplPXszMn0gc3Ryb2tlV2lkdGg9ezF9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNSB9fSAvPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEzIH19Pk5vIGZpbGVzIGZvdW5kPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtjb250ZXh0TWVudSAmJiBjb250ZXh0TWVudS5ub2RlICYmIChcbiAgICAgICAgPENvbnRleHRNZW51UG9wdXBcbiAgICAgICAgICB4PXtjb250ZXh0TWVudS54fVxuICAgICAgICAgIHk9e2NvbnRleHRNZW51Lnl9XG4gICAgICAgICAgbm9kZT17Y29udGV4dE1lbnUubm9kZX1cbiAgICAgICAgICBvbk5ld0ZpbGU9e2hhbmRsZU5ld0ZpbGV9XG4gICAgICAgICAgb25OZXdGb2xkZXI9e2hhbmRsZU5ld0ZvbGRlcn1cbiAgICAgICAgICBvblJlbmFtZT17aGFuZGxlUmVuYW1lfVxuICAgICAgICAgIG9uRGVsZXRlPXtoYW5kbGVEZWxldGV9XG4gICAgICAgICAgb25Db3B5UGF0aD17aGFuZGxlQ29weVBhdGh9XG4gICAgICAgICAgb25DbG9zZT17Y2xvc2VDb250ZXh0TWVudX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIElubGluZUlucHV0RmllbGRQcm9wcyB7XG4gIGluaXRpYWxWYWx1ZTogc3RyaW5nO1xuICBvblN1Ym1pdDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBJbmxpbmVJbnB1dEZpZWxkID0gZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBJbmxpbmVJbnB1dEZpZWxkUHJvcHM+KFxuICBmdW5jdGlvbiBJbmxpbmVJbnB1dEZpZWxkKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKHByb3BzLmluaXRpYWxWYWx1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIG9uQ2hhbmdlKGUpIHsgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpOyB9fVxuICAgICAgICBvbktleURvd249e2Z1bmN0aW9uIG9uS2V5KGUpIHtcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgcHJvcHMub25TdWJtaXQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIHByb3BzLm9uQ2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBvbkJsdXI9e2Z1bmN0aW9uIG9uQmx1cigpIHtcbiAgICAgICAgICBpZiAodmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICBwcm9wcy5vblN1Ym1pdCh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzLm9uQ2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IDIyLFxuICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogMyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBwYWRkaW5nOiBcIjAgNnB4XCIsXG4gICAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbik7XG5cbmludGVyZmFjZSBDb250ZXh0TWVudVBvcHVwUHJvcHMge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgbm9kZTogRmlsZVRyZWVOb2RlO1xuICBvbk5ld0ZpbGU6IChwYXJlbnRQYXRoOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uTmV3Rm9sZGVyOiAocGFyZW50UGF0aDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblJlbmFtZTogKG5vZGU6IEZpbGVUcmVlTm9kZSkgPT4gdm9pZDtcbiAgb25EZWxldGU6IChub2RlOiBGaWxlVHJlZU5vZGUpID0+IHZvaWQ7XG4gIG9uQ29weVBhdGg6IChub2RlOiBGaWxlVHJlZU5vZGUpID0+IHZvaWQ7XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIENvbnRleHRNZW51UG9wdXAoe1xuICB4LFxuICB5LFxuICBub2RlLFxuICBvbk5ld0ZpbGUsXG4gIG9uTmV3Rm9sZGVyLFxuICBvblJlbmFtZSxcbiAgb25EZWxldGUsXG4gIG9uQ29weVBhdGgsXG4gIG9uQ2xvc2UsXG59OiBDb250ZXh0TWVudVBvcHVwUHJvcHMpIHtcbiAgY29uc3QgcGFyZW50UGF0aCA9IG5vZGUudHlwZSA9PT0gXCJkaXJcIiA/IG5vZGUucGF0aCA6IChub2RlLnBhdGguaW5jbHVkZXMoXCIvXCIpID8gbm9kZS5wYXRoLnN1YnN0cmluZygwLCBub2RlLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpKSA6IFwiXCIpO1xuXG4gIGNvbnN0IGl0ZW1zID0gW1xuICAgIHsgbGFiZWw6IFwiTmV3IEZpbGVcIiwgaWNvbjogUGx1cywgYWN0aW9uOiBmdW5jdGlvbiBuZXdGaWxlKCkgeyBvbk5ld0ZpbGUocGFyZW50UGF0aCk7IH0gfSxcbiAgICB7IGxhYmVsOiBcIk5ldyBGb2xkZXJcIiwgaWNvbjogRm9sZGVyUGx1cywgYWN0aW9uOiBmdW5jdGlvbiBuZXdGb2xkZXIoKSB7IG9uTmV3Rm9sZGVyKHBhcmVudFBhdGgpOyB9IH0sXG4gICAgeyBsYWJlbDogXCJkaXZpZGVyXCIsIGljb246IG51bGwsIGFjdGlvbjogZnVuY3Rpb24gbm9vcCgpIHt9IH0sXG4gICAgeyBsYWJlbDogXCJSZW5hbWVcIiwgaWNvbjogUGVuY2lsLCBhY3Rpb246IGZ1bmN0aW9uIHJlbmFtZSgpIHsgb25SZW5hbWUobm9kZSk7IH0gfSxcbiAgICB7IGxhYmVsOiBcIkRlbGV0ZVwiLCBpY29uOiBUcmFzaDIsIGFjdGlvbjogZnVuY3Rpb24gZGVsKCkgeyBvbkRlbGV0ZShub2RlKTsgfSB9LFxuICAgIHsgbGFiZWw6IFwiZGl2aWRlcjJcIiwgaWNvbjogbnVsbCwgYWN0aW9uOiBmdW5jdGlvbiBub29wKCkge30gfSxcbiAgICB7IGxhYmVsOiBcIkNvcHkgUGF0aFwiLCBpY29uOiBDb3B5LCBhY3Rpb246IGZ1bmN0aW9uIGNvcHkoKSB7IG9uQ29weVBhdGgobm9kZSk7IH0gfSxcbiAgXTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHRvcDogeSxcbiAgICAgICAgbGVmdDogeCxcbiAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgYm94U2hhZG93OiBcIjAgNHB4IDE2cHggcmdiYSgwLDAsMCwwLjE1KVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjRweCAwXCIsXG4gICAgICAgIG1pbldpZHRoOiAxNjAsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICB9fVxuICAgICAgb25DbGljaz17ZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfX1cbiAgICA+XG4gICAgICB7aXRlbXMubWFwKGZ1bmN0aW9uIHJlbmRlckl0ZW0oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5sYWJlbC5zdGFydHNXaXRoKFwiZGl2aWRlclwiKSkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgICBtYXJnaW46IFwiNHB4IDBcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IEljb24gPSBpdGVtLmljb24hO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAga2V5PXtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWN0aW9uKCk7XG4gICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDEycHhcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICBjb2xvcjogaXRlbS5sYWJlbCA9PT0gXCJEZWxldGVcIiA/IFwidmFyKC0tY29sb3ItZXJyb3IpXCIgOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHtcbiAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SWNvbiBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZVJvdXRlciIsInVzZVBhdGhuYW1lIiwiQ2hldnJvblJpZ2h0IiwiQ2hldnJvbkRvd24iLCJGb2xkZXJDbG9zZWQiLCJGb2xkZXJPcGVuIiwiRmlsZVRleHQiLCJGaWxlQ29kZSIsIkZpbGUiLCJCcmFjZXMiLCJUYWJsZSIsIkltYWdlIiwiSW1hZ2VJY29uIiwiQm9va09wZW4iLCJNaWMiLCJVc2VycyIsIkxpc3RUcmVlIiwiUm90YXRlQ3ciLCJMb2FkZXIyIiwiUGx1cyIsIkZvbGRlclBsdXMiLCJQZW5jaWwiLCJUcmFzaDIiLCJDb3B5IiwidXNlQXBwU3RvcmUiLCJnZXRGaWxlSWNvbiIsIm5hbWUiLCJwYXRoIiwiaWNvbiIsImNvbG9yIiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsInVuZGVmaW5lZCIsImJ1aWxkVHJlZSIsInBhdGhzIiwicm9vdCIsInR5cGUiLCJjaGlsZHJlbiIsImZpbGVQYXRoIiwicGFydHMiLCJjdXJyZW50IiwiaSIsImxlbmd0aCIsInBhcnQiLCJjdXJyZW50UGF0aCIsInNsaWNlIiwiam9pbiIsImlzRmlsZSIsImV4aXN0aW5nIiwiZmluZCIsImZpbmRDaGlsZCIsImMiLCJwdXNoIiwic29ydE5vZGVzIiwibm9kZXMiLCJzb3J0IiwiY29tcGFyZSIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsIm1hcCIsInJlY3Vyc2UiLCJub2RlIiwiZ2V0RXhwYW5kZWRLZXkiLCJyZXBvRnVsbE5hbWUiLCJGaWxlRXhwbG9yZXIiLCJyb3V0ZXIiLCJwYXRobmFtZSIsImtleXNTdG9yZWQiLCJzZWxlY3RLZXlzU3RvcmVkIiwicyIsInByZWZlcmVuY2VzIiwiY3VycmVudENoYXB0ZXIiLCJzZWxlY3RDaGFwdGVyIiwiZWRpdG9yIiwidHJlZSIsInNldFRyZWUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImV4cGFuZGVkIiwic2V0RXhwYW5kZWQiLCJTZXQiLCJjb250ZXh0TWVudSIsInNldENvbnRleHRNZW51IiwiaW5saW5lSW5wdXQiLCJzZXRJbmxpbmVJbnB1dCIsInJlcG9JbmZvIiwic2V0UmVwb0luZm8iLCJyZWZyZXNoaW5nIiwic2V0UmVmcmVzaGluZyIsImNvbnRhaW5lclJlZiIsImlucHV0UmVmIiwibG9hZEV4cGFuZGVkU3RhdGUiLCJmdWxsTmFtZSIsInJhdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJzYXZlRXhwYW5kZWRTdGF0ZSIsImV4cGFuZGVkU2V0Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIkFycmF5IiwiZnJvbSIsImZldGNoVHJlZSIsImJvb2tEYXRhIiwib3duZXIiLCJyZXBvIiwiZnVsbF9uYW1lIiwiYnJhbmNoIiwiZGVmYXVsdF9icmFuY2giLCJzYXZlZEV4cGFuZGVkIiwic2l6ZSIsImZldGNoIiwidGhlbiIsImhhbmRsZVJlcyIsInJlcyIsImpzb24iLCJoYW5kbGVEYXRhIiwiZGF0YSIsImZpbGVQYXRocyIsImZpbHRlciIsImlzQmxvYiIsIml0ZW0iLCJnZXRQYXRoIiwiY2F0Y2giLCJoYW5kbGVFcnIiLCJmaW5hbGx5IiwiZG9uZSIsIm9uTW91bnQiLCJoYW5kbGVSZWZyZXNoIiwidG9nZ2xlRm9sZGVyIiwidXBkYXRlIiwicHJldiIsIm5leHQiLCJoYXMiLCJkZWxldGUiLCJhZGQiLCJoYW5kbGVGaWxlQ2xpY2siLCJoYW5kbGVDb250ZXh0TWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJjbG9zZUNvbnRleHRNZW51IiwiY2xvc2VPbkNsaWNrIiwiaGFuZGxlQ2xpY2siLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYW51cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVOZXdGaWxlIiwicGFyZW50UGF0aCIsImZvbGRlclBhdGgiLCJpbml0aWFsVmFsdWUiLCJoYW5kbGVOZXdGb2xkZXIiLCJoYW5kbGVSZW5hbWUiLCJpbmNsdWRlcyIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwib3JpZ2luYWxQYXRoIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybWVkIiwiY29uZmlybSIsImZpbGVzVG9EZWxldGUiLCJjb2xsZWN0RmlsZXMiLCJjaGFpbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGVsZXRlT25lRmlsZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldFNoYSIsImRvRGVsZXRlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJzaGEiLCJpZ25vcmUiLCJyZWZyZXNoIiwicmVzdWx0IiwiY2hpbGQiLCJoYW5kbGVDb3B5UGF0aCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImhhbmRsZUlubGluZVN1Ym1pdCIsInZhbHVlIiwidHJpbSIsInRyaW1tZWQiLCJvbGRQYXRoIiwicGFyZW50RGlyIiwibmV3UGF0aCIsImdldE9sZCIsImNyZWF0ZU5ldyIsImNvbnRlbnQiLCJtZXNzYWdlIiwiZGVsZXRlT2xkIiwia2VlcFBhdGgiLCJmb2N1c0lucHV0IiwiZm9jdXMiLCJkb3RJZHgiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInNlbGVjdCIsInJlbmRlcklubGluZUlucHV0IiwiZGVwdGgiLCJkaXYiLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiaGVpZ2h0IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJJbmxpbmVJbnB1dEZpZWxkIiwicmVmIiwib25TdWJtaXQiLCJvbkNhbmNlbCIsImNhbmNlbCIsInJlbmRlck5vZGUiLCJpc0V4cGFuZGVkIiwiaXNBY3RpdmUiLCJzaG93SW5saW5lSGVyZSIsInNob3dSZW5hbWVIZXJlIiwib25DbGljayIsIm9uQ29udGV4dE1lbnUiLCJvbkN0eCIsImN1cnNvciIsImdhcCIsInBvc2l0aW9uIiwidXNlclNlbGVjdCIsIm9uTW91c2VFbnRlciIsIm9uRW50ZXIiLCJjdXJyZW50VGFyZ2V0IiwiYmFja2dyb3VuZENvbG9yIiwib25Nb3VzZUxlYXZlIiwib25MZWF2ZSIsInJlbmRlckd1aWRlIiwiXyIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJ3aWR0aCIsIm9wYWNpdHkiLCJzdHJva2VXaWR0aCIsImZsZXhTaHJpbmsiLCJzcGFuIiwiZmxleCIsIm92ZXJmbG93IiwidGV4dE92ZXJmbG93Iiwid2hpdGVTcGFjZSIsImZvbnRXZWlnaHQiLCJtYXJnaW5MZWZ0IiwicmVuZGVyQ2hpbGQiLCJGaWxlSWNvbiIsImljb25Db2xvciIsImp1c3RpZnlDb250ZW50IiwicGFkZGluZyIsImFuaW1hdGlvbiIsImZvbnRTaXplIiwicm9vdElubGluZSIsImZsZXhEaXJlY3Rpb24iLCJ0ZXh0VHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImJ1dHRvbiIsIm9uTmV3RmlsZSIsInRpdGxlIiwiYm9yZGVyIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsIm9uTmV3Rm9sZGVyIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwicGFkZGluZ0JvdHRvbSIsInJlbmRlclJvb3QiLCJ0ZXh0QWxpZ24iLCJDb250ZXh0TWVudVBvcHVwIiwib25SZW5hbWUiLCJvbkRlbGV0ZSIsIm9uQ29weVBhdGgiLCJvbkNsb3NlIiwiZm9yd2FyZFJlZiIsInByb3BzIiwic2V0VmFsdWUiLCJpbnB1dCIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlEb3duIiwib25LZXkiLCJrZXkiLCJvbkJsdXIiLCJmb250RmFtaWx5Iiwib3V0bGluZSIsIml0ZW1zIiwibGFiZWwiLCJhY3Rpb24iLCJuZXdGaWxlIiwibmV3Rm9sZGVyIiwibm9vcCIsInJlbmFtZSIsImRlbCIsImNvcHkiLCJ6SW5kZXgiLCJib3hTaGFkb3ciLCJtaW5XaWR0aCIsInJlbmRlckl0ZW0iLCJzdGFydHNXaXRoIiwibWFyZ2luIiwiSWNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/FileExplorer.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/FindPanel.tsx":
/*!******************************************!*\
  !*** ./components/sidebar/FindPanel.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FindPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/case-sensitive.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/regex.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/replace.js\");\n/* harmony import */ var _barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CaseSensitive,ChevronDown,ChevronRight,Loader2,Regex,Replace,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nfunction FindPanel() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [replaceText, setReplaceText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showReplace, setShowReplace] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [caseSensitive, setCaseSensitive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [useRegex, setUseRegex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [hasSearched, setHasSearched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [collapsedFiles, setCollapsedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const fileCacheRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const treeLoadedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const debounceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    function getRepoInfo() {\n        const config = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_4__.getBookConfig)(currentBook);\n        if (!config) return null;\n        return {\n            owner: config.owner,\n            repo: config.repo,\n            branch: config.branch\n        };\n    }\n    async function fetchTree(owner, repo, branch) {\n        const res = await fetch(\"/api/github/tree?owner=\" + owner + \"&repo=\" + repo + \"&branch=\" + branch);\n        if (!res.ok) return [];\n        const data = await res.json();\n        const tree = data.tree ?? [];\n        return tree.filter(function isBlob(item) {\n            return item.type === \"blob\" && /\\.(md|mdx|txt|markdown)$/i.test(item.path);\n        }).map(function getPath(item) {\n            return item.path;\n        });\n    }\n    async function fetchFileContent(owner, repo, branch, path) {\n        const cached = fileCacheRef.current.get(path);\n        if (cached) return cached;\n        const res = await fetch(\"/api/github/files?owner=\" + owner + \"&repo=\" + repo + \"&path=\" + encodeURIComponent(path) + \"&branch=\" + branch);\n        if (!res.ok) return null;\n        const data = await res.json();\n        if (!data.content && data.content !== \"\") return null;\n        const entry = {\n            content: data.content,\n            sha: data.sha\n        };\n        fileCacheRef.current.set(path, entry);\n        return entry;\n    }\n    async function loadAllFiles(owner, repo, branch) {\n        if (treeLoadedRef.current) return;\n        const paths = await fetchTree(owner, repo, branch);\n        await Promise.allSettled(paths.map(function fetchOne(p) {\n            return fetchFileContent(owner, repo, branch, p);\n        }));\n        treeLoadedRef.current = true;\n    }\n    function searchFiles(term) {\n        if (!term) return [];\n        const found = [];\n        let regex;\n        try {\n            if (useRegex) {\n                regex = new RegExp(term, caseSensitive ? \"g\" : \"gi\");\n            } else {\n                const escaped = term.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n                regex = new RegExp(escaped, caseSensitive ? \"g\" : \"gi\");\n            }\n        } catch  {\n            return [];\n        }\n        fileCacheRef.current.forEach(function scanFile(entry, filePath) {\n            const lines = entry.content.split(\"\\n\");\n            for(let i = 0; i < lines.length; i++){\n                const line = lines[i];\n                regex.lastIndex = 0;\n                let m = regex.exec(line);\n                while(m !== null){\n                    found.push({\n                        filePath,\n                        fileName: filePath.split(\"/\").pop() ?? filePath,\n                        lineNumber: i + 1,\n                        lineContent: line,\n                        matchStart: m.index,\n                        matchEnd: m.index + m[0].length\n                    });\n                    if (m[0].length === 0) {\n                        regex.lastIndex++;\n                    }\n                    m = regex.exec(line);\n                }\n            }\n        });\n        return found;\n    }\n    function runSearch(term) {\n        if (!term.trim()) {\n            setResults([]);\n            setHasSearched(false);\n            setLoading(false);\n            return;\n        }\n        const info = getRepoInfo();\n        if (!info) {\n            setLoading(false);\n            return;\n        }\n        setLoading(true);\n        setHasSearched(true);\n        loadAllFiles(info.owner, info.repo, info.branch).then(function afterLoad() {\n            const matches = searchFiles(term.trim());\n            setResults(matches);\n            setLoading(false);\n        }).catch(function onErr() {\n            setLoading(false);\n        });\n    }\n    function handleQueryChange(e) {\n        const val = e.target.value;\n        setQuery(val);\n        if (debounceRef.current) clearTimeout(debounceRef.current);\n        debounceRef.current = setTimeout(function debouncedSearch() {\n            runSearch(val);\n        }, 300);\n    }\n    function handleReplaceChange(e) {\n        setReplaceText(e.target.value);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function rerunOnToggle() {\n        if (query.trim()) {\n            runSearch(query);\n        }\n    }, [\n        caseSensitive,\n        useRegex\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function cleanup() {\n        return function onUnmount() {\n            if (debounceRef.current) clearTimeout(debounceRef.current);\n        };\n    }, []);\n    const grouped = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function groupByFile() {\n        const map = new Map();\n        const order = [];\n        for (const match of results){\n            if (!map.has(match.filePath)) {\n                map.set(match.filePath, []);\n                order.push(match.filePath);\n            }\n            map.get(match.filePath).push(match);\n        }\n        return order.map(function toGroup(fp) {\n            const matches = map.get(fp);\n            return {\n                filePath: fp,\n                fileName: matches[0].fileName,\n                matches\n            };\n        });\n    }, [\n        results\n    ]);\n    const fileCount = grouped.length;\n    const totalCount = results.length;\n    function handleNavigate(filePath) {\n        router.push(\"/book/\" + filePath);\n    }\n    function toggleFileCollapse(filePath) {\n        setCollapsedFiles(function toggle(prev) {\n            const next = new Set(prev);\n            if (next.has(filePath)) {\n                next.delete(filePath);\n            } else {\n                next.add(filePath);\n            }\n            return next;\n        });\n    }\n    function buildRegex(term) {\n        try {\n            if (useRegex) {\n                return new RegExp(term, caseSensitive ? \"g\" : \"gi\");\n            }\n            const escaped = term.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n            return new RegExp(escaped, caseSensitive ? \"g\" : \"gi\");\n        } catch  {\n            return null;\n        }\n    }\n    async function handleReplaceSingle(match) {\n        const info = getRepoInfo();\n        if (!info) return;\n        const cached = fileCacheRef.current.get(match.filePath);\n        if (!cached) return;\n        const lines = cached.content.split(\"\\n\");\n        const lineIdx = match.lineNumber - 1;\n        if (lineIdx < 0 || lineIdx >= lines.length) return;\n        const line = lines[lineIdx];\n        const original = line.slice(match.matchStart, match.matchEnd);\n        let replacement = replaceText;\n        if (useRegex) {\n            const rx = buildRegex(query);\n            if (rx) {\n                rx.lastIndex = 0;\n                const m = rx.exec(original);\n                if (m) {\n                    replacement = original.replace(rx, replaceText);\n                }\n            }\n        }\n        lines[lineIdx] = line.slice(0, match.matchStart) + replacement + line.slice(match.matchEnd);\n        const newContent = lines.join(\"\\n\");\n        fileCacheRef.current.set(match.filePath, {\n            content: newContent,\n            sha: cached.sha\n        });\n        try {\n            const res = await fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: info.owner,\n                    repo: info.repo,\n                    path: match.filePath,\n                    content: newContent,\n                    sha: cached.sha,\n                    branch: info.branch,\n                    message: \"Replace in \" + match.fileName\n                })\n            });\n            if (res.ok) {\n                const data = await res.json();\n                fileCacheRef.current.set(match.filePath, {\n                    content: newContent,\n                    sha: data.sha\n                });\n            }\n        } catch  {}\n        runSearch(query);\n    }\n    async function handleReplaceAll() {\n        const info = getRepoInfo();\n        if (!info || !query.trim()) return;\n        const rx = buildRegex(query.trim());\n        if (!rx) return;\n        const affectedFiles = new Map();\n        fileCacheRef.current.forEach(function replaceInFile(entry, filePath) {\n            rx.lastIndex = 0;\n            if (rx.test(entry.content)) {\n                rx.lastIndex = 0;\n                const newContent = entry.content.replace(rx, replaceText);\n                affectedFiles.set(filePath, newContent);\n                fileCacheRef.current.set(filePath, {\n                    content: newContent,\n                    sha: entry.sha\n                });\n            }\n        });\n        const saves = Array.from(affectedFiles.entries()).map(function saveFile([filePath, newContent]) {\n            const cached = fileCacheRef.current.get(filePath);\n            return fetch(\"/api/github/files\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    owner: info.owner,\n                    repo: info.repo,\n                    path: filePath,\n                    content: newContent,\n                    sha: cached?.sha,\n                    branch: info.branch,\n                    message: \"Replace all in \" + (filePath.split(\"/\").pop() ?? filePath)\n                })\n            }).then(function updateSha(res) {\n                if (res.ok) {\n                    return res.json().then(function applySha(data) {\n                        fileCacheRef.current.set(filePath, {\n                            content: newContent,\n                            sha: data.sha\n                        });\n                    });\n                }\n            }).catch(function noop() {});\n        });\n        await Promise.allSettled(saves);\n        runSearch(query);\n    }\n    function renderHighlightedLine(match) {\n        const before = match.lineContent.slice(Math.max(0, match.matchStart - 50), match.matchStart);\n        const highlighted = match.lineContent.slice(match.matchStart, match.matchEnd);\n        const after = match.lineContent.slice(match.matchEnd, match.matchEnd + 50);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                fontSize: 12\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"var(--color-text-muted)\"\n                    },\n                    children: [\n                        match.matchStart > 50 ? \"\" : \"\",\n                        before\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                    lineNumber: 350,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"var(--color-accent)\",\n                        fontWeight: 600,\n                        backgroundColor: \"color-mix(in srgb, var(--color-accent) 15%, transparent)\",\n                        borderRadius: 2,\n                        padding: \"0 1px\"\n                    },\n                    children: highlighted\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                    lineNumber: 353,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        color: \"var(--color-text-muted)\"\n                    },\n                    children: [\n                        after,\n                        match.matchEnd + 50 < match.lineContent.length ? \"\" : \"\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                    lineNumber: 364,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n            lineNumber: 349,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"12px 12px 8px\",\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"flex-start\",\n                            gap: 4\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function toggleReplace() {\n                                    setShowReplace(!showReplace);\n                                },\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: 22,\n                                    height: 26,\n                                    border: \"none\",\n                                    background: \"transparent\",\n                                    cursor: \"pointer\",\n                                    color: \"var(--color-text-muted)\",\n                                    borderRadius: 4,\n                                    flexShrink: 0,\n                                    marginTop: 2\n                                },\n                                title: showReplace ? \"Hide replace\" : \"Show replace\",\n                                children: showReplace ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                    lineNumber: 400,\n                                    columnNumber: 28\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                    lineNumber: 400,\n                                    columnNumber: 56\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    flex: 1,\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    gap: 4\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: 4,\n                                            padding: \"4px 8px\",\n                                            backgroundColor: \"var(--color-bg)\",\n                                            borderRadius: 6,\n                                            border: \"1px solid var(--color-border)\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                size: 13,\n                                                strokeWidth: 1.5,\n                                                style: {\n                                                    color: \"var(--color-text-muted)\",\n                                                    flexShrink: 0\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 415,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: query,\n                                                onChange: handleQueryChange,\n                                                placeholder: \"Search\",\n                                                style: {\n                                                    flex: 1,\n                                                    border: \"none\",\n                                                    background: \"none\",\n                                                    outline: \"none\",\n                                                    fontSize: 13,\n                                                    color: \"var(--color-text)\",\n                                                    fontFamily: \"inherit\",\n                                                    padding: 0,\n                                                    minWidth: 0\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 416,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: function toggleCase() {\n                                                    setCaseSensitive(!caseSensitive);\n                                                },\n                                                title: \"Match case\",\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\",\n                                                    width: 24,\n                                                    height: 22,\n                                                    border: \"1px solid \" + (caseSensitive ? \"var(--color-accent)\" : \"transparent\"),\n                                                    background: caseSensitive ? \"color-mix(in srgb, var(--color-accent) 12%, transparent)\" : \"transparent\",\n                                                    borderRadius: 4,\n                                                    cursor: \"pointer\",\n                                                    color: caseSensitive ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                                                    flexShrink: 0\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    size: 14,\n                                                    strokeWidth: 1.5\n                                                }, void 0, false, {\n                                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                    lineNumber: 450,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 433,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: function toggleRegex() {\n                                                    setUseRegex(!useRegex);\n                                                },\n                                                title: \"Use regular expression\",\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\",\n                                                    width: 24,\n                                                    height: 22,\n                                                    border: \"1px solid \" + (useRegex ? \"var(--color-accent)\" : \"transparent\"),\n                                                    background: useRegex ? \"color-mix(in srgb, var(--color-accent) 12%, transparent)\" : \"transparent\",\n                                                    borderRadius: 4,\n                                                    cursor: \"pointer\",\n                                                    color: useRegex ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                                                    flexShrink: 0\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    size: 14,\n                                                    strokeWidth: 1.5\n                                                }, void 0, false, {\n                                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                    lineNumber: 469,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 452,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                        lineNumber: 404,\n                                        columnNumber: 13\n                                    }, this),\n                                    showReplace && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: 4,\n                                            padding: \"4px 8px\",\n                                            backgroundColor: \"var(--color-bg)\",\n                                            borderRadius: 6,\n                                            border: \"1px solid var(--color-border)\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                size: 13,\n                                                strokeWidth: 1.5,\n                                                style: {\n                                                    color: \"var(--color-text-muted)\",\n                                                    flexShrink: 0\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 485,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: replaceText,\n                                                onChange: handleReplaceChange,\n                                                placeholder: \"Replace\",\n                                                style: {\n                                                    flex: 1,\n                                                    border: \"none\",\n                                                    background: \"none\",\n                                                    outline: \"none\",\n                                                    fontSize: 13,\n                                                    color: \"var(--color-text)\",\n                                                    fontFamily: \"inherit\",\n                                                    padding: 0,\n                                                    minWidth: 0\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 486,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                        lineNumber: 474,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 403,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                        lineNumber: 381,\n                        columnNumber: 9\n                    }, this),\n                    hasSearched && !loading && results.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"space-between\",\n                            padding: \"6px 4px 2px\",\n                            fontSize: 11,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    totalCount,\n                                    \" result\",\n                                    totalCount !== 1 ? \"s\" : \"\",\n                                    \" in \",\n                                    fileCount,\n                                    \" file\",\n                                    fileCount !== 1 ? \"s\" : \"\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 519,\n                                columnNumber: 13\n                            }, this),\n                            showReplace && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleReplaceAll,\n                                style: {\n                                    border: \"none\",\n                                    background: \"none\",\n                                    cursor: \"pointer\",\n                                    fontSize: 11,\n                                    color: \"var(--color-accent)\",\n                                    fontFamily: \"inherit\",\n                                    padding: \"2px 6px\",\n                                    borderRadius: 4\n                                },\n                                onMouseEnter: function onEnter(e) {\n                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function onLeave(e) {\n                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                },\n                                children: \"Replace All\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 521,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                lineNumber: 380,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflow: \"auto\",\n                    padding: \"0 4px\"\n                },\n                children: [\n                    !query.trim() && !loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            height: \"100%\",\n                            gap: 12,\n                            color: \"var(--color-text-muted)\",\n                            padding: 24,\n                            textAlign: \"center\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                size: 32,\n                                strokeWidth: 1,\n                                style: {\n                                    opacity: 0.5\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 558,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 13\n                                },\n                                children: \"Search your manuscript\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 559,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                        lineNumber: 545,\n                        columnNumber: 11\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            height: \"100%\",\n                            gap: 10,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                size: 20,\n                                strokeWidth: 1.5,\n                                style: {\n                                    animation: \"spin 1s linear infinite\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 575,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 12\n                                },\n                                children: \"Searching files\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 576,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                                children: `@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }`\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                lineNumber: 577,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                        lineNumber: 564,\n                        columnNumber: 11\n                    }, this),\n                    !loading && hasSearched && query.trim() && results.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            height: \"100%\",\n                            color: \"var(--color-text-muted)\",\n                            fontSize: 13\n                        },\n                        children: \"No results found\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                        lineNumber: 582,\n                        columnNumber: 11\n                    }, this),\n                    !loading && grouped.map(function renderGroup(group) {\n                        const isCollapsed = collapsedFiles.has(group.filePath);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: 2\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: function collapseToggle() {\n                                        toggleFileCollapse(group.filePath);\n                                    },\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: 6,\n                                        width: \"100%\",\n                                        padding: \"5px 8px\",\n                                        border: \"none\",\n                                        background: \"transparent\",\n                                        cursor: \"pointer\",\n                                        fontFamily: \"inherit\",\n                                        fontSize: 12,\n                                        fontWeight: 600,\n                                        color: \"var(--color-text)\",\n                                        borderRadius: 4,\n                                        textAlign: \"left\"\n                                    },\n                                    onMouseEnter: function onEnter(e) {\n                                        e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                    },\n                                    onMouseLeave: function onLeave(e) {\n                                        e.currentTarget.style.backgroundColor = \"transparent\";\n                                    },\n                                    children: [\n                                        isCollapsed ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                            lineNumber: 622,\n                                            columnNumber: 32\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                            lineNumber: 622,\n                                            columnNumber: 61\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                flex: 1,\n                                                overflow: \"hidden\",\n                                                textOverflow: \"ellipsis\",\n                                                whiteSpace: \"nowrap\"\n                                            },\n                                            children: group.fileName\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                            lineNumber: 623,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            style: {\n                                                fontSize: 10,\n                                                color: \"var(--color-text-muted)\",\n                                                backgroundColor: \"var(--color-surface)\",\n                                                padding: \"1px 6px\",\n                                                borderRadius: 8,\n                                                fontWeight: 500,\n                                                flexShrink: 0\n                                            },\n                                            children: group.matches.length\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                            lineNumber: 626,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                    lineNumber: 601,\n                                    columnNumber: 15\n                                }, this),\n                                !isCollapsed && group.matches.slice(0, 50).map(function renderMatch(match, idx) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: 4,\n                                            paddingLeft: 24,\n                                            paddingRight: 4\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: function navigate() {\n                                                    handleNavigate(match.filePath);\n                                                },\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"baseline\",\n                                                    gap: 8,\n                                                    flex: 1,\n                                                    padding: \"4px 6px\",\n                                                    border: \"none\",\n                                                    background: \"transparent\",\n                                                    textAlign: \"left\",\n                                                    cursor: \"pointer\",\n                                                    fontFamily: \"inherit\",\n                                                    lineHeight: 1.5,\n                                                    color: \"var(--color-text)\",\n                                                    borderRadius: 4,\n                                                    overflow: \"hidden\",\n                                                    minWidth: 0\n                                                },\n                                                onMouseEnter: function onEnter(e) {\n                                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                                },\n                                                onMouseLeave: function onLeave(e) {\n                                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        style: {\n                                                            fontSize: 10,\n                                                            color: \"var(--color-text-muted)\",\n                                                            fontFamily: \"var(--font-jetbrains-mono), monospace\",\n                                                            flexShrink: 0,\n                                                            minWidth: 28,\n                                                            textAlign: \"right\"\n                                                        },\n                                                        children: match.lineNumber\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                        lineNumber: 675,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        style: {\n                                                            overflow: \"hidden\",\n                                                            textOverflow: \"ellipsis\",\n                                                            whiteSpace: \"nowrap\"\n                                                        },\n                                                        children: renderHighlightedLine(match)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                        lineNumber: 687,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 653,\n                                                columnNumber: 21\n                                            }, this),\n                                            showReplace && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: function doReplace() {\n                                                    handleReplaceSingle(match);\n                                                },\n                                                title: \"Replace\",\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"center\",\n                                                    width: 22,\n                                                    height: 22,\n                                                    border: \"none\",\n                                                    background: \"transparent\",\n                                                    cursor: \"pointer\",\n                                                    color: \"var(--color-text-muted)\",\n                                                    borderRadius: 4,\n                                                    flexShrink: 0\n                                                },\n                                                onMouseEnter: function onEnter(e) {\n                                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                                    e.currentTarget.style.color = \"var(--color-accent)\";\n                                                },\n                                                onMouseLeave: function onLeave(e) {\n                                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                                    e.currentTarget.style.color = \"var(--color-text-muted)\";\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CaseSensitive_ChevronDown_ChevronRight_Loader2_Regex_Replace_Search_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    size: 12,\n                                                    strokeWidth: 1.5\n                                                }, void 0, false, {\n                                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                    lineNumber: 723,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                                lineNumber: 698,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, group.filePath + \":\" + match.lineNumber + \":\" + idx, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                                        lineNumber: 643,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            ]\n                        }, group.filePath, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                            lineNumber: 600,\n                            columnNumber: 13\n                        }, this);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n                lineNumber: 543,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/FindPanel.tsx\",\n        lineNumber: 372,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztnREFDaEM7MERBRUEsNEVBQUM1SyxnSkFBT0E7b0RBQUNrTSxNQUFNO29EQUFJRSxhQUFhOzs7Ozs7Ozs7Ozs7dUNBL0UvQmtCLE1BQU1uSSxRQUFRLEdBQUcsTUFBTXdDLE1BQU01QixVQUFVLEdBQUcsTUFBTThIOzs7OztnQ0FvRjNEOzsyQkFoSVFQLE1BQU1uSSxRQUFROzs7OztvQkFtSTVCOzs7Ozs7Ozs7Ozs7O0FBSVIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NpZGViYXIvRmluZFBhbmVsLnRzeD80YjJiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2gsIFJlcGxhY2UsIENoZXZyb25Eb3duLCBDaGV2cm9uUmlnaHQsIENhc2VTZW5zaXRpdmUsIFJlZ2V4LCBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgZ2V0Qm9va0NvbmZpZyB9IGZyb20gXCJAL2xpYi9ib29rQ29uZmlnXCI7XG5cbmludGVyZmFjZSBGaWxlQ2FjaGUge1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHNoYTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoTWF0Y2gge1xuICBmaWxlUGF0aDogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICBsaW5lTnVtYmVyOiBudW1iZXI7XG4gIGxpbmVDb250ZW50OiBzdHJpbmc7XG4gIG1hdGNoU3RhcnQ6IG51bWJlcjtcbiAgbWF0Y2hFbmQ6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIEdyb3VwZWRSZXN1bHRzIHtcbiAgZmlsZVBhdGg6IHN0cmluZztcbiAgZmlsZU5hbWU6IHN0cmluZztcbiAgbWF0Y2hlczogU2VhcmNoTWF0Y2hbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmluZFBhbmVsKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgY3VycmVudEJvb2sgPSB1c2VBcHBTdG9yZShmdW5jdGlvbiBzZWxlY3RCb29rKHMpIHsgcmV0dXJuIHMuZWRpdG9yLmN1cnJlbnRCb29rOyB9KTtcblxuICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcmVwbGFjZVRleHQsIHNldFJlcGxhY2VUZXh0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2hvd1JlcGxhY2UsIHNldFNob3dSZXBsYWNlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Nhc2VTZW5zaXRpdmUsIHNldENhc2VTZW5zaXRpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXNlUmVnZXgsIHNldFVzZVJlZ2V4XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTxTZWFyY2hNYXRjaFtdPihbXSk7XG4gIGNvbnN0IFtoYXNTZWFyY2hlZCwgc2V0SGFzU2VhcmNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29sbGFwc2VkRmlsZXMsIHNldENvbGxhcHNlZEZpbGVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuXG4gIGNvbnN0IGZpbGVDYWNoZVJlZiA9IHVzZVJlZjxNYXA8c3RyaW5nLCBGaWxlQ2FjaGU+PihuZXcgTWFwKCkpO1xuICBjb25zdCB0cmVlTG9hZGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgZGVib3VuY2VSZWYgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgYWJvcnRSZWYgPSB1c2VSZWY8QWJvcnRDb250cm9sbGVyIHwgbnVsbD4obnVsbCk7XG5cbiAgZnVuY3Rpb24gZ2V0UmVwb0luZm8oKTogeyBvd25lcjogc3RyaW5nOyByZXBvOiBzdHJpbmc7IGJyYW5jaDogc3RyaW5nIH0gfCBudWxsIHtcbiAgICBjb25zdCBjb25maWcgPSBnZXRCb29rQ29uZmlnKGN1cnJlbnRCb29rKTtcbiAgICBpZiAoIWNvbmZpZykgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHsgb3duZXI6IGNvbmZpZy5vd25lciwgcmVwbzogY29uZmlnLnJlcG8sIGJyYW5jaDogY29uZmlnLmJyYW5jaCB9O1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hUcmVlKG93bmVyOiBzdHJpbmcsIHJlcG86IHN0cmluZywgYnJhbmNoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBcIi9hcGkvZ2l0aHViL3RyZWU/b3duZXI9XCIgKyBvd25lciArIFwiJnJlcG89XCIgKyByZXBvICsgXCImYnJhbmNoPVwiICsgYnJhbmNoLFxuICAgICk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybiBbXTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBjb25zdCB0cmVlOiB7IHBhdGg6IHN0cmluZzsgdHlwZTogc3RyaW5nIH1bXSA9IGRhdGEudHJlZSA/PyBbXTtcbiAgICByZXR1cm4gdHJlZVxuICAgICAgLmZpbHRlcihmdW5jdGlvbiBpc0Jsb2IoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSBcImJsb2JcIiAmJiAvXFwuKG1kfG1keHx0eHR8bWFya2Rvd24pJC9pLnRlc3QoaXRlbS5wYXRoKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uIGdldFBhdGgoaXRlbSkgeyByZXR1cm4gaXRlbS5wYXRoOyB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoRmlsZUNvbnRlbnQoXG4gICAgb3duZXI6IHN0cmluZyxcbiAgICByZXBvOiBzdHJpbmcsXG4gICAgYnJhbmNoOiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICApOiBQcm9taXNlPEZpbGVDYWNoZSB8IG51bGw+IHtcbiAgICBjb25zdCBjYWNoZWQgPSBmaWxlQ2FjaGVSZWYuY3VycmVudC5nZXQocGF0aCk7XG4gICAgaWYgKGNhY2hlZCkgcmV0dXJuIGNhY2hlZDtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgXCIvYXBpL2dpdGh1Yi9maWxlcz9vd25lcj1cIiArIG93bmVyICsgXCImcmVwbz1cIiArIHJlcG8gKyBcIiZwYXRoPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpICsgXCImYnJhbmNoPVwiICsgYnJhbmNoLFxuICAgICk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmICghZGF0YS5jb250ZW50ICYmIGRhdGEuY29udGVudCAhPT0gXCJcIikgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZW50cnk6IEZpbGVDYWNoZSA9IHsgY29udGVudDogZGF0YS5jb250ZW50LCBzaGE6IGRhdGEuc2hhIH07XG4gICAgZmlsZUNhY2hlUmVmLmN1cnJlbnQuc2V0KHBhdGgsIGVudHJ5KTtcbiAgICByZXR1cm4gZW50cnk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkQWxsRmlsZXMob3duZXI6IHN0cmluZywgcmVwbzogc3RyaW5nLCBicmFuY2g6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0cmVlTG9hZGVkUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCBwYXRocyA9IGF3YWl0IGZldGNoVHJlZShvd25lciwgcmVwbywgYnJhbmNoKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICBwYXRocy5tYXAoZnVuY3Rpb24gZmV0Y2hPbmUocCkgeyByZXR1cm4gZmV0Y2hGaWxlQ29udGVudChvd25lciwgcmVwbywgYnJhbmNoLCBwKTsgfSksXG4gICAgKTtcbiAgICB0cmVlTG9hZGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VhcmNoRmlsZXModGVybTogc3RyaW5nKTogU2VhcmNoTWF0Y2hbXSB7XG4gICAgaWYgKCF0ZXJtKSByZXR1cm4gW107XG5cbiAgICBjb25zdCBmb3VuZDogU2VhcmNoTWF0Y2hbXSA9IFtdO1xuICAgIGxldCByZWdleDogUmVnRXhwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh1c2VSZWdleCkge1xuICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAodGVybSwgY2FzZVNlbnNpdGl2ZSA/IFwiZ1wiIDogXCJnaVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVzY2FwZWQgPSB0ZXJtLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKGVzY2FwZWQsIGNhc2VTZW5zaXRpdmUgPyBcImdcIiA6IFwiZ2lcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZmlsZUNhY2hlUmVmLmN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbiBzY2FuRmlsZShlbnRyeSwgZmlsZVBhdGgpIHtcbiAgICAgIGNvbnN0IGxpbmVzID0gZW50cnkuY29udGVudC5zcGxpdChcIlxcblwiKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbSA9IHJlZ2V4LmV4ZWMobGluZSk7XG4gICAgICAgIHdoaWxlIChtICE9PSBudWxsKSB7XG4gICAgICAgICAgZm91bmQucHVzaCh7XG4gICAgICAgICAgICBmaWxlUGF0aCxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlUGF0aC5zcGxpdChcIi9cIikucG9wKCkgPz8gZmlsZVBhdGgsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiBpICsgMSxcbiAgICAgICAgICAgIGxpbmVDb250ZW50OiBsaW5lLFxuICAgICAgICAgICAgbWF0Y2hTdGFydDogbS5pbmRleCxcbiAgICAgICAgICAgIG1hdGNoRW5kOiBtLmluZGV4ICsgbVswXS5sZW5ndGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKG1bMF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgbSA9IHJlZ2V4LmV4ZWMobGluZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1blNlYXJjaCh0ZXJtOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRlcm0udHJpbSgpKSB7XG4gICAgICBzZXRSZXN1bHRzKFtdKTtcbiAgICAgIHNldEhhc1NlYXJjaGVkKGZhbHNlKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGluZm8gPSBnZXRSZXBvSW5mbygpO1xuICAgIGlmICghaW5mbykge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRIYXNTZWFyY2hlZCh0cnVlKTtcblxuICAgIGxvYWRBbGxGaWxlcyhpbmZvLm93bmVyLCBpbmZvLnJlcG8sIGluZm8uYnJhbmNoKS50aGVuKGZ1bmN0aW9uIGFmdGVyTG9hZCgpIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZWFyY2hGaWxlcyh0ZXJtLnRyaW0oKSk7XG4gICAgICBzZXRSZXN1bHRzKG1hdGNoZXMpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gb25FcnIoKSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5Q2hhbmdlKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSB7XG4gICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgc2V0UXVlcnkodmFsKTtcblxuICAgIGlmIChkZWJvdW5jZVJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgZGVib3VuY2VSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gZGVib3VuY2VkU2VhcmNoKCkge1xuICAgICAgcnVuU2VhcmNoKHZhbCk7XG4gICAgfSwgMzAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVJlcGxhY2VDaGFuZ2UoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pIHtcbiAgICBzZXRSZXBsYWNlVGV4dChlLnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gcmVydW5PblRvZ2dsZSgpIHtcbiAgICBpZiAocXVlcnkudHJpbSgpKSB7XG4gICAgICBydW5TZWFyY2gocXVlcnkpO1xuICAgIH1cbiAgfSwgW2Nhc2VTZW5zaXRpdmUsIHVzZVJlZ2V4XSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uVW5tb3VudCgpIHtcbiAgICAgIGlmIChkZWJvdW5jZVJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoZGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGdyb3VwZWQgPSB1c2VNZW1vKGZ1bmN0aW9uIGdyb3VwQnlGaWxlKCk6IEdyb3VwZWRSZXN1bHRzW10ge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBTZWFyY2hNYXRjaFtdPigpO1xuICAgIGNvbnN0IG9yZGVyOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgcmVzdWx0cykge1xuICAgICAgaWYgKCFtYXAuaGFzKG1hdGNoLmZpbGVQYXRoKSkge1xuICAgICAgICBtYXAuc2V0KG1hdGNoLmZpbGVQYXRoLCBbXSk7XG4gICAgICAgIG9yZGVyLnB1c2gobWF0Y2guZmlsZVBhdGgpO1xuICAgICAgfVxuICAgICAgbWFwLmdldChtYXRjaC5maWxlUGF0aCkhLnB1c2gobWF0Y2gpO1xuICAgIH1cbiAgICByZXR1cm4gb3JkZXIubWFwKGZ1bmN0aW9uIHRvR3JvdXAoZnApIHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBtYXAuZ2V0KGZwKSE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWxlUGF0aDogZnAsXG4gICAgICAgIGZpbGVOYW1lOiBtYXRjaGVzWzBdLmZpbGVOYW1lLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfSwgW3Jlc3VsdHNdKTtcblxuICBjb25zdCBmaWxlQ291bnQgPSBncm91cGVkLmxlbmd0aDtcbiAgY29uc3QgdG90YWxDb3VudCA9IHJlc3VsdHMubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRlKGZpbGVQYXRoOiBzdHJpbmcpIHtcbiAgICByb3V0ZXIucHVzaChcIi9ib29rL1wiICsgZmlsZVBhdGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlRmlsZUNvbGxhcHNlKGZpbGVQYXRoOiBzdHJpbmcpIHtcbiAgICBzZXRDb2xsYXBzZWRGaWxlcyhmdW5jdGlvbiB0b2dnbGUocHJldikge1xuICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICBpZiAobmV4dC5oYXMoZmlsZVBhdGgpKSB7XG4gICAgICAgIG5leHQuZGVsZXRlKGZpbGVQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQuYWRkKGZpbGVQYXRoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRSZWdleCh0ZXJtOiBzdHJpbmcpOiBSZWdFeHAgfCBudWxsIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHVzZVJlZ2V4KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHRlcm0sIGNhc2VTZW5zaXRpdmUgPyBcImdcIiA6IFwiZ2lcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBlc2NhcGVkID0gdGVybS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChlc2NhcGVkLCBjYXNlU2Vuc2l0aXZlID8gXCJnXCIgOiBcImdpXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVwbGFjZVNpbmdsZShtYXRjaDogU2VhcmNoTWF0Y2gpIHtcbiAgICBjb25zdCBpbmZvID0gZ2V0UmVwb0luZm8oKTtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcblxuICAgIGNvbnN0IGNhY2hlZCA9IGZpbGVDYWNoZVJlZi5jdXJyZW50LmdldChtYXRjaC5maWxlUGF0aCk7XG4gICAgaWYgKCFjYWNoZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxpbmVzID0gY2FjaGVkLmNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XG4gICAgY29uc3QgbGluZUlkeCA9IG1hdGNoLmxpbmVOdW1iZXIgLSAxO1xuICAgIGlmIChsaW5lSWR4IDwgMCB8fCBsaW5lSWR4ID49IGxpbmVzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbGluZSA9IGxpbmVzW2xpbmVJZHhdO1xuICAgIGNvbnN0IG9yaWdpbmFsID0gbGluZS5zbGljZShtYXRjaC5tYXRjaFN0YXJ0LCBtYXRjaC5tYXRjaEVuZCk7XG5cbiAgICBsZXQgcmVwbGFjZW1lbnQgPSByZXBsYWNlVGV4dDtcbiAgICBpZiAodXNlUmVnZXgpIHtcbiAgICAgIGNvbnN0IHJ4ID0gYnVpbGRSZWdleChxdWVyeSk7XG4gICAgICBpZiAocngpIHtcbiAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgbSA9IHJ4LmV4ZWMob3JpZ2luYWwpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHJlcGxhY2VtZW50ID0gb3JpZ2luYWwucmVwbGFjZShyeCwgcmVwbGFjZVRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGluZXNbbGluZUlkeF0gPSBsaW5lLnNsaWNlKDAsIG1hdGNoLm1hdGNoU3RhcnQpICsgcmVwbGFjZW1lbnQgKyBsaW5lLnNsaWNlKG1hdGNoLm1hdGNoRW5kKTtcbiAgICBjb25zdCBuZXdDb250ZW50ID0gbGluZXMuam9pbihcIlxcblwiKTtcblxuICAgIGZpbGVDYWNoZVJlZi5jdXJyZW50LnNldChtYXRjaC5maWxlUGF0aCwgeyBjb250ZW50OiBuZXdDb250ZW50LCBzaGE6IGNhY2hlZC5zaGEgfSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2dpdGh1Yi9maWxlc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgb3duZXI6IGluZm8ub3duZXIsXG4gICAgICAgICAgcmVwbzogaW5mby5yZXBvLFxuICAgICAgICAgIHBhdGg6IG1hdGNoLmZpbGVQYXRoLFxuICAgICAgICAgIGNvbnRlbnQ6IG5ld0NvbnRlbnQsXG4gICAgICAgICAgc2hhOiBjYWNoZWQuc2hhLFxuICAgICAgICAgIGJyYW5jaDogaW5mby5icmFuY2gsXG4gICAgICAgICAgbWVzc2FnZTogXCJSZXBsYWNlIGluIFwiICsgbWF0Y2guZmlsZU5hbWUsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBmaWxlQ2FjaGVSZWYuY3VycmVudC5zZXQobWF0Y2guZmlsZVBhdGgsIHsgY29udGVudDogbmV3Q29udGVudCwgc2hhOiBkYXRhLnNoYSB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG5cbiAgICBydW5TZWFyY2gocXVlcnkpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVwbGFjZUFsbCgpIHtcbiAgICBjb25zdCBpbmZvID0gZ2V0UmVwb0luZm8oKTtcbiAgICBpZiAoIWluZm8gfHwgIXF1ZXJ5LnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcnggPSBidWlsZFJlZ2V4KHF1ZXJ5LnRyaW0oKSk7XG4gICAgaWYgKCFyeCkgcmV0dXJuO1xuXG4gICAgY29uc3QgYWZmZWN0ZWRGaWxlcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG5cbiAgICBmaWxlQ2FjaGVSZWYuY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIHJlcGxhY2VJbkZpbGUoZW50cnksIGZpbGVQYXRoKSB7XG4gICAgICByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgaWYgKHJ4LnRlc3QoZW50cnkuY29udGVudCkpIHtcbiAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGVudHJ5LmNvbnRlbnQucmVwbGFjZShyeCwgcmVwbGFjZVRleHQpO1xuICAgICAgICBhZmZlY3RlZEZpbGVzLnNldChmaWxlUGF0aCwgbmV3Q29udGVudCk7XG4gICAgICAgIGZpbGVDYWNoZVJlZi5jdXJyZW50LnNldChmaWxlUGF0aCwgeyBjb250ZW50OiBuZXdDb250ZW50LCBzaGE6IGVudHJ5LnNoYSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHNhdmVzID0gQXJyYXkuZnJvbShhZmZlY3RlZEZpbGVzLmVudHJpZXMoKSkubWFwKGZ1bmN0aW9uIHNhdmVGaWxlKFtmaWxlUGF0aCwgbmV3Q29udGVudF0pIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGZpbGVDYWNoZVJlZi5jdXJyZW50LmdldChmaWxlUGF0aCk7XG4gICAgICByZXR1cm4gZmV0Y2goXCIvYXBpL2dpdGh1Yi9maWxlc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgb3duZXI6IGluZm8ub3duZXIsXG4gICAgICAgICAgcmVwbzogaW5mby5yZXBvLFxuICAgICAgICAgIHBhdGg6IGZpbGVQYXRoLFxuICAgICAgICAgIGNvbnRlbnQ6IG5ld0NvbnRlbnQsXG4gICAgICAgICAgc2hhOiBjYWNoZWQ/LnNoYSxcbiAgICAgICAgICBicmFuY2g6IGluZm8uYnJhbmNoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiUmVwbGFjZSBhbGwgaW4gXCIgKyAoZmlsZVBhdGguc3BsaXQoXCIvXCIpLnBvcCgpID8/IGZpbGVQYXRoKSxcbiAgICAgICAgfSksXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIHVwZGF0ZVNoYShyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oZnVuY3Rpb24gYXBwbHlTaGEoZGF0YTogeyBzaGE6IHN0cmluZyB9KSB7XG4gICAgICAgICAgICBmaWxlQ2FjaGVSZWYuY3VycmVudC5zZXQoZmlsZVBhdGgsIHsgY29udGVudDogbmV3Q29udGVudCwgc2hhOiBkYXRhLnNoYSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gbm9vcCgpIHt9KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChzYXZlcyk7XG4gICAgcnVuU2VhcmNoKHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckhpZ2hsaWdodGVkTGluZShtYXRjaDogU2VhcmNoTWF0Y2gpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBtYXRjaC5saW5lQ29udGVudC5zbGljZShNYXRoLm1heCgwLCBtYXRjaC5tYXRjaFN0YXJ0IC0gNTApLCBtYXRjaC5tYXRjaFN0YXJ0KTtcbiAgICBjb25zdCBoaWdobGlnaHRlZCA9IG1hdGNoLmxpbmVDb250ZW50LnNsaWNlKG1hdGNoLm1hdGNoU3RhcnQsIG1hdGNoLm1hdGNoRW5kKTtcbiAgICBjb25zdCBhZnRlciA9IG1hdGNoLmxpbmVDb250ZW50LnNsaWNlKG1hdGNoLm1hdGNoRW5kLCBtYXRjaC5tYXRjaEVuZCArIDUwKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBzdHlsZT17eyBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtamV0YnJhaW5zLW1vbm8pLCBtb25vc3BhY2VcIiwgZm9udFNpemU6IDEyIH19PlxuICAgICAgICA8c3BhbiBzdHlsZT17eyBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiIH19PlxuICAgICAgICAgIHttYXRjaC5tYXRjaFN0YXJ0ID4gNTAgPyBcIuKAplwiIDogXCJcIn17YmVmb3JlfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tY29sb3ItYWNjZW50KSAxNSUsIHRyYW5zcGFyZW50KVwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgICAgcGFkZGluZzogXCIwIDFweFwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7aGlnaGxpZ2h0ZWR9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiB9fT5cbiAgICAgICAgICB7YWZ0ZXJ9e21hdGNoLm1hdGNoRW5kICsgNTAgPCBtYXRjaC5saW5lQ29udGVudC5sZW5ndGggPyBcIuKAplwiIDogXCJcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiBcIjEycHggMTJweCA4cHhcIiwgZmxleFNocmluazogMCB9fT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtczogXCJmbGV4LXN0YXJ0XCIsIGdhcDogNCB9fT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiB0b2dnbGVSZXBsYWNlKCkgeyBzZXRTaG93UmVwbGFjZSghc2hvd1JlcGxhY2UpOyB9fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICB3aWR0aDogMjIsXG4gICAgICAgICAgICAgIGhlaWdodDogMjYsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6IDIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdGl0bGU9e3Nob3dSZXBsYWNlID8gXCJIaWRlIHJlcGxhY2VcIiA6IFwiU2hvdyByZXBsYWNlXCJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dSZXBsYWNlID8gPENoZXZyb25Eb3duIHNpemU9ezE0fSAvPiA6IDxDaGV2cm9uUmlnaHQgc2l6ZT17MTR9IC8+fVxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiA0IH19PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDhweFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWFyY2ggc2l6ZT17MTN9IHN0cm9rZVdpZHRoPXsxLjV9IHN0eWxlPXt7IGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsIGZsZXhTaHJpbms6IDAgfX0gLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtxdWVyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlUXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHRvZ2dsZUNhc2UoKSB7IHNldENhc2VTZW5zaXRpdmUoIWNhc2VTZW5zaXRpdmUpOyB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiTWF0Y2ggY2FzZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgXCIgKyAoY2FzZVNlbnNpdGl2ZSA/IFwidmFyKC0tY29sb3ItYWNjZW50KVwiIDogXCJ0cmFuc3BhcmVudFwiKSxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGNhc2VTZW5zaXRpdmUgPyBcImNvbG9yLW1peChpbiBzcmdiLCB2YXIoLS1jb2xvci1hY2NlbnQpIDEyJSwgdHJhbnNwYXJlbnQpXCIgOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IGNhc2VTZW5zaXRpdmUgPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDYXNlU2Vuc2l0aXZlIHNpemU9ezE0fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIHRvZ2dsZVJlZ2V4KCkgeyBzZXRVc2VSZWdleCghdXNlUmVnZXgpOyB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiVXNlIHJlZ3VsYXIgZXhwcmVzc2lvblwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgXCIgKyAodXNlUmVnZXggPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidHJhbnNwYXJlbnRcIiksXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1c2VSZWdleCA/IFwiY29sb3ItbWl4KGluIHNyZ2IsIHZhcigtLWNvbG9yLWFjY2VudCkgMTIlLCB0cmFuc3BhcmVudClcIiA6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogdXNlUmVnZXggPyBcInZhcigtLWNvbG9yLWFjY2VudClcIiA6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxSZWdleCBzaXplPXsxNH0gc3Ryb2tlV2lkdGg9ezEuNX0gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge3Nob3dSZXBsYWNlICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1iZylcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UmVwbGFjZSBzaXplPXsxM30gc3Ryb2tlV2lkdGg9ezEuNX0gc3R5bGU9e3sgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiwgZmxleFNocmluazogMCB9fSAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlcGxhY2VUZXh0fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVJlcGxhY2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJlcGxhY2VcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7aGFzU2VhcmNoZWQgJiYgIWxvYWRpbmcgJiYgcmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCA0cHggMnB4XCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e3RvdGFsQ291bnR9IHJlc3VsdHt0b3RhbENvdW50ICE9PSAxID8gXCJzXCIgOiBcIlwifSBpbiB7ZmlsZUNvdW50fSBmaWxle2ZpbGVDb3VudCAhPT0gMSA/IFwic1wiIDogXCJcIn08L3NwYW4+XG4gICAgICAgICAgICB7c2hvd1JlcGxhY2UgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVwbGFjZUFsbH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggNnB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIG9uRW50ZXIoZSkgeyBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiOyB9fVxuICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7IGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7IH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBSZXBsYWNlIEFsbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBvdmVyZmxvdzogXCJhdXRvXCIsIHBhZGRpbmc6IFwiMCA0cHhcIiB9fT5cbiAgICAgICAgeyFxdWVyeS50cmltKCkgJiYgIWxvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogMjQsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFNlYXJjaCBzaXplPXszMn0gc3Ryb2tlV2lkdGg9ezF9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNSB9fSAvPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEzIH19PlNlYXJjaCB5b3VyIG1hbnVzY3JpcHQ8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExvYWRlcjIgc2l6ZT17MjB9IHN0cm9rZVdpZHRoPXsxLjV9IHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGluIDFzIGxpbmVhciBpbmZpbml0ZVwiIH19IC8+XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTIgfX0+U2VhcmNoaW5nIGZpbGVz4oCmPC9zcGFuPlxuICAgICAgICAgICAgPHN0eWxlPntgQGtleWZyYW1lcyBzcGluIHsgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9YH08L3N0eWxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHshbG9hZGluZyAmJiBoYXNTZWFyY2hlZCAmJiBxdWVyeS50cmltKCkgJiYgcmVzdWx0cy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEzLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBObyByZXN1bHRzIGZvdW5kXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgeyFsb2FkaW5nICYmIGdyb3VwZWQubWFwKGZ1bmN0aW9uIHJlbmRlckdyb3VwKGdyb3VwKSB7XG4gICAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSBjb2xsYXBzZWRGaWxlcy5oYXMoZ3JvdXAuZmlsZVBhdGgpO1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYga2V5PXtncm91cC5maWxlUGF0aH0gc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAyIH19PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gY29sbGFwc2VUb2dnbGUoKSB7IHRvZ2dsZUZpbGVDb2xsYXBzZShncm91cC5maWxlUGF0aCk7IH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNXB4IDhweFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHsgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjsgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoZSkgeyBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiOyB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzQ29sbGFwc2VkID8gPENoZXZyb25SaWdodCBzaXplPXsxMn0gLz4gOiA8Q2hldnJvbkRvd24gc2l6ZT17MTJ9IC8+fVxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93OiBcImhpZGRlblwiLCB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIiwgd2hpdGVTcGFjZTogXCJub3dyYXBcIiB9fT5cbiAgICAgICAgICAgICAgICAgIHtncm91cC5maWxlTmFtZX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLXN1cmZhY2UpXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMXB4IDZweFwiLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dyb3VwLm1hdGNoZXMubGVuZ3RofVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgeyFpc0NvbGxhcHNlZCAmJiBncm91cC5tYXRjaGVzLnNsaWNlKDAsIDUwKS5tYXAoZnVuY3Rpb24gcmVuZGVyTWF0Y2gobWF0Y2gsIGlkeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17Z3JvdXAuZmlsZVBhdGggKyBcIjpcIiArIG1hdGNoLmxpbmVOdW1iZXIgKyBcIjpcIiArIGlkeH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMjQsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiA0LFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gbmF2aWdhdGUoKSB7IGhhbmRsZU5hdmlnYXRlKG1hdGNoLmZpbGVQYXRoKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImJhc2VsaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHggNnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBvbkVudGVyKGUpIHsgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjsgfX1cbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIG9uTGVhdmUoZSkgeyBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiOyB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWpldGJyYWlucy1tb25vKSwgbW9ub3NwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAyOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYXRjaC5saW5lTnVtYmVyfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVySGlnaGxpZ2h0ZWRMaW5lKG1hdGNoKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICB7c2hvd1JlcGxhY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGRvUmVwbGFjZSgpIHsgaGFuZGxlUmVwbGFjZVNpbmdsZShtYXRjaCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlcGxhY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9IFwidmFyKC0tY29sb3ItYWNjZW50KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlcGxhY2Ugc2l6ZT17MTJ9IHN0cm9rZVdpZHRoPXsxLjV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiU2VhcmNoIiwiUmVwbGFjZSIsIkNoZXZyb25Eb3duIiwiQ2hldnJvblJpZ2h0IiwiQ2FzZVNlbnNpdGl2ZSIsIlJlZ2V4IiwiTG9hZGVyMiIsInVzZVJvdXRlciIsInVzZUFwcFN0b3JlIiwiZ2V0Qm9va0NvbmZpZyIsIkZpbmRQYW5lbCIsInJvdXRlciIsImN1cnJlbnRCb29rIiwic2VsZWN0Qm9vayIsInMiLCJlZGl0b3IiLCJxdWVyeSIsInNldFF1ZXJ5IiwicmVwbGFjZVRleHQiLCJzZXRSZXBsYWNlVGV4dCIsInNob3dSZXBsYWNlIiwic2V0U2hvd1JlcGxhY2UiLCJjYXNlU2Vuc2l0aXZlIiwic2V0Q2FzZVNlbnNpdGl2ZSIsInVzZVJlZ2V4Iiwic2V0VXNlUmVnZXgiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJlc3VsdHMiLCJzZXRSZXN1bHRzIiwiaGFzU2VhcmNoZWQiLCJzZXRIYXNTZWFyY2hlZCIsImNvbGxhcHNlZEZpbGVzIiwic2V0Q29sbGFwc2VkRmlsZXMiLCJTZXQiLCJmaWxlQ2FjaGVSZWYiLCJNYXAiLCJ0cmVlTG9hZGVkUmVmIiwiZGVib3VuY2VSZWYiLCJhYm9ydFJlZiIsImdldFJlcG9JbmZvIiwiY29uZmlnIiwib3duZXIiLCJyZXBvIiwiYnJhbmNoIiwiZmV0Y2hUcmVlIiwicmVzIiwiZmV0Y2giLCJvayIsImRhdGEiLCJqc29uIiwidHJlZSIsImZpbHRlciIsImlzQmxvYiIsIml0ZW0iLCJ0eXBlIiwidGVzdCIsInBhdGgiLCJtYXAiLCJnZXRQYXRoIiwiZmV0Y2hGaWxlQ29udGVudCIsImNhY2hlZCIsImN1cnJlbnQiLCJnZXQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb250ZW50IiwiZW50cnkiLCJzaGEiLCJzZXQiLCJsb2FkQWxsRmlsZXMiLCJwYXRocyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiZmV0Y2hPbmUiLCJwIiwic2VhcmNoRmlsZXMiLCJ0ZXJtIiwiZm91bmQiLCJyZWdleCIsIlJlZ0V4cCIsImVzY2FwZWQiLCJyZXBsYWNlIiwiZm9yRWFjaCIsInNjYW5GaWxlIiwiZmlsZVBhdGgiLCJsaW5lcyIsInNwbGl0IiwiaSIsImxlbmd0aCIsImxpbmUiLCJsYXN0SW5kZXgiLCJtIiwiZXhlYyIsInB1c2giLCJmaWxlTmFtZSIsInBvcCIsImxpbmVOdW1iZXIiLCJsaW5lQ29udGVudCIsIm1hdGNoU3RhcnQiLCJpbmRleCIsIm1hdGNoRW5kIiwicnVuU2VhcmNoIiwidHJpbSIsImluZm8iLCJ0aGVuIiwiYWZ0ZXJMb2FkIiwibWF0Y2hlcyIsImNhdGNoIiwib25FcnIiLCJoYW5kbGVRdWVyeUNoYW5nZSIsImUiLCJ2YWwiLCJ0YXJnZXQiLCJ2YWx1ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jZWRTZWFyY2giLCJoYW5kbGVSZXBsYWNlQ2hhbmdlIiwicmVydW5PblRvZ2dsZSIsImNsZWFudXAiLCJvblVubW91bnQiLCJncm91cGVkIiwiZ3JvdXBCeUZpbGUiLCJvcmRlciIsIm1hdGNoIiwiaGFzIiwidG9Hcm91cCIsImZwIiwiZmlsZUNvdW50IiwidG90YWxDb3VudCIsImhhbmRsZU5hdmlnYXRlIiwidG9nZ2xlRmlsZUNvbGxhcHNlIiwidG9nZ2xlIiwicHJldiIsIm5leHQiLCJkZWxldGUiLCJhZGQiLCJidWlsZFJlZ2V4IiwiaGFuZGxlUmVwbGFjZVNpbmdsZSIsImxpbmVJZHgiLCJvcmlnaW5hbCIsInNsaWNlIiwicmVwbGFjZW1lbnQiLCJyeCIsIm5ld0NvbnRlbnQiLCJqb2luIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibWVzc2FnZSIsImhhbmRsZVJlcGxhY2VBbGwiLCJhZmZlY3RlZEZpbGVzIiwicmVwbGFjZUluRmlsZSIsInNhdmVzIiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsInNhdmVGaWxlIiwidXBkYXRlU2hhIiwiYXBwbHlTaGEiLCJub29wIiwicmVuZGVySGlnaGxpZ2h0ZWRMaW5lIiwiYmVmb3JlIiwiTWF0aCIsIm1heCIsImhpZ2hsaWdodGVkIiwiYWZ0ZXIiLCJzcGFuIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwiZGl2IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJoZWlnaHQiLCJmbGV4U2hyaW5rIiwiYWxpZ25JdGVtcyIsImdhcCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0b2dnbGVSZXBsYWNlIiwianVzdGlmeUNvbnRlbnQiLCJ3aWR0aCIsImJvcmRlciIsImJhY2tncm91bmQiLCJjdXJzb3IiLCJtYXJnaW5Ub3AiLCJ0aXRsZSIsInNpemUiLCJmbGV4Iiwic3Ryb2tlV2lkdGgiLCJpbnB1dCIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJvdXRsaW5lIiwibWluV2lkdGgiLCJ0b2dnbGVDYXNlIiwidG9nZ2xlUmVnZXgiLCJvbk1vdXNlRW50ZXIiLCJvbkVudGVyIiwiY3VycmVudFRhcmdldCIsIm9uTW91c2VMZWF2ZSIsIm9uTGVhdmUiLCJvdmVyZmxvdyIsInRleHRBbGlnbiIsIm9wYWNpdHkiLCJhbmltYXRpb24iLCJyZW5kZXJHcm91cCIsImdyb3VwIiwiaXNDb2xsYXBzZWQiLCJtYXJnaW5Cb3R0b20iLCJjb2xsYXBzZVRvZ2dsZSIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJyZW5kZXJNYXRjaCIsImlkeCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwibmF2aWdhdGUiLCJsaW5lSGVpZ2h0IiwiZG9SZXBsYWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/FindPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/LeftSidebar.tsx":
/*!********************************************!*\
  !*** ./components/sidebar/LeftSidebar.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LeftSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/folder-open.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/list-tree.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,BookOpen,FileText,FolderOpen,ListTree,Mic,Search!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _components_sidebar_BookPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/sidebar/BookPanel */ \"(ssr)/./components/sidebar/BookPanel.tsx\");\n/* harmony import */ var _components_sidebar_FileExplorer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/sidebar/FileExplorer */ \"(ssr)/./components/sidebar/FileExplorer.tsx\");\n/* harmony import */ var _components_sidebar_OutlinePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/sidebar/OutlinePanel */ \"(ssr)/./components/sidebar/OutlinePanel.tsx\");\n/* harmony import */ var _components_sidebar_ContextPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/sidebar/ContextPanel */ \"(ssr)/./components/sidebar/ContextPanel.tsx\");\n/* harmony import */ var _components_sidebar_VoicePanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/sidebar/VoicePanel */ \"(ssr)/./components/sidebar/VoicePanel.tsx\");\n/* harmony import */ var _components_sidebar_FindPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/sidebar/FindPanel */ \"(ssr)/./components/sidebar/FindPanel.tsx\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/storage */ \"(ssr)/./lib/storage.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\nconst tabs = [\n    {\n        key: \"book\",\n        label: \"Book\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n    },\n    {\n        key: \"explorer\",\n        label: \"Explorer\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n    },\n    {\n        key: \"outline\",\n        label: \"Outline\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"]\n    },\n    {\n        key: \"context\",\n        label: \"Context\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"]\n    },\n    {\n        key: \"voice\",\n        label: \"Voice\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"]\n    },\n    {\n        key: \"find\",\n        label: \"Find\",\n        icon: _barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n    }\n];\nfunction LeftSidebar() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const leftTab = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectLeftTab(s) {\n        return s.panels.leftTab;\n    });\n    const setLeftTab = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectSetLeftTab(s) {\n        return s.setLeftTab;\n    });\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_3__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const storageKey = currentBook ? \"scriva-outline-\" + currentBook : \"scriva-outline-local\";\n    const [outline, setOutline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [backHovered, setBackHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadOutline() {\n        const saved = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_10__.getItem)(storageKey, null);\n        setOutline(saved);\n    }, [\n        storageKey\n    ]);\n    const handleOutlineChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleChange(node) {\n        setOutline(node);\n        (0,_lib_storage__WEBPACK_IMPORTED_MODULE_10__.setItem)(storageKey, node);\n    }, [\n        storageKey\n    ]);\n    const handleChapterSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleSelect(chapterId) {\n        router.push(\"/book/\" + chapterId);\n    }, [\n        router\n    ]);\n    function renderContent() {\n        switch(leftTab){\n            case \"book\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_BookPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 61,\n                    columnNumber: 16\n                }, this);\n            case \"explorer\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_FileExplorer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 63,\n                    columnNumber: 16\n                }, this);\n            case \"outline\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_OutlinePanel__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    outline: outline,\n                    onOutlineChange: handleOutlineChange,\n                    onChapterSelect: handleChapterSelect\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 66,\n                    columnNumber: 11\n                }, this);\n            case \"context\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_ContextPanel__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 16\n                }, this);\n            case \"voice\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_VoicePanel__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 16\n                }, this);\n            case \"find\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_FindPanel__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 77,\n                    columnNumber: 16\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar_FileExplorer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                    lineNumber: 79,\n                    columnNumber: 16\n                }, this);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 13\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    padding: \"12px 16px 8px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function onBackClick() {\n                            router.push(\"/shelf\");\n                        },\n                        onMouseEnter: function onEnter() {\n                            setBackHovered(true);\n                        },\n                        onMouseLeave: function onLeave() {\n                            setBackHovered(false);\n                        },\n                        title: \"Back to Shelf\",\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: backHovered ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                            cursor: \"pointer\",\n                            padding: 2,\n                            borderRadius: 4,\n                            transition: \"color 150ms ease\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_BookOpen_FileText_FolderOpen_ListTree_Mic_Search_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            size: 16,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                            lineNumber: 125,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontFamily: \"var(--font-literata), Georgia, serif\",\n                            fontStyle: \"italic\",\n                            fontSize: 14,\n                            color: \"var(--color-accent)\"\n                        },\n                        children: \"scriva\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                        lineNumber: 127,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    gap: 0,\n                    borderBottom: \"1px solid var(--color-border)\",\n                    padding: \"0 4px\",\n                    overflowX: \"auto\"\n                },\n                children: tabs.map(function renderTab(tab) {\n                    const Icon = tab.icon;\n                    const active = leftTab === tab.key;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function onTabClick() {\n                            setLeftTab(tab.key);\n                        },\n                        title: tab.label,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            padding: \"8px 6px\",\n                            border: \"none\",\n                            background: \"transparent\",\n                            color: active ? \"var(--color-accent)\" : \"var(--color-text-muted)\",\n                            fontSize: 11,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderBottom: active ? \"2px solid var(--color-accent)\" : \"2px solid transparent\",\n                            marginBottom: -1,\n                            transition: \"color 150ms ease, border-color 150ms ease\",\n                            flexShrink: 0\n                        },\n                        onMouseEnter: function onEnter(e) {\n                            if (!active) {\n                                e.currentTarget.style.color = \"var(--color-text)\";\n                            }\n                        },\n                        onMouseLeave: function onLeave(e) {\n                            if (!active) {\n                                e.currentTarget.style.color = \"var(--color-text-muted)\";\n                            }\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                            size: 15,\n                            strokeWidth: 1.5\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                            lineNumber: 186,\n                            columnNumber: 15\n                        }, this)\n                    }, tab.key, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                        lineNumber: 153,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                lineNumber: 139,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflow: \"hidden\",\n                    display: \"flex\",\n                    flexDirection: \"column\"\n                },\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n                lineNumber: 192,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/LeftSidebar.tsx\",\n        lineNumber: 84,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NpZGViYXIvTGVmdFNpZGViYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFeUQ7QUFDdUM7QUFDcEQ7QUFDTjtBQUVpQjtBQUNNO0FBQ0E7QUFDQTtBQUNKO0FBQ0Y7QUFDTjtBQUVqRCxNQUFNb0IsT0FBK0U7SUFDbkY7UUFBRUMsS0FBSztRQUFRQyxPQUFPO1FBQVFDLE1BQU1wQix1SUFBUUE7SUFBQztJQUM3QztRQUFFa0IsS0FBSztRQUFZQyxPQUFPO1FBQVlDLE1BQU1uQix1SUFBVUE7SUFBQztJQUN2RDtRQUFFaUIsS0FBSztRQUFXQyxPQUFPO1FBQVdDLE1BQU1sQix1SUFBUUE7SUFBQztJQUNuRDtRQUFFZ0IsS0FBSztRQUFXQyxPQUFPO1FBQVdDLE1BQU1qQix1SUFBUUE7SUFBQztJQUNuRDtRQUFFZSxLQUFLO1FBQVNDLE9BQU87UUFBU0MsTUFBTWhCLHVJQUFHQTtJQUFDO0lBQzFDO1FBQUVjLEtBQUs7UUFBUUMsT0FBTztRQUFRQyxNQUFNZix1SUFBTUE7SUFBQztDQUM1QztBQUVjLFNBQVNnQjtJQUN0QixNQUFNQyxTQUFTZiwwREFBU0E7SUFDeEIsTUFBTWdCLFVBQVVmLG1EQUFXQSxDQUFDLFNBQVNnQixjQUFjQyxDQUFDO1FBQ2xELE9BQU9BLEVBQUVDLE1BQU0sQ0FBQ0gsT0FBTztJQUN6QjtJQUNBLE1BQU1JLGFBQWFuQixtREFBV0EsQ0FBQyxTQUFTb0IsaUJBQWlCSCxDQUFDO1FBQ3hELE9BQU9BLEVBQUVFLFVBQVU7SUFDckI7SUFDQSxNQUFNRSxjQUFjckIsbURBQVdBLENBQUMsU0FBU3NCLFdBQVdMLENBQUM7UUFDbkQsT0FBT0EsRUFBRU0sTUFBTSxDQUFDRixXQUFXO0lBQzdCO0lBRUEsTUFBTUcsYUFBYUgsY0FDZixvQkFBb0JBLGNBQ3BCO0lBRUosTUFBTSxDQUFDSSxTQUFTQyxXQUFXLEdBQUdyQywrQ0FBUUEsQ0FBcUI7SUFDM0QsTUFBTSxDQUFDc0Ms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WTs0QkFDWmlCLFFBQVE7NEJBQ1JPLGNBQWNNLFNBQVMsa0NBQWtDOzRCQUN6REUsY0FBYyxDQUFDOzRCQUNmYixZQUFZOzRCQUNaYyxZQUFZO3dCQUNkO3dCQUNBekIsY0FBYyxTQUFTQyxRQUFReUIsQ0FBQzs0QkFDOUIsSUFBSSxDQUFDSixRQUFRO2dDQUNYSSxFQUFFQyxhQUFhLENBQUN2QyxLQUFLLENBQUNvQixLQUFLLEdBQUc7NEJBQ2hDO3dCQUNGO3dCQUNBTixjQUFjLFNBQVNDLFFBQVF1QixDQUFDOzRCQUM5QixJQUFJLENBQUNKLFFBQVE7Z0NBQ1hJLEVBQUVDLGFBQWEsQ0FBQ3ZDLEtBQUssQ0FBQ29CLEtBQUssR0FBRzs0QkFDaEM7d0JBQ0Y7a0NBRUEsNEVBQUNhOzRCQUFLVCxNQUFNOzRCQUFJQyxhQUFhOzs7Ozs7dUJBaEN4Qk8sSUFBSWhFLEdBQUc7Ozs7O2dCQW1DbEI7Ozs7OzswQkFHRiw4REFBQytCO2dCQUFJQyxPQUFPO29CQUFFd0MsTUFBTTtvQkFBR0MsVUFBVTtvQkFBVXhDLFNBQVM7b0JBQVFDLGVBQWU7Z0JBQVM7MEJBQ2pGTjs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NpZGViYXIvTGVmdFNpZGViYXIudHN4PzQ4ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCb29rT3BlbiwgRm9sZGVyT3BlbiwgTGlzdFRyZWUsIEZpbGVUZXh0LCBNaWMsIFNlYXJjaCwgQXJyb3dMZWZ0IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHR5cGUgeyBQYW5lbFN0YXRlLCBPdXRsaW5lTm9kZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQgQm9va1BhbmVsIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhci9Cb29rUGFuZWxcIjtcbmltcG9ydCBGaWxlRXhwbG9yZXIgZnJvbSBcIkAvY29tcG9uZW50cy9zaWRlYmFyL0ZpbGVFeHBsb3JlclwiO1xuaW1wb3J0IE91dGxpbmVQYW5lbCBmcm9tIFwiQC9jb21wb25lbnRzL3NpZGViYXIvT3V0bGluZVBhbmVsXCI7XG5pbXBvcnQgQ29udGV4dFBhbmVsIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhci9Db250ZXh0UGFuZWxcIjtcbmltcG9ydCBWb2ljZVBhbmVsIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhci9Wb2ljZVBhbmVsXCI7XG5pbXBvcnQgRmluZFBhbmVsIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhci9GaW5kUGFuZWxcIjtcbmltcG9ydCB7IGdldEl0ZW0sIHNldEl0ZW0gfSBmcm9tIFwiQC9saWIvc3RvcmFnZVwiO1xuXG5jb25zdCB0YWJzOiB7IGtleTogUGFuZWxTdGF0ZVtcImxlZnRUYWJcIl07IGxhYmVsOiBzdHJpbmc7IGljb246IHR5cGVvZiBCb29rT3BlbiB9W10gPSBbXG4gIHsga2V5OiBcImJvb2tcIiwgbGFiZWw6IFwiQm9va1wiLCBpY29uOiBCb29rT3BlbiB9LFxuICB7IGtleTogXCJleHBsb3JlclwiLCBsYWJlbDogXCJFeHBsb3JlclwiLCBpY29uOiBGb2xkZXJPcGVuIH0sXG4gIHsga2V5OiBcIm91dGxpbmVcIiwgbGFiZWw6IFwiT3V0bGluZVwiLCBpY29uOiBMaXN0VHJlZSB9LFxuICB7IGtleTogXCJjb250ZXh0XCIsIGxhYmVsOiBcIkNvbnRleHRcIiwgaWNvbjogRmlsZVRleHQgfSxcbiAgeyBrZXk6IFwidm9pY2VcIiwgbGFiZWw6IFwiVm9pY2VcIiwgaWNvbjogTWljIH0sXG4gIHsga2V5OiBcImZpbmRcIiwgbGFiZWw6IFwiRmluZFwiLCBpY29uOiBTZWFyY2ggfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExlZnRTaWRlYmFyKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgbGVmdFRhYiA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdExlZnRUYWIocykge1xuICAgIHJldHVybiBzLnBhbmVscy5sZWZ0VGFiO1xuICB9KTtcbiAgY29uc3Qgc2V0TGVmdFRhYiA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdFNldExlZnRUYWIocykge1xuICAgIHJldHVybiBzLnNldExlZnRUYWI7XG4gIH0pO1xuICBjb25zdCBjdXJyZW50Qm9vayA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEJvb2socykge1xuICAgIHJldHVybiBzLmVkaXRvci5jdXJyZW50Qm9vaztcbiAgfSk7XG5cbiAgY29uc3Qgc3RvcmFnZUtleSA9IGN1cnJlbnRCb29rXG4gICAgPyBcInNjcml2YS1vdXRsaW5lLVwiICsgY3VycmVudEJvb2tcbiAgICA6IFwic2NyaXZhLW91dGxpbmUtbG9jYWxcIjtcblxuICBjb25zdCBbb3V0bGluZSwgc2V0T3V0bGluZV0gPSB1c2VTdGF0ZTxPdXRsaW5lTm9kZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYmFja0hvdmVyZWQsIHNldEJhY2tIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gbG9hZE91dGxpbmUoKSB7XG4gICAgY29uc3Qgc2F2ZWQgPSBnZXRJdGVtPE91dGxpbmVOb2RlIHwgbnVsbD4oc3RvcmFnZUtleSwgbnVsbCk7XG4gICAgc2V0T3V0bGluZShzYXZlZCk7XG4gIH0sIFtzdG9yYWdlS2V5XSk7XG5cbiAgY29uc3QgaGFuZGxlT3V0bGluZUNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShub2RlOiBPdXRsaW5lTm9kZSkge1xuICAgIHNldE91dGxpbmUobm9kZSk7XG4gICAgc2V0SXRlbShzdG9yYWdlS2V5LCBub2RlKTtcbiAgfSwgW3N0b3JhZ2VLZXldKTtcblxuICBjb25zdCBoYW5kbGVDaGFwdGVyU2VsZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGNoYXB0ZXJJZDogc3RyaW5nKSB7XG4gICAgcm91dGVyLnB1c2goXCIvYm9vay9cIiArIGNoYXB0ZXJJZCk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICBmdW5jdGlvbiByZW5kZXJDb250ZW50KCkge1xuICAgIHN3aXRjaCAobGVmdFRhYikge1xuICAgICAgY2FzZSBcImJvb2tcIjpcbiAgICAgICAgcmV0dXJuIDxCb29rUGFuZWwgLz47XG4gICAgICBjYXNlIFwiZXhwbG9yZXJcIjpcbiAgICAgICAgcmV0dXJuIDxGaWxlRXhwbG9yZXIgLz47XG4gICAgICBjYXNlIFwib3V0bGluZVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxPdXRsaW5lUGFuZWxcbiAgICAgICAgICAgIG91dGxpbmU9e291dGxpbmV9XG4gICAgICAgICAgICBvbk91dGxpbmVDaGFuZ2U9e2hhbmRsZU91dGxpbmVDaGFuZ2V9XG4gICAgICAgICAgICBvbkNoYXB0ZXJTZWxlY3Q9e2hhbmRsZUNoYXB0ZXJTZWxlY3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJjb250ZXh0XCI6XG4gICAgICAgIHJldHVybiA8Q29udGV4dFBhbmVsIC8+O1xuICAgICAgY2FzZSBcInZvaWNlXCI6XG4gICAgICAgIHJldHVybiA8Vm9pY2VQYW5lbCAvPjtcbiAgICAgIGNhc2UgXCJmaW5kXCI6XG4gICAgICAgIHJldHVybiA8RmluZFBhbmVsIC8+O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxGaWxlRXhwbG9yZXIgLz47XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBhZGRpbmc6IFwiMTJweCAxNnB4IDhweFwiLFxuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgZ2FwOiA2LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gb25CYWNrQ2xpY2soKSB7XG4gICAgICAgICAgICByb3V0ZXIucHVzaChcIi9zaGVsZlwiKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcigpIHtcbiAgICAgICAgICAgIHNldEJhY2tIb3ZlcmVkKHRydWUpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBvbkxlYXZlKCkge1xuICAgICAgICAgICAgc2V0QmFja0hvdmVyZWQoZmFsc2UpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgdGl0bGU9XCJCYWNrIHRvIFNoZWxmXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgY29sb3I6IGJhY2tIb3ZlcmVkID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgcGFkZGluZzogMixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IFwiY29sb3IgMTUwbXMgZWFzZVwiLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8QXJyb3dMZWZ0IHNpemU9ezE2fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWxpdGVyYXRhKSwgR2VvcmdpYSwgc2VyaWZcIixcbiAgICAgICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIixcbiAgICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgc2NyaXZhXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZ2FwOiAwLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiMCA0cHhcIixcbiAgICAgICAgICBvdmVyZmxvd1g6IFwiYXV0b1wiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7dGFicy5tYXAoZnVuY3Rpb24gcmVuZGVyVGFiKHRhYikge1xuICAgICAgICAgIGNvbnN0IEljb24gPSB0YWIuaWNvbjtcbiAgICAgICAgICBjb25zdCBhY3RpdmUgPSBsZWZ0VGFiID09PSB0YWIua2V5O1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXt0YWIua2V5fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBvblRhYkNsaWNrKCkge1xuICAgICAgICAgICAgICAgIHNldExlZnRUYWIodGFiLmtleSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRpdGxlPXt0YWIubGFiZWx9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjhweCA2cHhcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogYWN0aXZlID8gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBhY3RpdmUgPyBcIjJweCBzb2xpZCB2YXIoLS1jb2xvci1hY2NlbnQpXCIgOiBcIjJweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogLTEsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJjb2xvciAxNTBtcyBlYXNlLCBib3JkZXItY29sb3IgMTUwbXMgZWFzZVwiLFxuICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gb25FbnRlcihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9IFwidmFyKC0tY29sb3ItdGV4dClcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gb25MZWF2ZShlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uIHNpemU9ezE1fSBzdHJva2VXaWR0aD17MS41fSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBvdmVyZmxvdzogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIgfX0+XG4gICAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQm9va09wZW4iLCJGb2xkZXJPcGVuIiwiTGlzdFRyZWUiLCJGaWxlVGV4dCIsIk1pYyIsIlNlYXJjaCIsIkFycm93TGVmdCIsInVzZVJvdXRlciIsInVzZUFwcFN0b3JlIiwiQm9va1BhbmVsIiwiRmlsZUV4cGxvcmVyIiwiT3V0bGluZVBhbmVsIiwiQ29udGV4dFBhbmVsIiwiVm9pY2VQYW5lbCIsIkZpbmRQYW5lbCIsImdldEl0ZW0iLCJzZXRJdGVtIiwidGFicyIsImtleSIsImxhYmVsIiwiaWNvbiIsIkxlZnRTaWRlYmFyIiwicm91dGVyIiwibGVmdFRhYiIsInNlbGVjdExlZnRUYWIiLCJzIiwicGFuZWxzIiwic2V0TGVmdFRhYiIsInNlbGVjdFNldExlZnRUYWIiLCJjdXJyZW50Qm9vayIsInNlbGVjdEJvb2siLCJlZGl0b3IiLCJzdG9yYWdlS2V5Iiwib3V0bGluZSIsInNldE91dGxpbmUiLCJiYWNrSG92ZXJlZCIsInNldEJhY2tIb3ZlcmVkIiwibG9hZE91dGxpbmUiLCJzYXZlZCIsImhhbmRsZU91dGxpbmVDaGFuZ2UiLCJoYW5kbGVDaGFuZ2UiLCJub2RlIiwiaGFuZGxlQ2hhcHRlclNlbGVjdCIsImhhbmRsZVNlbGVjdCIsImNoYXB0ZXJJZCIsInB1c2giLCJyZW5kZXJDb250ZW50Iiwib25PdXRsaW5lQ2hhbmdlIiwib25DaGFwdGVyU2VsZWN0IiwiZGl2Iiwic3R5bGUiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImhlaWdodCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsInBhZGRpbmciLCJhbGlnbkl0ZW1zIiwiZ2FwIiwiYnV0dG9uIiwib25DbGljayIsIm9uQmFja0NsaWNrIiwib25Nb3VzZUVudGVyIiwib25FbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9uTGVhdmUiLCJ0aXRsZSIsImp1c3RpZnlDb250ZW50IiwiYm9yZGVyIiwiYmFja2dyb3VuZCIsImNvbG9yIiwiY3Vyc29yIiwiYm9yZGVyUmFkaXVzIiwidHJhbnNpdGlvbiIsInNpemUiLCJzdHJva2VXaWR0aCIsInNwYW4iLCJmb250U3R5bGUiLCJib3JkZXJCb3R0b20iLCJvdmVyZmxvd1giLCJtYXAiLCJyZW5kZXJUYWIiLCJ0YWIiLCJJY29uIiwiYWN0aXZlIiwib25UYWJDbGljayIsIm1hcmdpbkJvdHRvbSIsImZsZXhTaHJpbmsiLCJlIiwiY3VycmVudFRhcmdldCIsImZsZXgiLCJvdmVyZmxvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/LeftSidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/OutlinePanel.tsx":
/*!*********************************************!*\
  !*** ./components/sidebar/OutlinePanel.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OutlinePanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/core */ \"(ssr)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(ssr)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/utilities */ \"(ssr)/./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/grip-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-dot.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronRight,CircleDot,GripVertical,Pencil,Plus,Sparkles,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _lib_outline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/outline */ \"(ssr)/./lib/outline.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nconst STATUS_COLORS = {\n    idea: \"var(--color-text-muted)\",\n    draft: \"#5b9bd5\",\n    revision: \"#d4a843\",\n    final: \"#6ab04c\"\n};\nconst STATUS_LABELS = {\n    idea: \"Idea\",\n    draft: \"Draft\",\n    revision: \"Revision\",\n    final: \"Final\"\n};\nfunction StatusBadge({ status }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            gap: 3,\n            fontSize: 10,\n            fontWeight: 500,\n            color: STATUS_COLORS[status],\n            padding: \"1px 5px\",\n            borderRadius: 3,\n            backgroundColor: `color-mix(in srgb, ${STATUS_COLORS[status]} 12%, transparent)`,\n            lineHeight: 1.4,\n            flexShrink: 0\n        },\n        children: STATUS_LABELS[status]\n    }, void 0, false, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, this);\n}\nfunction SortableNode({ node, depth, expanded, onToggle, onSelect, onContextMenu, activeId }) {\n    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.useSortable)({\n        id: node.id\n    });\n    const style = {\n        transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__.CSS.Transform.toString(transform),\n        transition,\n        opacity: isDragging ? 0.4 : 1\n    };\n    const hasChildren = node.children && node.children.length > 0;\n    const isExpanded = expanded[node.id] !== false;\n    const childIds = (node.children || []).map(function getId(c) {\n        return c.id;\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: setNodeRef,\n        style: style,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 2,\n                    padding: \"4px 8px 4px \" + (8 + depth * 16) + \"px\",\n                    cursor: node.type === \"chapter\" ? \"pointer\" : \"default\",\n                    userSelect: \"none\",\n                    borderRadius: 4,\n                    margin: \"0 4px\",\n                    transition: \"background 100ms ease\"\n                },\n                onClick: function handleClick() {\n                    if (node.type === \"chapter\") {\n                        onSelect(node.id);\n                    } else if (hasChildren) {\n                        onToggle(node.id);\n                    }\n                },\n                onContextMenu: function handleCtx(e) {\n                    e.preventDefault();\n                    onContextMenu(e, node.id);\n                },\n                onMouseEnter: function handleEnter(e) {\n                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                },\n                onMouseLeave: function handleLeave(e) {\n                    e.currentTarget.style.backgroundColor = \"transparent\";\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        ...attributes,\n                        ...listeners,\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            cursor: \"grab\",\n                            color: \"var(--color-text-muted)\",\n                            flexShrink: 0,\n                            padding: \"2px 0\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            size: 12\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 161,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleToggle(e) {\n                            e.stopPropagation();\n                            if (hasChildren) onToggle(node.id);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            width: 16,\n                            height: 16,\n                            border: \"none\",\n                            background: \"none\",\n                            cursor: hasChildren ? \"pointer\" : \"default\",\n                            color: \"var(--color-text-muted)\",\n                            padding: 0,\n                            flexShrink: 0,\n                            transform: hasChildren && isExpanded ? \"rotate(90deg)\" : \"rotate(0deg)\",\n                            transition: \"transform 150ms ease\",\n                            visibility: hasChildren ? \"visible\" : \"hidden\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            size: 12\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 198,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 176,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            flex: 1,\n                            fontSize: node.type === \"book\" ? 13 : 12,\n                            fontWeight: node.type === \"book\" || node.type === \"part\" ? 600 : 400,\n                            color: \"var(--color-text)\",\n                            overflow: \"hidden\",\n                            textOverflow: \"ellipsis\",\n                            whiteSpace: \"nowrap\",\n                            paddingLeft: 2\n                        },\n                        children: node.title\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusBadge, {\n                        status: node.status\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    node.wordCount != null && node.wordCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontSize: 10,\n                            color: \"var(--color-text-muted)\",\n                            flexShrink: 0,\n                            marginLeft: 4\n                        },\n                        children: [\n                            node.wordCount.toLocaleString(),\n                            \"w\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 219,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 131,\n                columnNumber: 7\n            }, this),\n            hasChildren && isExpanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.SortableContext, {\n                items: childIds,\n                strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.verticalListSortingStrategy,\n                children: node.children.map(function renderChild(child) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableNode, {\n                        node: child,\n                        depth: depth + 1,\n                        expanded: expanded,\n                        onToggle: onToggle,\n                        onSelect: onSelect,\n                        onContextMenu: onContextMenu,\n                        activeId: activeId\n                    }, child.id, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 239,\n                        columnNumber: 15\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 233,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n        lineNumber: 130,\n        columnNumber: 5\n    }, this);\n}\nfunction DragPreview({ node }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 6,\n            padding: \"6px 12px\",\n            backgroundColor: \"var(--color-surface)\",\n            border: \"1px solid var(--color-accent)\",\n            borderRadius: 6,\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n            fontSize: 12,\n            color: \"var(--color-text)\",\n            maxWidth: 220\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                size: 12,\n                style: {\n                    color: \"var(--color-text-muted)\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 274,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                style: {\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\"\n                },\n                children: node.title\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 275,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusBadge, {\n                status: node.status\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 284,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n        lineNumber: 259,\n        columnNumber: 5\n    }, this);\n}\nfunction OutlinePanel({ outline, onOutlineChange, onChapterSelect }) {\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingId, setEditingId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editTitle, setEditTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [statusMenuId, setStatusMenuId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const contextMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const editInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.PointerSensor, {\n        activationConstraint: {\n            distance: 5\n        }\n    }), (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.KeyboardSensor, {\n        coordinateGetter: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.sortableKeyboardCoordinates\n    }));\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function handleClickOutside() {\n        function handler(e) {\n            if (contextMenuRef.current && !contextMenuRef.current.contains(e.target)) {\n                setContextMenu(null);\n                setStatusMenuId(null);\n            }\n        }\n        document.addEventListener(\"mousedown\", handler);\n        return function cleanup() {\n            document.removeEventListener(\"mousedown\", handler);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function focusEditInput() {\n        if (editingId && editInputRef.current) {\n            editInputRef.current.focus();\n            editInputRef.current.select();\n        }\n    }, [\n        editingId\n    ]);\n    function handleToggle(id) {\n        setExpanded(function toggle(prev) {\n            return {\n                ...prev,\n                [id]: prev[id] === false ? true : false\n            };\n        });\n    }\n    function handleContextMenu(e, nodeId) {\n        setContextMenu({\n            x: e.clientX,\n            y: e.clientY,\n            nodeId\n        });\n        setStatusMenuId(null);\n    }\n    function handleDragStart(event) {\n        setActiveId(String(event.active.id));\n    }\n    function handleDragEnd(event) {\n        setActiveId(null);\n        if (!outline) return;\n        const { active, over } = event;\n        if (!over || active.id === over.id) return;\n        const activeNodeId = String(active.id);\n        const overNodeId = String(over.id);\n        const parentOfActive = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.getParentId)(outline, activeNodeId);\n        const parentOfOver = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.getParentId)(outline, overNodeId);\n        if (parentOfActive && parentOfActive === parentOfOver) {\n            const parent = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.findNode)(outline, parentOfActive);\n            if (parent && parent.children) {\n                const oldIndex = parent.children.findIndex(function findOld(c) {\n                    return c.id === activeNodeId;\n                });\n                const newIndex = parent.children.findIndex(function findNew(c) {\n                    return c.id === overNodeId;\n                });\n                if (oldIndex !== -1 && newIndex !== -1) {\n                    const updated = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.reorderChildren)(outline, parentOfActive, oldIndex, newIndex);\n                    onOutlineChange(updated);\n                }\n            }\n        }\n    }\n    function handleEditTitle(nodeId) {\n        if (!outline) return;\n        const node = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.findNode)(outline, nodeId);\n        if (node) {\n            setEditingId(nodeId);\n            setEditTitle(node.title);\n        }\n        setContextMenu(null);\n    }\n    function handleSaveTitle() {\n        if (!outline || !editingId || !editTitle.trim()) return;\n        const updated = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.updateNode)(outline, editingId, {\n            title: editTitle.trim()\n        });\n        onOutlineChange(updated);\n        setEditingId(null);\n        setEditTitle(\"\");\n    }\n    function handleSetStatus(nodeId, status) {\n        if (!outline) return;\n        const updated = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.updateNode)(outline, nodeId, {\n            status\n        });\n        onOutlineChange(updated);\n        setContextMenu(null);\n        setStatusMenuId(null);\n    }\n    function handleDelete(nodeId) {\n        if (!outline) return;\n        const updated = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.removeNode)(outline, nodeId);\n        onOutlineChange(updated);\n        setContextMenu(null);\n    }\n    function handleGenerateDraft(nodeId) {\n        setContextMenu(null);\n        const node = outline ? (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.findNode)(outline, nodeId) : null;\n        const title = node ? node.title : \"this section\";\n        alert('Generate Draft for \"' + title + '\"  AI generation coming soon.');\n    }\n    const handleAddNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function handleAdd() {\n        if (!outline) return;\n        let targetParentId = outline.id;\n        if (outline.children && outline.children.length > 0) {\n            const lastChild = outline.children[outline.children.length - 1];\n            if (lastChild.type === \"part\") {\n                targetParentId = lastChild.id;\n            }\n        }\n        const newNode = {\n            id: (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.generateId)(),\n            type: \"chapter\",\n            title: \"New Chapter\",\n            status: \"idea\",\n            children: []\n        };\n        const updated = (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.addChild)(outline, targetParentId, newNode);\n        onOutlineChange(updated);\n        setEditingId(newNode.id);\n        setEditTitle(newNode.title);\n    }, [\n        outline,\n        onOutlineChange\n    ]);\n    if (!outline) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: 12,\n                color: \"var(--color-text-muted)\",\n                padding: 24,\n                textAlign: \"center\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 13\n            },\n            children: \"No outline loaded\"\n        }, void 0, false, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n            lineNumber: 446,\n            columnNumber: 7\n        }, this);\n    }\n    const activeNode = activeId ? (0,_lib_outline__WEBPACK_IMPORTED_MODULE_5__.findNode)(outline, activeId) : null;\n    const rootChildIds = (outline.children || []).map(function getId(c) {\n        return c.id;\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 12,\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DndContext, {\n                sensors: sensors,\n                collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.closestCenter,\n                onDragStart: handleDragStart,\n                onDragEnd: handleDragEnd,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            flex: 1,\n                            overflowY: \"auto\",\n                            padding: \"4px 0\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.SortableContext, {\n                            items: rootChildIds,\n                            strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.verticalListSortingStrategy,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        padding: \"6px 12px\",\n                                        fontWeight: 600,\n                                        fontSize: 13,\n                                        color: \"var(--color-text)\",\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: 4\n                                    },\n                                    onContextMenu: function handleRootCtx(e) {\n                                        e.preventDefault();\n                                        handleContextMenu(e, outline.id);\n                                    },\n                                    children: [\n                                        outline.title,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StatusBadge, {\n                                            status: outline.status\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                    lineNumber: 493,\n                                    columnNumber: 13\n                                }, this),\n                                (outline.children || []).map(function renderChild(child) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableNode, {\n                                        node: child,\n                                        depth: 1,\n                                        expanded: expanded,\n                                        onToggle: handleToggle,\n                                        onSelect: function handleSelect(id) {\n                                            onChapterSelect(id);\n                                        },\n                                        onContextMenu: handleContextMenu,\n                                        activeId: activeId\n                                    }, child.id, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 489,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 488,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.DragOverlay, {\n                        children: activeNode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DragPreview, {\n                            node: activeNode\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 532,\n                            columnNumber: 25\n                        }, this) : null\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 531,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 482,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    borderTop: \"1px solid var(--color-border)\",\n                    padding: 8,\n                    flexShrink: 0\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleAddNode,\n                    style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        gap: 6,\n                        width: \"100%\",\n                        padding: \"6px 0\",\n                        border: \"1px dashed var(--color-border)\",\n                        borderRadius: 6,\n                        background: \"none\",\n                        color: \"var(--color-text-muted)\",\n                        fontSize: 12,\n                        fontFamily: \"inherit\",\n                        cursor: \"pointer\",\n                        transition: \"color 150ms, border-color 150ms\"\n                    },\n                    onMouseEnter: function handleEnter(e) {\n                        e.currentTarget.style.color = \"var(--color-accent)\";\n                        e.currentTarget.style.borderColor = \"var(--color-accent)\";\n                    },\n                    onMouseLeave: function handleLeave(e) {\n                        e.currentTarget.style.color = \"var(--color-text-muted)\";\n                        e.currentTarget.style.borderColor = \"var(--color-border)\";\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            size: 14\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 570,\n                            columnNumber: 11\n                        }, this),\n                        \"Add Chapter\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                    lineNumber: 543,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 536,\n                columnNumber: 7\n            }, this),\n            contextMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contextMenuRef,\n                style: {\n                    position: \"fixed\",\n                    top: contextMenu.y,\n                    left: contextMenu.x,\n                    backgroundColor: \"var(--color-surface)\",\n                    border: \"1px solid var(--color-border)\",\n                    borderRadius: 8,\n                    boxShadow: \"0 4px 16px rgba(0,0,0,0.12)\",\n                    padding: 4,\n                    zIndex: 9999,\n                    minWidth: 160,\n                    fontSize: 12\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleEdit() {\n                            handleEditTitle(contextMenu.nodeId);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            width: \"100%\",\n                            padding: \"6px 10px\",\n                            border: \"none\",\n                            background: \"none\",\n                            color: \"var(--color-text)\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderRadius: 4,\n                            textAlign: \"left\"\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                lineNumber: 618,\n                                columnNumber: 13\n                            }, this),\n                            \"Edit Title\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 592,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: \"relative\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: function handleStatusToggle() {\n                                    setStatusMenuId(function toggle(prev) {\n                                        return prev === contextMenu.nodeId ? null : contextMenu.nodeId;\n                                    });\n                                },\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    gap: 8,\n                                    width: \"100%\",\n                                    padding: \"6px 10px\",\n                                    border: \"none\",\n                                    background: \"none\",\n                                    color: \"var(--color-text)\",\n                                    fontSize: 12,\n                                    fontFamily: \"inherit\",\n                                    cursor: \"pointer\",\n                                    borderRadius: 4,\n                                    textAlign: \"left\"\n                                },\n                                onMouseEnter: function handleEnter(e) {\n                                    e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                },\n                                onMouseLeave: function handleLeave(e) {\n                                    e.currentTarget.style.backgroundColor = \"transparent\";\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        size: 13\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                        lineNumber: 651,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Set Status\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                lineNumber: 623,\n                                columnNumber: 13\n                            }, this),\n                            statusMenuId === contextMenu.nodeId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    position: \"absolute\",\n                                    left: \"100%\",\n                                    top: 0,\n                                    backgroundColor: \"var(--color-surface)\",\n                                    border: \"1px solid var(--color-border)\",\n                                    borderRadius: 8,\n                                    boxShadow: \"0 4px 16px rgba(0,0,0,0.12)\",\n                                    padding: 4,\n                                    minWidth: 120,\n                                    zIndex: 10000\n                                },\n                                children: [\n                                    \"idea\",\n                                    \"draft\",\n                                    \"revision\",\n                                    \"final\"\n                                ].map(function renderStatus(s) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function handleSet() {\n                                            handleSetStatus(contextMenu.nodeId, s);\n                                        },\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: 8,\n                                            width: \"100%\",\n                                            padding: \"5px 10px\",\n                                            border: \"none\",\n                                            background: \"none\",\n                                            color: STATUS_COLORS[s],\n                                            fontSize: 12,\n                                            fontFamily: \"inherit\",\n                                            cursor: \"pointer\",\n                                            borderRadius: 4,\n                                            textAlign: \"left\"\n                                        },\n                                        onMouseEnter: function handleEnter(e) {\n                                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                        },\n                                        onMouseLeave: function handleLeave(e) {\n                                            e.currentTarget.style.backgroundColor = \"transparent\";\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    width: 8,\n                                                    height: 8,\n                                                    borderRadius: \"50%\",\n                                                    backgroundColor: STATUS_COLORS[s],\n                                                    flexShrink: 0\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                                lineNumber: 700,\n                                                columnNumber: 25\n                                            }, this),\n                                            STATUS_LABELS[s]\n                                        ]\n                                    }, s, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                        lineNumber: 673,\n                                        columnNumber: 23\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                lineNumber: 656,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 622,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleGenerate() {\n                            handleGenerateDraft(contextMenu.nodeId);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            width: \"100%\",\n                            padding: \"6px 10px\",\n                            border: \"none\",\n                            background: \"none\",\n                            color: \"var(--color-accent)\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderRadius: 4,\n                            textAlign: \"left\"\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                lineNumber: 744,\n                                columnNumber: 13\n                            }, this),\n                            \"Generate Draft\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 718,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            height: 1,\n                            backgroundColor: \"var(--color-border)\",\n                            margin: \"4px 0\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 748,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: function handleDel() {\n                            handleDelete(contextMenu.nodeId);\n                        },\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            width: \"100%\",\n                            padding: \"6px 10px\",\n                            border: \"none\",\n                            background: \"none\",\n                            color: \"#d9534f\",\n                            fontSize: 12,\n                            fontFamily: \"inherit\",\n                            cursor: \"pointer\",\n                            borderRadius: 4,\n                            textAlign: \"left\"\n                        },\n                        onMouseEnter: function handleEnter(e) {\n                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                        },\n                        onMouseLeave: function handleLeave(e) {\n                            e.currentTarget.style.backgroundColor = \"transparent\";\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronRight_CircleDot_GripVertical_Pencil_Plus_Sparkles_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                size: 13\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                lineNumber: 782,\n                                columnNumber: 13\n                            }, this),\n                            \"Delete\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                        lineNumber: 756,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 576,\n                columnNumber: 9\n            }, this),\n            editingId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    inset: 0,\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    backgroundColor: \"rgba(0,0,0,0.3)\",\n                    zIndex: 10000\n                },\n                onClick: function handleBackdrop(e) {\n                    if (e.target === e.currentTarget) {\n                        setEditingId(null);\n                        setEditTitle(\"\");\n                    }\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        backgroundColor: \"var(--color-surface)\",\n                        border: \"1px solid var(--color-border)\",\n                        borderRadius: 8,\n                        padding: 16,\n                        width: 280,\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        gap: 12\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            style: {\n                                fontSize: 13,\n                                fontWeight: 600,\n                                color: \"var(--color-text)\"\n                            },\n                            children: \"Edit Title\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 818,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: editInputRef,\n                            type: \"text\",\n                            value: editTitle,\n                            onChange: function handleChange(e) {\n                                setEditTitle(e.target.value);\n                            },\n                            onKeyDown: function handleKey(e) {\n                                if (e.key === \"Enter\") handleSaveTitle();\n                                if (e.key === \"Escape\") {\n                                    setEditingId(null);\n                                    setEditTitle(\"\");\n                                }\n                            },\n                            style: {\n                                fontSize: 13,\n                                padding: \"6px 10px\",\n                                borderRadius: 6,\n                                border: \"1px solid var(--color-border)\",\n                                backgroundColor: \"var(--color-bg)\",\n                                color: \"var(--color-text)\",\n                                outline: \"none\",\n                                fontFamily: \"inherit\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 821,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                justifyContent: \"flex-end\",\n                                gap: 6\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: function handleCancel() {\n                                        setEditingId(null);\n                                        setEditTitle(\"\");\n                                    },\n                                    style: {\n                                        fontSize: 12,\n                                        padding: \"5px 12px\",\n                                        borderRadius: 5,\n                                        border: \"1px solid var(--color-border)\",\n                                        background: \"none\",\n                                        color: \"var(--color-text-muted)\",\n                                        cursor: \"pointer\",\n                                        fontFamily: \"inherit\"\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                    lineNumber: 847,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSaveTitle,\n                                    style: {\n                                        fontSize: 12,\n                                        padding: \"5px 12px\",\n                                        borderRadius: 5,\n                                        border: \"none\",\n                                        backgroundColor: \"var(--color-accent)\",\n                                        color: \"#fff\",\n                                        cursor: \"pointer\",\n                                        fontFamily: \"inherit\"\n                                    },\n                                    children: \"Save\"\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                                    lineNumber: 865,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                            lineNumber: 846,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                    lineNumber: 806,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n                lineNumber: 789,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/OutlinePanel.tsx\",\n        lineNumber: 472,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3NpZGViYXIvT3V0bGluZVBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVpRTtBQVMxQztBQU9JO0FBQ2M7QUFTbkI7QUFVQztBQWN2QixNQUFNOEIsZ0JBQXVEO0lBQzNEQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsVUFBVTtJQUNWQyxPQUFPO0FBQ1Q7QUFFQSxNQUFNQyxnQkFBdUQ7SUFDM0RKLE1BQU07SUFDTkMsT0FBTztJQUNQQyxVQUFVO0lBQ1ZDLE9BQU87QUFDVDtBQUVBLFNBQVNFLFlBQVksRUFBRUMsTUFBTSxFQUFxQztJQUNoRSxxQkFDRSw4REFBQ0M7UUFDQ0MsT0FBTztZQUNMQyxTQUFTO1lBQ1RDLFlBQVk7WUFDWkMsS0FBSztZQUNMQyxVQUFVO1lBQ1ZDLFlBQVk7WUFDWkMsT0FBT2YsYUFBYSxDQUFDTyxPQUFPO1lBQzVCUyxTQUFTO1lBQ1RDLGNBQWM7WUFDZEMsaUJBQWlCLENBQUMsbUJBQW1CLEVBQUVsQixhQUFhLENBQUNPLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztZQUNoRlksWUFBWTtZQUNaQyxZQUFZO1FBQ2Q7a0JBRUNmLGFBQWEsQ0FBQ0UsT0FBTzs7Ozs7O0FBRzVCO0FBWUEsU0FBU2MsYUFBYSxFQUNwQkMsSUFBSSxFQUNKQyxLQUFLLEVBQ0xDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLGFBQWEsRUFDYkMsUUFBUSxFQUNVO0lBQ2xCLE1BQU0sRUFDSkMsVUFBVSxFQUNWQyxTQUFTLEVBQ1RDLFVBQVUsRUFDVkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDWCxHQUFHcEQsOERBQVdBLENBQUM7UUFBRXFELElBQUliLEtBQUthLEVBQUU7SUFBQztJQUU5QixNQUFNMUIsUUFBUTtRQUNadUIsV0FBVy9DLG1EQUFHQSxDQUFDbUQsU0FBUyxDQUFDQyxRQUFRLENBQUNMO1FBQ2xDQztRQUNBSyxTQUFTSixhQUFhLE1BQU07SUFDOUI7SUFF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QUNSK0csWUFBWTtvQ0FDZDs4Q0FDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTZiIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2NvbXBvbmVudHMvc2lkZWJhci9PdXRsaW5lUGFuZWwudHN4P2YzZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIERuZENvbnRleHQsXG4gIGNsb3Nlc3RDZW50ZXIsXG4gIFBvaW50ZXJTZW5zb3IsXG4gIEtleWJvYXJkU2Vuc29yLFxuICB1c2VTZW5zb3IsXG4gIHVzZVNlbnNvcnMsXG4gIERyYWdPdmVybGF5LFxufSBmcm9tIFwiQGRuZC1raXQvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBEcmFnU3RhcnRFdmVudCwgRHJhZ0VuZEV2ZW50IH0gZnJvbSBcIkBkbmQta2l0L2NvcmVcIjtcbmltcG9ydCB7XG4gIFNvcnRhYmxlQ29udGV4dCxcbiAgdXNlU29ydGFibGUsXG4gIHZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneSxcbiAgc29ydGFibGVLZXlib2FyZENvb3JkaW5hdGVzLFxufSBmcm9tIFwiQGRuZC1raXQvc29ydGFibGVcIjtcbmltcG9ydCB7IENTUyB9IGZyb20gXCJAZG5kLWtpdC91dGlsaXRpZXNcIjtcbmltcG9ydCB7XG4gIENoZXZyb25SaWdodCxcbiAgR3JpcFZlcnRpY2FsLFxuICBQbHVzLFxuICBQZW5jaWwsXG4gIFRyYXNoMixcbiAgU3BhcmtsZXMsXG4gIENpcmNsZURvdCxcbn0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBPdXRsaW5lTm9kZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQge1xuICBmaW5kTm9kZSxcbiAgdXBkYXRlTm9kZSxcbiAgYWRkQ2hpbGQsXG4gIHJlbW92ZU5vZGUsXG4gIHJlb3JkZXJDaGlsZHJlbixcbiAgZ2V0UGFyZW50SWQsXG4gIGdlbmVyYXRlSWQsXG59IGZyb20gXCJAL2xpYi9vdXRsaW5lXCI7XG5cbmludGVyZmFjZSBPdXRsaW5lUGFuZWxQcm9wcyB7XG4gIG91dGxpbmU6IE91dGxpbmVOb2RlIHwgbnVsbDtcbiAgb25PdXRsaW5lQ2hhbmdlOiAobm9kZTogT3V0bGluZU5vZGUpID0+IHZvaWQ7XG4gIG9uQ2hhcHRlclNlbGVjdDogKGNoYXB0ZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQ29udGV4dE1lbnVTdGF0ZSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBub2RlSWQ6IHN0cmluZztcbn1cblxuY29uc3QgU1RBVFVTX0NPTE9SUzogUmVjb3JkPE91dGxpbmVOb2RlW1wic3RhdHVzXCJdLCBzdHJpbmc+ID0ge1xuICBpZGVhOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gIGRyYWZ0OiBcIiM1YjliZDVcIixcbiAgcmV2aXNpb246IFwiI2Q0YTg0M1wiLFxuICBmaW5hbDogXCIjNmFiMDRjXCIsXG59O1xuXG5jb25zdCBTVEFUVVNfTEFCRUxTOiBSZWNvcmQ8T3V0bGluZU5vZGVbXCJzdGF0dXNcIl0sIHN0cmluZz4gPSB7XG4gIGlkZWE6IFwiSWRlYVwiLFxuICBkcmFmdDogXCJEcmFmdFwiLFxuICByZXZpc2lvbjogXCJSZXZpc2lvblwiLFxuICBmaW5hbDogXCJGaW5hbFwiLFxufTtcblxuZnVuY3Rpb24gU3RhdHVzQmFkZ2UoeyBzdGF0dXMgfTogeyBzdGF0dXM6IE91dGxpbmVOb2RlW1wic3RhdHVzXCJdIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICBnYXA6IDMsXG4gICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgICBjb2xvcjogU1RBVFVTX0NPTE9SU1tzdGF0dXNdLFxuICAgICAgICBwYWRkaW5nOiBcIjFweCA1cHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAzLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGBjb2xvci1taXgoaW4gc3JnYiwgJHtTVEFUVVNfQ09MT1JTW3N0YXR1c119IDEyJSwgdHJhbnNwYXJlbnQpYCxcbiAgICAgICAgbGluZUhlaWdodDogMS40LFxuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7U1RBVFVTX0xBQkVMU1tzdGF0dXNdfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIFNvcnRhYmxlTm9kZVByb3BzIHtcbiAgbm9kZTogT3V0bGluZU5vZGU7XG4gIGRlcHRoOiBudW1iZXI7XG4gIGV4cGFuZGVkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgb25Ub2dnbGU6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblNlbGVjdDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQ29udGV4dE1lbnU6IChlOiBSZWFjdC5Nb3VzZUV2ZW50LCBub2RlSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgYWN0aXZlSWQ6IHN0cmluZyB8IG51bGw7XG59XG5cbmZ1bmN0aW9uIFNvcnRhYmxlTm9kZSh7XG4gIG5vZGUsXG4gIGRlcHRoLFxuICBleHBhbmRlZCxcbiAgb25Ub2dnbGUsXG4gIG9uU2VsZWN0LFxuICBvbkNvbnRleHRNZW51LFxuICBhY3RpdmVJZCxcbn06IFNvcnRhYmxlTm9kZVByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBhdHRyaWJ1dGVzLFxuICAgIGxpc3RlbmVycyxcbiAgICBzZXROb2RlUmVmLFxuICAgIHRyYW5zZm9ybSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIGlzRHJhZ2dpbmcsXG4gIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiBub2RlLmlkIH0pO1xuXG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIHRyYW5zZm9ybTogQ1NTLlRyYW5zZm9ybS50b1N0cmluZyh0cmFuc2Zvcm0pLFxuICAgIHRyYW5zaXRpb24sXG4gICAgb3BhY2l0eTogaXNEcmFnZ2luZyA/IDAuNCA6IDEsXG4gIH07XG5cbiAgY29uc3QgaGFzQ2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkW25vZGUuaWRdICE9PSBmYWxzZTtcbiAgY29uc3QgY2hpbGRJZHMgPSAobm9kZS5jaGlsZHJlbiB8fCBbXSkubWFwKGZ1bmN0aW9uIGdldElkKGMpIHtcbiAgICByZXR1cm4gYy5pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17c2V0Tm9kZVJlZn0gc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGdhcDogMixcbiAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHggNHB4IFwiICsgKDggKyBkZXB0aCAqIDE2KSArIFwicHhcIixcbiAgICAgICAgICBjdXJzb3I6IG5vZGUudHlwZSA9PT0gXCJjaGFwdGVyXCIgPyBcInBvaW50ZXJcIiA6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICBtYXJnaW46IFwiMCA0cHhcIixcbiAgICAgICAgICB0cmFuc2l0aW9uOiBcImJhY2tncm91bmQgMTAwbXMgZWFzZVwiLFxuICAgICAgICB9fVxuICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcImNoYXB0ZXJcIikge1xuICAgICAgICAgICAgb25TZWxlY3Qobm9kZS5pZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDaGlsZHJlbikge1xuICAgICAgICAgICAgb25Ub2dnbGUobm9kZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBvbkNvbnRleHRNZW51PXtmdW5jdGlvbiBoYW5kbGVDdHgoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBvbkNvbnRleHRNZW51KGUsIG5vZGUuaWQpO1xuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIGhhbmRsZUVudGVyKGUpIHtcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICB9fVxuICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIGhhbmRsZUxlYXZlKGUpIHtcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIHsuLi5hdHRyaWJ1dGVzfVxuICAgICAgICAgIHsuLi5saXN0ZW5lcnN9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJncmFiXCIsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMnB4IDBcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEdyaXBWZXJ0aWNhbCBzaXplPXsxMn0gLz5cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVUb2dnbGUoZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmIChoYXNDaGlsZHJlbikgb25Ub2dnbGUobm9kZS5pZCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB3aWR0aDogMTYsXG4gICAgICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgY3Vyc29yOiBoYXNDaGlsZHJlbiA/IFwicG9pbnRlclwiIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGhhc0NoaWxkcmVuICYmIGlzRXhwYW5kZWQgPyBcInJvdGF0ZSg5MGRlZylcIiA6IFwicm90YXRlKDBkZWcpXCIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcInRyYW5zZm9ybSAxNTBtcyBlYXNlXCIsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBoYXNDaGlsZHJlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25SaWdodCBzaXplPXsxMn0gLz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIGZvbnRTaXplOiBub2RlLnR5cGUgPT09IFwiYm9va1wiID8gMTMgOiAxMixcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IG5vZGUudHlwZSA9PT0gXCJib29rXCIgfHwgbm9kZS50eXBlID09PSBcInBhcnRcIiA/IDYwMCA6IDQwMCxcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAyLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7bm9kZS50aXRsZX1cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDxTdGF0dXNCYWRnZSBzdGF0dXM9e25vZGUuc3RhdHVzfSAvPlxuXG4gICAgICAgIHtub2RlLndvcmRDb3VudCAhPSBudWxsICYmIG5vZGUud29yZENvdW50ID4gMCAmJiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgICAgICAgbWFyZ2luTGVmdDogNCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge25vZGUud29yZENvdW50LnRvTG9jYWxlU3RyaW5nKCl9d1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7aGFzQ2hpbGRyZW4gJiYgaXNFeHBhbmRlZCAmJiAoXG4gICAgICAgIDxTb3J0YWJsZUNvbnRleHRcbiAgICAgICAgICBpdGVtcz17Y2hpbGRJZHN9XG4gICAgICAgICAgc3RyYXRlZ3k9e3ZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneX1cbiAgICAgICAgPlxuICAgICAgICAgIHtub2RlLmNoaWxkcmVuIS5tYXAoZnVuY3Rpb24gcmVuZGVyQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxTb3J0YWJsZU5vZGVcbiAgICAgICAgICAgICAgICBrZXk9e2NoaWxkLmlkfVxuICAgICAgICAgICAgICAgIG5vZGU9e2NoaWxkfVxuICAgICAgICAgICAgICAgIGRlcHRoPXtkZXB0aCArIDF9XG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ9e2V4cGFuZGVkfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXtvblRvZ2dsZX1cbiAgICAgICAgICAgICAgICBvblNlbGVjdD17b25TZWxlY3R9XG4gICAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17b25Db250ZXh0TWVudX1cbiAgICAgICAgICAgICAgICBhY3RpdmVJZD17YWN0aXZlSWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L1NvcnRhYmxlQ29udGV4dD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERyYWdQcmV2aWV3KHsgbm9kZSB9OiB7IG5vZGU6IE91dGxpbmVOb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgZ2FwOiA2LFxuICAgICAgICBwYWRkaW5nOiBcIjZweCAxMnB4XCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICBib3hTaGFkb3c6IFwiMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpXCIsXG4gICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgbWF4V2lkdGg6IDIyMCxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPEdyaXBWZXJ0aWNhbCBzaXplPXsxMn0gc3R5bGU9e3sgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIiB9fSAvPlxuICAgICAgPHNwYW5cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcbiAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7bm9kZS50aXRsZX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxTdGF0dXNCYWRnZSBzdGF0dXM9e25vZGUuc3RhdHVzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPdXRsaW5lUGFuZWwoe1xuICBvdXRsaW5lLFxuICBvbk91dGxpbmVDaGFuZ2UsXG4gIG9uQ2hhcHRlclNlbGVjdCxcbn06IE91dGxpbmVQYW5lbFByb3BzKSB7XG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcbiAgY29uc3QgW2FjdGl2ZUlkLCBzZXRBY3RpdmVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvbnRleHRNZW51LCBzZXRDb250ZXh0TWVudV0gPSB1c2VTdGF0ZTxDb250ZXh0TWVudVN0YXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlZGl0aW5nSWQsIHNldEVkaXRpbmdJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRUaXRsZSwgc2V0RWRpdFRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc3RhdHVzTWVudUlkLCBzZXRTdGF0dXNNZW51SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGNvbnRleHRNZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgZWRpdElucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHNlbnNvcnMgPSB1c2VTZW5zb3JzKFxuICAgIHVzZVNlbnNvcihQb2ludGVyU2Vuc29yLCB7XG4gICAgICBhY3RpdmF0aW9uQ29uc3RyYWludDogeyBkaXN0YW5jZTogNSB9LFxuICAgIH0pLFxuICAgIHVzZVNlbnNvcihLZXlib2FyZFNlbnNvciwge1xuICAgICAgY29vcmRpbmF0ZUdldHRlcjogc29ydGFibGVLZXlib2FyZENvb3JkaW5hdGVzLFxuICAgIH0pLFxuICApO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiBoYW5kbGVDbGlja091dHNpZGUoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAoY29udGV4dE1lbnVSZWYuY3VycmVudCAmJiAhY29udGV4dE1lbnVSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRDb250ZXh0TWVudShudWxsKTtcbiAgICAgICAgc2V0U3RhdHVzTWVudUlkKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIGZvY3VzRWRpdElucHV0KCkge1xuICAgIGlmIChlZGl0aW5nSWQgJiYgZWRpdElucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGVkaXRJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICBlZGl0SW5wdXRSZWYuY3VycmVudC5zZWxlY3QoKTtcbiAgICB9XG4gIH0sIFtlZGl0aW5nSWRdKTtcblxuICBmdW5jdGlvbiBoYW5kbGVUb2dnbGUoaWQ6IHN0cmluZykge1xuICAgIHNldEV4cGFuZGVkKGZ1bmN0aW9uIHRvZ2dsZShwcmV2KSB7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbaWRdOiBwcmV2W2lkXSA9PT0gZmFsc2UgPyB0cnVlIDogZmFsc2UgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRNZW51KGU6IFJlYWN0Lk1vdXNlRXZlbnQsIG5vZGVJZDogc3RyaW5nKSB7XG4gICAgc2V0Q29udGV4dE1lbnUoeyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSwgbm9kZUlkIH0pO1xuICAgIHNldFN0YXR1c01lbnVJZChudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURyYWdTdGFydChldmVudDogRHJhZ1N0YXJ0RXZlbnQpIHtcbiAgICBzZXRBY3RpdmVJZChTdHJpbmcoZXZlbnQuYWN0aXZlLmlkKSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEcmFnRW5kKGV2ZW50OiBEcmFnRW5kRXZlbnQpIHtcbiAgICBzZXRBY3RpdmVJZChudWxsKTtcbiAgICBpZiAoIW91dGxpbmUpIHJldHVybjtcblxuICAgIGNvbnN0IHsgYWN0aXZlLCBvdmVyIH0gPSBldmVudDtcbiAgICBpZiAoIW92ZXIgfHwgYWN0aXZlLmlkID09PSBvdmVyLmlkKSByZXR1cm47XG5cbiAgICBjb25zdCBhY3RpdmVOb2RlSWQgPSBTdHJpbmcoYWN0aXZlLmlkKTtcbiAgICBjb25zdCBvdmVyTm9kZUlkID0gU3RyaW5nKG92ZXIuaWQpO1xuXG4gICAgY29uc3QgcGFyZW50T2ZBY3RpdmUgPSBnZXRQYXJlbnRJZChvdXRsaW5lLCBhY3RpdmVOb2RlSWQpO1xuICAgIGNvbnN0IHBhcmVudE9mT3ZlciA9IGdldFBhcmVudElkKG91dGxpbmUsIG92ZXJOb2RlSWQpO1xuXG4gICAgaWYgKHBhcmVudE9mQWN0aXZlICYmIHBhcmVudE9mQWN0aXZlID09PSBwYXJlbnRPZk92ZXIpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGZpbmROb2RlKG91dGxpbmUsIHBhcmVudE9mQWN0aXZlKTtcbiAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IG9sZEluZGV4ID0gcGFyZW50LmNoaWxkcmVuLmZpbmRJbmRleChmdW5jdGlvbiBmaW5kT2xkKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5pZCA9PT0gYWN0aXZlTm9kZUlkO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBwYXJlbnQuY2hpbGRyZW4uZmluZEluZGV4KGZ1bmN0aW9uIGZpbmROZXcoYykge1xuICAgICAgICAgIHJldHVybiBjLmlkID09PSBvdmVyTm9kZUlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob2xkSW5kZXggIT09IC0xICYmIG5ld0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSByZW9yZGVyQ2hpbGRyZW4ob3V0bGluZSwgcGFyZW50T2ZBY3RpdmUsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgICAgICAgb25PdXRsaW5lQ2hhbmdlKHVwZGF0ZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWRpdFRpdGxlKG5vZGVJZDogc3RyaW5nKSB7XG4gICAgaWYgKCFvdXRsaW5lKSByZXR1cm47XG4gICAgY29uc3Qgbm9kZSA9IGZpbmROb2RlKG91dGxpbmUsIG5vZGVJZCk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHNldEVkaXRpbmdJZChub2RlSWQpO1xuICAgICAgc2V0RWRpdFRpdGxlKG5vZGUudGl0bGUpO1xuICAgIH1cbiAgICBzZXRDb250ZXh0TWVudShudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNhdmVUaXRsZSgpIHtcbiAgICBpZiAoIW91dGxpbmUgfHwgIWVkaXRpbmdJZCB8fCAhZWRpdFRpdGxlLnRyaW0oKSkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSB1cGRhdGVOb2RlKG91dGxpbmUsIGVkaXRpbmdJZCwgeyB0aXRsZTogZWRpdFRpdGxlLnRyaW0oKSB9KTtcbiAgICBvbk91dGxpbmVDaGFuZ2UodXBkYXRlZCk7XG4gICAgc2V0RWRpdGluZ0lkKG51bGwpO1xuICAgIHNldEVkaXRUaXRsZShcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNldFN0YXR1cyhub2RlSWQ6IHN0cmluZywgc3RhdHVzOiBPdXRsaW5lTm9kZVtcInN0YXR1c1wiXSkge1xuICAgIGlmICghb3V0bGluZSkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSB1cGRhdGVOb2RlKG91dGxpbmUsIG5vZGVJZCwgeyBzdGF0dXMgfSk7XG4gICAgb25PdXRsaW5lQ2hhbmdlKHVwZGF0ZWQpO1xuICAgIHNldENvbnRleHRNZW51KG51bGwpO1xuICAgIHNldFN0YXR1c01lbnVJZChudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShub2RlSWQ6IHN0cmluZykge1xuICAgIGlmICghb3V0bGluZSkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSByZW1vdmVOb2RlKG91dGxpbmUsIG5vZGVJZCk7XG4gICAgb25PdXRsaW5lQ2hhbmdlKHVwZGF0ZWQpO1xuICAgIHNldENvbnRleHRNZW51KG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlR2VuZXJhdGVEcmFmdChub2RlSWQ6IHN0cmluZykge1xuICAgIHNldENvbnRleHRNZW51KG51bGwpO1xuICAgIGNvbnN0IG5vZGUgPSBvdXRsaW5lID8gZmluZE5vZGUob3V0bGluZSwgbm9kZUlkKSA6IG51bGw7XG4gICAgY29uc3QgdGl0bGUgPSBub2RlID8gbm9kZS50aXRsZSA6IFwidGhpcyBzZWN0aW9uXCI7XG4gICAgYWxlcnQoXCJHZW5lcmF0ZSBEcmFmdCBmb3IgXFxcIlwiICsgdGl0bGUgKyBcIlxcXCIg4oCUIEFJIGdlbmVyYXRpb24gY29taW5nIHNvb24uXCIpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlQWRkTm9kZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHtcbiAgICBpZiAoIW91dGxpbmUpIHJldHVybjtcblxuICAgIGxldCB0YXJnZXRQYXJlbnRJZCA9IG91dGxpbmUuaWQ7XG4gICAgaWYgKG91dGxpbmUuY2hpbGRyZW4gJiYgb3V0bGluZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBsYXN0Q2hpbGQgPSBvdXRsaW5lLmNoaWxkcmVuW291dGxpbmUuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICBpZiAobGFzdENoaWxkLnR5cGUgPT09IFwicGFydFwiKSB7XG4gICAgICAgIHRhcmdldFBhcmVudElkID0gbGFzdENoaWxkLmlkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG5ld05vZGU6IE91dGxpbmVOb2RlID0ge1xuICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6IFwiY2hhcHRlclwiLFxuICAgICAgdGl0bGU6IFwiTmV3IENoYXB0ZXJcIixcbiAgICAgIHN0YXR1czogXCJpZGVhXCIsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZWQgPSBhZGRDaGlsZChvdXRsaW5lLCB0YXJnZXRQYXJlbnRJZCwgbmV3Tm9kZSk7XG4gICAgb25PdXRsaW5lQ2hhbmdlKHVwZGF0ZWQpO1xuXG4gICAgc2V0RWRpdGluZ0lkKG5ld05vZGUuaWQpO1xuICAgIHNldEVkaXRUaXRsZShuZXdOb2RlLnRpdGxlKTtcbiAgfSwgW291dGxpbmUsIG9uT3V0bGluZUNoYW5nZV0pO1xuXG4gIGlmICghb3V0bGluZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIHBhZGRpbmc6IDI0LFxuICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIE5vIG91dGxpbmUgbG9hZGVkXG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgYWN0aXZlTm9kZSA9IGFjdGl2ZUlkID8gZmluZE5vZGUob3V0bGluZSwgYWN0aXZlSWQpIDogbnVsbDtcbiAgY29uc3Qgcm9vdENoaWxkSWRzID0gKG91dGxpbmUuY2hpbGRyZW4gfHwgW10pLm1hcChmdW5jdGlvbiBnZXRJZChjKSB7XG4gICAgcmV0dXJuIGMuaWQ7XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwidmFyKC0tZm9udC1pbnRlciksIHN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLFxuICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxEbmRDb250ZXh0XG4gICAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbj17Y2xvc2VzdENlbnRlcn1cbiAgICAgICAgb25EcmFnU3RhcnQ9e2hhbmRsZURyYWdTdGFydH1cbiAgICAgICAgb25EcmFnRW5kPXtoYW5kbGVEcmFnRW5kfVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93WTogXCJhdXRvXCIsIHBhZGRpbmc6IFwiNHB4IDBcIiB9fT5cbiAgICAgICAgICA8U29ydGFibGVDb250ZXh0XG4gICAgICAgICAgICBpdGVtcz17cm9vdENoaWxkSWRzfVxuICAgICAgICAgICAgc3RyYXRlZ3k9e3ZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI2cHggMTJweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogNCxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17ZnVuY3Rpb24gaGFuZGxlUm9vdEN0eChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUNvbnRleHRNZW51KGUsIG91dGxpbmUuaWQpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7b3V0bGluZS50aXRsZX1cbiAgICAgICAgICAgICAgPFN0YXR1c0JhZGdlIHN0YXR1cz17b3V0bGluZS5zdGF0dXN9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgeyhvdXRsaW5lLmNoaWxkcmVuIHx8IFtdKS5tYXAoZnVuY3Rpb24gcmVuZGVyQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U29ydGFibGVOb2RlXG4gICAgICAgICAgICAgICAgICBrZXk9e2NoaWxkLmlkfVxuICAgICAgICAgICAgICAgICAgbm9kZT17Y2hpbGR9XG4gICAgICAgICAgICAgICAgICBkZXB0aD17MX1cbiAgICAgICAgICAgICAgICAgIGV4cGFuZGVkPXtleHBhbmRlZH1cbiAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXtoYW5kbGVUb2dnbGV9XG4gICAgICAgICAgICAgICAgICBvblNlbGVjdD17ZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhcHRlclNlbGVjdChpZCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25Db250ZXh0TWVudT17aGFuZGxlQ29udGV4dE1lbnV9XG4gICAgICAgICAgICAgICAgICBhY3RpdmVJZD17YWN0aXZlSWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvU29ydGFibGVDb250ZXh0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8RHJhZ092ZXJsYXk+XG4gICAgICAgICAge2FjdGl2ZU5vZGUgPyA8RHJhZ1ByZXZpZXcgbm9kZT17YWN0aXZlTm9kZX0gLz4gOiBudWxsfVxuICAgICAgICA8L0RyYWdPdmVybGF5PlxuICAgICAgPC9EbmRDb250ZXh0PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgcGFkZGluZzogOCxcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkTm9kZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBnYXA6IDYsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAwXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMXB4IGRhc2hlZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBcImNvbG9yIDE1MG1zLCBib3JkZXItY29sb3IgMTUwbXNcIixcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS1jb2xvci1hY2NlbnQpXCI7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcInZhcigtLWNvbG9yLWFjY2VudClcIjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiO1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCI7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQbHVzIHNpemU9ezE0fSAvPlxuICAgICAgICAgIEFkZCBDaGFwdGVyXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtjb250ZXh0TWVudSAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICByZWY9e2NvbnRleHRNZW51UmVmfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgdG9wOiBjb250ZXh0TWVudS55LFxuICAgICAgICAgICAgbGVmdDogY29udGV4dE1lbnUueCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgICAgICBib3hTaGFkb3c6IFwiMCA0cHggMTZweCByZ2JhKDAsMCwwLDAuMTIpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICAgICAgbWluV2lkdGg6IDE2MCxcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlRWRpdCgpIHtcbiAgICAgICAgICAgICAgaGFuZGxlRWRpdFRpdGxlKGNvbnRleHRNZW51Lm5vZGVJZCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGdhcDogOCxcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxMHB4XCIsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBoYW5kbGVFbnRlcihlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBoYW5kbGVMZWF2ZShlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQZW5jaWwgc2l6ZT17MTN9IC8+XG4gICAgICAgICAgICBFZGl0IFRpdGxlXG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfX0+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Z1bmN0aW9uIGhhbmRsZVN0YXR1c1RvZ2dsZSgpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0dXNNZW51SWQoZnVuY3Rpb24gdG9nZ2xlKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ID09PSBjb250ZXh0TWVudS5ub2RlSWQgPyBudWxsIDogY29udGV4dE1lbnUubm9kZUlkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjZweCAxMHB4XCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIGhhbmRsZUVudGVyKGUpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIGhhbmRsZUxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2lyY2xlRG90IHNpemU9ezEzfSAvPlxuICAgICAgICAgICAgICBTZXQgU3RhdHVzXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAge3N0YXR1c01lbnVJZCA9PT0gY29udGV4dE1lbnUubm9kZUlkICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgbGVmdDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3Itc3VyZmFjZSlcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgNHB4IDE2cHggcmdiYSgwLDAsMCwwLjEyKVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogNCxcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMjAsXG4gICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7KFtcImlkZWFcIiwgXCJkcmFmdFwiLCBcInJldmlzaW9uXCIsIFwiZmluYWxcIl0gYXMgT3V0bGluZU5vZGVbXCJzdGF0dXNcIl1bXSkubWFwKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyU3RhdHVzKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVTZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNldFN0YXR1cyhjb250ZXh0TWVudS5ub2RlSWQsIHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI1cHggMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFNUQVRVU19DT0xPUlNbc10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIGhhbmRsZUVudGVyKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3Itc3VyZmFjZS1ob3ZlcilcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIGhhbmRsZUxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogU1RBVFVTX0NPTE9SU1tzXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtTVEFUVVNfTEFCRUxTW3NdfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVHZW5lcmF0ZSgpIHtcbiAgICAgICAgICAgICAgaGFuZGxlR2VuZXJhdGVEcmFmdChjb250ZXh0TWVudS5ub2RlSWQpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCI2cHggMTBweFwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtmdW5jdGlvbiBoYW5kbGVFbnRlcihlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtmdW5jdGlvbiBoYW5kbGVMZWF2ZShlKSB7XG4gICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTcGFya2xlcyBzaXplPXsxM30gLz5cbiAgICAgICAgICAgIEdlbmVyYXRlIERyYWZ0XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgIG1hcmdpbjogXCI0cHggMFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlRGVsKCkge1xuICAgICAgICAgICAgICBoYW5kbGVEZWxldGUoY29udGV4dE1lbnUubm9kZUlkKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDEwcHhcIixcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiNkOTUzNGZcIixcbiAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VHJhc2gyIHNpemU9ezEzfSAvPlxuICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2VkaXRpbmdJZCAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgICAgIGluc2V0OiAwLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLDAsMCwwLjMpXCIsXG4gICAgICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICAgIH19XG4gICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlQmFja2Ryb3AoZSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgc2V0RWRpdGluZ0lkKG51bGwpO1xuICAgICAgICAgICAgICBzZXRFZGl0VGl0bGUoXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ2YXIoLS1jb2xvci1zdXJmYWNlKVwiLFxuICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgICAgICAgICAgICBwYWRkaW5nOiAxNixcbiAgICAgICAgICAgICAgd2lkdGg6IDI4MCxcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgIGdhcDogMTIsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMywgZm9udFdlaWdodDogNjAwLCBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiIH19PlxuICAgICAgICAgICAgICBFZGl0IFRpdGxlXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtlZGl0SW5wdXRSZWZ9XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2VkaXRUaXRsZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdFRpdGxlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25LZXlEb3duPXtmdW5jdGlvbiBoYW5kbGVLZXkoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSBoYW5kbGVTYXZlVGl0bGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgIHNldEVkaXRUaXRsZShcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEzLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNnB4IDEwcHhcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQpXCIsXG4gICAgICAgICAgICAgICAgb3V0bGluZTogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIiwgZ2FwOiA2IH19PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkge1xuICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ0lkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0RWRpdFRpdGxlKFwiXCIpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNXB4IDEycHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlVGl0bGV9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNXB4IDEycHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTYXZlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiRG5kQ29udGV4dCIsImNsb3Nlc3RDZW50ZXIiLCJQb2ludGVyU2Vuc29yIiwiS2V5Ym9hcmRTZW5zb3IiLCJ1c2VTZW5zb3IiLCJ1c2VTZW5zb3JzIiwiRHJhZ092ZXJsYXkiLCJTb3J0YWJsZUNvbnRleHQiLCJ1c2VTb3J0YWJsZSIsInZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneSIsInNvcnRhYmxlS2V5Ym9hcmRDb29yZGluYXRlcyIsIkNTUyIsIkNoZXZyb25SaWdodCIsIkdyaXBWZXJ0aWNhbCIsIlBsdXMiLCJQZW5jaWwiLCJUcmFzaDIiLCJTcGFya2xlcyIsIkNpcmNsZURvdCIsImZpbmROb2RlIiwidXBkYXRlTm9kZSIsImFkZENoaWxkIiwicmVtb3ZlTm9kZSIsInJlb3JkZXJDaGlsZHJlbiIsImdldFBhcmVudElkIiwiZ2VuZXJhdGVJZCIsIlNUQVRVU19DT0xPUlMiLCJpZGVhIiwiZHJhZnQiLCJyZXZpc2lvbiIsImZpbmFsIiwiU1RBVFVTX0xBQkVMUyIsIlN0YXR1c0JhZGdlIiwic3RhdHVzIiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJsaW5lSGVpZ2h0IiwiZmxleFNocmluayIsIlNvcnRhYmxlTm9kZSIsIm5vZGUiLCJkZXB0aCIsImV4cGFuZGVkIiwib25Ub2dnbGUiLCJvblNlbGVjdCIsIm9uQ29udGV4dE1lbnUiLCJhY3RpdmVJZCIsImF0dHJpYnV0ZXMiLCJsaXN0ZW5lcnMiLCJzZXROb2RlUmVmIiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsImlzRHJhZ2dpbmciLCJpZCIsIlRyYW5zZm9ybSIsInRvU3RyaW5nIiwib3BhY2l0eSIsImhhc0NoaWxkcmVuIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJpc0V4cGFuZGVkIiwiY2hpbGRJZHMiLCJtYXAiLCJnZXRJZCIsImMiLCJkaXYiLCJyZWYiLCJjdXJzb3IiLCJ0eXBlIiwidXNlclNlbGVjdCIsIm1hcmdpbiIsIm9uQ2xpY2siLCJoYW5kbGVDbGljayIsImhhbmRsZUN0eCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9uTW91c2VFbnRlciIsImhhbmRsZUVudGVyIiwiY3VycmVudFRhcmdldCIsIm9uTW91c2VMZWF2ZSIsImhhbmRsZUxlYXZlIiwic2l6ZSIsImJ1dHRvbiIsImhhbmRsZVRvZ2dsZSIsInN0b3BQcm9wYWdhdGlvbiIsImp1c3RpZnlDb250ZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXIiLCJiYWNrZ3JvdW5kIiwidmlzaWJpbGl0eSIsImZsZXgiLCJvdmVyZmxvdyIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJwYWRkaW5nTGVmdCIsInRpdGxlIiwid29yZENvdW50IiwibWFyZ2luTGVmdCIsInRvTG9jYWxlU3RyaW5nIiwiaXRlbXMiLCJzdHJhdGVneSIsInJlbmRlckNoaWxkIiwiY2hpbGQiLCJEcmFnUHJldmlldyIsImJveFNoYWRvdyIsIm1heFdpZHRoIiwiT3V0bGluZVBhbmVsIiwib3V0bGluZSIsIm9uT3V0bGluZUNoYW5nZSIsIm9uQ2hhcHRlclNlbGVjdCIsInNldEV4cGFuZGVkIiwic2V0QWN0aXZlSWQiLCJjb250ZXh0TWVudSIsInNldENvbnRleHRNZW51IiwiZWRpdGluZ0lkIiwic2V0RWRpdGluZ0lkIiwiZWRpdFRpdGxlIiwic2V0RWRpdFRpdGxlIiwic3RhdHVzTWVudUlkIiwic2V0U3RhdHVzTWVudUlkIiwiY29udGV4dE1lbnVSZWYiLCJlZGl0SW5wdXRSZWYiLCJzZW5zb3JzIiwiYWN0aXZhdGlvbkNvbnN0cmFpbnQiLCJkaXN0YW5jZSIsImNvb3JkaW5hdGVHZXR0ZXIiLCJoYW5kbGVDbGlja091dHNpZGUiLCJoYW5kbGVyIiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYW51cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb2N1c0VkaXRJbnB1dCIsImZvY3VzIiwic2VsZWN0IiwidG9nZ2xlIiwicHJldiIsImhhbmRsZUNvbnRleHRNZW51Iiwibm9kZUlkIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsImhhbmRsZURyYWdTdGFydCIsImV2ZW50IiwiU3RyaW5nIiwiYWN0aXZlIiwiaGFuZGxlRHJhZ0VuZCIsIm92ZXIiLCJhY3RpdmVOb2RlSWQiLCJvdmVyTm9kZUlkIiwicGFyZW50T2ZBY3RpdmUiLCJwYXJlbnRPZk92ZXIiLCJwYXJlbnQiLCJvbGRJbmRleCIsImZpbmRJbmRleCIsImZpbmRPbGQiLCJuZXdJbmRleCIsImZpbmROZXciLCJ1cGRhdGVkIiwiaGFuZGxlRWRpdFRpdGxlIiwiaGFuZGxlU2F2ZVRpdGxlIiwidHJpbSIsImhhbmRsZVNldFN0YXR1cyIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUdlbmVyYXRlRHJhZnQiLCJhbGVydCIsImhhbmRsZUFkZE5vZGUiLCJoYW5kbGVBZGQiLCJ0YXJnZXRQYXJlbnRJZCIsImxhc3RDaGlsZCIsIm5ld05vZGUiLCJmbGV4RGlyZWN0aW9uIiwidGV4dEFsaWduIiwiZm9udEZhbWlseSIsImFjdGl2ZU5vZGUiLCJyb290Q2hpbGRJZHMiLCJwb3NpdGlvbiIsImNvbGxpc2lvbkRldGVjdGlvbiIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwib3ZlcmZsb3dZIiwiaGFuZGxlUm9vdEN0eCIsImhhbmRsZVNlbGVjdCIsImJvcmRlclRvcCIsImJvcmRlckNvbG9yIiwidG9wIiwibGVmdCIsInpJbmRleCIsIm1pbldpZHRoIiwiaGFuZGxlRWRpdCIsImhhbmRsZVN0YXR1c1RvZ2dsZSIsInJlbmRlclN0YXR1cyIsInMiLCJoYW5kbGVTZXQiLCJoYW5kbGVHZW5lcmF0ZSIsImhhbmRsZURlbCIsImluc2V0IiwiaGFuZGxlQmFja2Ryb3AiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJoYW5kbGVDaGFuZ2UiLCJvbktleURvd24iLCJoYW5kbGVLZXkiLCJrZXkiLCJoYW5kbGVDYW5jZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/OutlinePanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/sidebar/VoicePanel.tsx":
/*!*******************************************!*\
  !*** ./components/sidebar/VoicePanel.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VoicePanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=FileText,Loader2,Pencil,Plus,Save,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store */ \"(ssr)/./store/index.ts\");\n/* harmony import */ var _lib_bookConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/bookConfig */ \"(ssr)/./lib/bookConfig.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/tokens */ \"(ssr)/./lib/tokens.ts\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/lib/index.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\nfunction VoicePanel() {\n    const currentBook = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectBook(s) {\n        return s.editor.currentBook;\n    });\n    const keysStored = (0,_store__WEBPACK_IMPORTED_MODULE_2__.useAppStore)(function selectKeys(s) {\n        return s.preferences.keysStored;\n    });\n    const config = (0,_lib_bookConfig__WEBPACK_IMPORTED_MODULE_3__.getBookConfig)(currentBook);\n    const owner = config?.owner;\n    const repo = config?.repo;\n    const branch = config?.branch || \"main\";\n    const [voiceContent, setVoiceContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editContent, setEditContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [editing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [voiceSha, setVoiceSha] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [samples, setSamples] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [samplesLoading, setSamplesLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [analyzing, setAnalyzing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewSample, setShowNewSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newSampleName, setNewSampleName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const fetchVoiceFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function fetchVoice() {\n        if (!keysStored || !owner || !repo) return;\n        setLoading(true);\n        fetch(\"/api/github/files?owner=\" + owner + \"&repo=\" + repo + \"&path=voice.md&branch=\" + branch).then(function handleRes(res) {\n            if (!res.ok) {\n                if (res.status === 404) {\n                    setVoiceContent(\"\");\n                    setVoiceSha(null);\n                    return null;\n                }\n                throw new Error(\"Failed to fetch\");\n            }\n            return res.json();\n        }).then(function handleData(data) {\n            if (data) {\n                setVoiceContent(data.content || \"\");\n                setVoiceSha(data.sha || null);\n            }\n        }).catch(function handleErr() {\n            setVoiceContent(\"\");\n            setVoiceSha(null);\n        }).finally(function done() {\n            setLoading(false);\n        });\n    }, [\n        keysStored,\n        owner,\n        repo,\n        branch\n    ]);\n    const fetchSamples = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function fetchVoiceSamples() {\n        if (!keysStored || !owner || !repo) return;\n        setSamplesLoading(true);\n        fetch(\"/api/github/tree?owner=\" + owner + \"&repo=\" + repo + \"&branch=\" + branch).then(function handleRes(res) {\n            if (!res.ok) throw new Error(\"Failed to fetch\");\n            return res.json();\n        }).then(function handleData(data) {\n            const tree = data.tree ?? data;\n            if (Array.isArray(tree)) {\n                const voiceFiles = tree.filter(function isVoice(p) {\n                    return p.startsWith(\"voice/\") && !p.endsWith(\".gitkeep\") && p !== \"voice/\";\n                }).map(function toFile(p) {\n                    const name = p.split(\"/\").pop() ?? p;\n                    return {\n                        name,\n                        path: p,\n                        size: 0\n                    };\n                });\n                setSamples(voiceFiles);\n            }\n        }).catch(function handleErr() {\n            setSamples([]);\n        }).finally(function done() {\n            setSamplesLoading(false);\n        });\n    }, [\n        keysStored,\n        owner,\n        repo,\n        branch\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function loadVoice() {\n        fetchVoiceFile();\n        fetchSamples();\n    }, [\n        fetchVoiceFile,\n        fetchSamples\n    ]);\n    function handleEdit() {\n        setEditing(true);\n        setEditContent(voiceContent);\n    }\n    function handleCancelEdit() {\n        setEditing(false);\n        setEditContent(\"\");\n    }\n    function handleSave() {\n        if (!keysStored || !owner || !repo) return;\n        setSaving(true);\n        const body = {\n            owner,\n            repo,\n            path: \"voice.md\",\n            content: editContent,\n            message: \"Update voice guide\"\n        };\n        if (voiceSha) {\n            body.sha = voiceSha;\n        }\n        fetch(\"/api/github/files\", {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n        }).then(function handleRes(res) {\n            if (!res.ok) throw new Error(\"Failed to save\");\n            return res.json();\n        }).then(function handleData(data) {\n            setVoiceContent(editContent);\n            setVoiceSha(data.sha || voiceSha);\n            setEditing(false);\n            setEditContent(\"\");\n        }).catch(function handleErr() {\n            alert(\"Failed to save voice guide.\");\n        }).finally(function done() {\n            setSaving(false);\n        });\n    }\n    function handleAnalyzeVoice() {\n        if (!keysStored) return;\n        setAnalyzing(true);\n        setTimeout(function simulateAnalysis() {\n            setAnalyzing(false);\n            alert(\"Analyze Voice is coming soon. This will analyze your writing samples and generate style metrics.\");\n        }, 1500);\n    }\n    function handleCreateSample() {\n        if (!keysStored || !owner || !repo || !newSampleName.trim()) return;\n        const path = \"voice/\" + newSampleName.trim();\n        fetch(\"/api/github/files\", {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                owner,\n                repo,\n                path,\n                content: \"\",\n                message: \"Add voice sample: \" + newSampleName.trim()\n            })\n        }).then(function handleRes() {\n            fetchSamples();\n            setShowNewSample(false);\n            setNewSampleName(\"\");\n        }).catch(function handleErr() {\n            alert(\"Failed to create sample file.\");\n        });\n    }\n    if (!owner || !repo) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100%\",\n                gap: 12,\n                color: \"var(--color-text-muted)\",\n                padding: 24,\n                textAlign: \"center\",\n                fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n                fontSize: 13\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    size: 32,\n                    strokeWidth: 1,\n                    style: {\n                        opacity: 0.5\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"Open a book to view your voice guide\"\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                    lineNumber: 210,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n            lineNumber: 194,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            height: \"100%\",\n            fontFamily: \"var(--font-inter), system-ui, sans-serif\",\n            fontSize: 12\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    padding: \"8px 12px\",\n                    borderBottom: \"1px solid var(--color-border)\",\n                    flexShrink: 0\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontSize: 11,\n                            fontWeight: 600,\n                            color: \"var(--color-text-muted)\",\n                            textTransform: \"uppercase\",\n                            letterSpacing: \"0.5px\"\n                        },\n                        children: \"Voice Guide\"\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            gap: 4\n                        },\n                        children: !editing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleEdit,\n                            title: \"Edit\",\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: 4,\n                                padding: \"3px 8px\",\n                                border: \"none\",\n                                background: \"none\",\n                                color: \"var(--color-text-muted)\",\n                                cursor: \"pointer\",\n                                borderRadius: 4,\n                                fontSize: 11,\n                                fontFamily: \"inherit\"\n                            },\n                            onMouseEnter: function handleEnter(e) {\n                                e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                            },\n                            onMouseLeave: function handleLeave(e) {\n                                e.currentTarget.style.backgroundColor = \"transparent\";\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 12\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                    lineNumber: 272,\n                                    columnNumber: 15\n                                }, this),\n                                \"Edit\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                            lineNumber: 248,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCancelEdit,\n                                    style: {\n                                        fontSize: 11,\n                                        padding: \"3px 8px\",\n                                        border: \"1px solid var(--color-border)\",\n                                        borderRadius: 4,\n                                        background: \"none\",\n                                        color: \"var(--color-text-muted)\",\n                                        cursor: \"pointer\",\n                                        fontFamily: \"inherit\"\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                    lineNumber: 277,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSave,\n                                    disabled: saving,\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: 4,\n                                        fontSize: 11,\n                                        padding: \"3px 8px\",\n                                        border: \"none\",\n                                        borderRadius: 4,\n                                        backgroundColor: \"var(--color-accent)\",\n                                        color: \"#fff\",\n                                        cursor: saving ? \"default\" : \"pointer\",\n                                        opacity: saving ? 0.6 : 1,\n                                        fontFamily: \"inherit\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                            lineNumber: 310,\n                                            columnNumber: 17\n                                        }, this),\n                                        saving ? \"Saving...\" : \"Save\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                    lineNumber: 292,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                lineNumber: 225,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    flex: 1,\n                    overflowY: \"auto\"\n                },\n                children: [\n                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            padding: 24,\n                            color: \"var(--color-text-muted)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                size: 16,\n                                style: {\n                                    animation: \"spin 1s linear infinite\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 329,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                                children: `@keyframes spin { to { transform: rotate(360deg); } }`\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 330,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 320,\n                        columnNumber: 11\n                    }, this) : editing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: 8\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            value: editContent,\n                            onChange: function handleChange(e) {\n                                setEditContent(e.target.value);\n                            },\n                            style: {\n                                width: \"100%\",\n                                minHeight: 200,\n                                fontSize: 12,\n                                fontFamily: \"var(--font-literata), serif\",\n                                padding: \"10px 12px\",\n                                border: \"1px solid var(--color-border)\",\n                                borderRadius: 6,\n                                backgroundColor: \"var(--color-bg)\",\n                                color: \"var(--color-text)\",\n                                outline: \"none\",\n                                resize: \"vertical\",\n                                lineHeight: 1.6,\n                                boxSizing: \"border-box\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                            lineNumber: 334,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 333,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: \"10px 14px\"\n                        },\n                        children: voiceContent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                fontSize: 12,\n                                lineHeight: 1.6,\n                                color: \"var(--color-text)\",\n                                fontFamily: \"var(--font-literata), serif\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_9__.Markdown, {\n                                remarkPlugins: [\n                                    remark_gfm__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n                                ],\n                                children: voiceContent\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 367,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                            lineNumber: 359,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                color: \"var(--color-text-muted)\",\n                                fontSize: 12,\n                                textAlign: \"center\",\n                                padding: \"16px 0\"\n                            },\n                            children: \"No voice.md file found. Click Edit to create one.\"\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                            lineNumber: 372,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 357,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderTop: \"1px solid var(--color-border)\",\n                            padding: \"10px 12px\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleAnalyzeVoice,\n                            disabled: analyzing || !keysStored,\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                gap: 6,\n                                width: \"100%\",\n                                padding: \"7px 12px\",\n                                fontSize: 12,\n                                fontFamily: \"inherit\",\n                                fontWeight: 500,\n                                border: \"1px solid var(--color-accent)\",\n                                borderRadius: 6,\n                                backgroundColor: \"color-mix(in srgb, var(--color-accent) 8%, transparent)\",\n                                color: \"var(--color-accent)\",\n                                cursor: analyzing || !keysStored ? \"default\" : \"pointer\",\n                                opacity: analyzing || !keysStored ? 0.5 : 1,\n                                transition: \"background 150ms\"\n                            },\n                            children: analyzing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        size: 13,\n                                        style: {\n                                            animation: \"spin 1s linear infinite\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 416,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Analyzing...\"\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        size: 13\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 421,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Analyze Voice\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        style: {\n                                            fontSize: 10,\n                                            opacity: 0.7,\n                                            marginLeft: 2\n                                        },\n                                        children: \"(~$0.04)\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 423,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                            lineNumber: 392,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 386,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderTop: \"1px solid var(--color-border)\",\n                            padding: \"8px 12px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"space-between\",\n                                    marginBottom: 6\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        style: {\n                                            fontSize: 11,\n                                            fontWeight: 600,\n                                            color: \"var(--color-text-muted)\",\n                                            textTransform: \"uppercase\",\n                                            letterSpacing: \"0.5px\"\n                                        },\n                                        children: \"Writing Samples\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: function handleAddSample() {\n                                            setShowNewSample(true);\n                                        },\n                                        title: \"Add Sample\",\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            justifyContent: \"center\",\n                                            gap: 3,\n                                            padding: \"2px 6px\",\n                                            border: \"none\",\n                                            background: \"none\",\n                                            color: \"var(--color-text-muted)\",\n                                            cursor: \"pointer\",\n                                            borderRadius: 4,\n                                            fontSize: 11,\n                                            fontFamily: \"inherit\"\n                                        },\n                                        onMouseEnter: function handleEnter(e) {\n                                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                        },\n                                        onMouseLeave: function handleLeave(e) {\n                                            e.currentTarget.style.backgroundColor = \"transparent\";\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                size: 12\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                                lineNumber: 488,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Add Sample\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 462,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 11\n                            }, this),\n                            showNewSample && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: 4,\n                                    marginBottom: 6\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: newSampleName,\n                                        onChange: function handleChange(e) {\n                                            setNewSampleName(e.target.value);\n                                        },\n                                        onKeyDown: function handleKey(e) {\n                                            if (e.key === \"Enter\") handleCreateSample();\n                                            if (e.key === \"Escape\") {\n                                                setShowNewSample(false);\n                                                setNewSampleName(\"\");\n                                            }\n                                        },\n                                        placeholder: \"sample.md\",\n                                        autoFocus: true,\n                                        style: {\n                                            flex: 1,\n                                            fontSize: 12,\n                                            padding: \"4px 8px\",\n                                            border: \"1px solid var(--color-border)\",\n                                            borderRadius: 4,\n                                            backgroundColor: \"var(--color-bg)\",\n                                            color: \"var(--color-text)\",\n                                            outline: \"none\",\n                                            fontFamily: \"inherit\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleCreateSample,\n                                        style: {\n                                            fontSize: 11,\n                                            padding: \"3px 8px\",\n                                            border: \"none\",\n                                            borderRadius: 4,\n                                            backgroundColor: \"var(--color-accent)\",\n                                            color: \"#fff\",\n                                            cursor: \"pointer\",\n                                            fontFamily: \"inherit\"\n                                        },\n                                        children: \"Add\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 528,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 494,\n                                columnNumber: 13\n                            }, this),\n                            samplesLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    padding: 12,\n                                    color: \"var(--color-text-muted)\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    size: 14,\n                                    style: {\n                                        animation: \"spin 1s linear infinite\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 547,\n                                columnNumber: 13\n                            }, this) : samples.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    color: \"var(--color-text-muted)\",\n                                    fontSize: 11,\n                                    textAlign: \"center\",\n                                    padding: \"8px 0\"\n                                },\n                                children: \"No writing samples yet.\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 559,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    gap: 1\n                                },\n                                children: samples.map(function renderSample(sample) {\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            alignItems: \"center\",\n                                            gap: 6,\n                                            padding: \"4px 6px\",\n                                            borderRadius: 4,\n                                            cursor: \"pointer\",\n                                            transition: \"background 100ms\"\n                                        },\n                                        onMouseEnter: function handleEnter(e) {\n                                            e.currentTarget.style.backgroundColor = \"var(--color-surface-hover)\";\n                                        },\n                                        onMouseLeave: function handleLeave(e) {\n                                            e.currentTarget.style.backgroundColor = \"transparent\";\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FileText_Loader2_Pencil_Plus_Save_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                size: 13,\n                                                style: {\n                                                    flexShrink: 0,\n                                                    color: \"var(--color-text-muted)\",\n                                                    opacity: 0.7\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                                lineNumber: 591,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    flex: 1,\n                                                    overflow: \"hidden\",\n                                                    textOverflow: \"ellipsis\",\n                                                    whiteSpace: \"nowrap\",\n                                                    color: \"var(--color-text)\",\n                                                    fontSize: 12\n                                                },\n                                                children: sample.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                                lineNumber: 595,\n                                                columnNumber: 21\n                                            }, this),\n                                            sample.size != null && sample.size > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: 10,\n                                                    color: \"var(--color-text-muted)\",\n                                                    flexShrink: 0\n                                                },\n                                                children: [\n                                                    (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.formatTokenCount)((0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.estimateTokens)(\"x\".repeat(sample.size))),\n                                                    \"t\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                                lineNumber: 608,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, sample.path, true, {\n                                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                        lineNumber: 573,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 570,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            borderTop: \"1px solid var(--color-border)\",\n                            padding: \"10px 12px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontSize: 11,\n                                    fontWeight: 600,\n                                    color: \"var(--color-text-muted)\",\n                                    textTransform: \"uppercase\",\n                                    letterSpacing: \"0.5px\",\n                                    display: \"block\",\n                                    marginBottom: 8\n                                },\n                                children: \"Style Metrics\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 631,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    padding: \"12px 10px\",\n                                    borderRadius: 6,\n                                    border: \"1px dashed var(--color-border)\",\n                                    backgroundColor: \"var(--color-bg)\",\n                                    color: \"var(--color-text-muted)\",\n                                    fontSize: 11,\n                                    textAlign: \"center\",\n                                    lineHeight: 1.5\n                                },\n                                children: \"Run Analyze Voice to see style metrics\"\n                            }, void 0, false, {\n                                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                                lineNumber: 644,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                        lineNumber: 625,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n                lineNumber: 318,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/components/sidebar/VoicePanel.tsx\",\n        lineNumber: 216,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVO29EQUNWQyxjQUFjO29EQUNkQyxZQUFZO29EQUNaNUQsT0FBTztvREFDUEksVUFBVTtnREFDWjswREFFQ3FELE9BQU90RixJQUFJOzs7Ozs7NENBRWJzRixPQUFPbEYsSUFBSSxJQUFJLFFBQVFrRixPQUFPbEYsSUFBSSxHQUFHLG1CQUNwQyw4REFBQ2dDO2dEQUNDZCxPQUFPO29EQUNMVyxVQUFVO29EQUNWSixPQUFPO29EQUNQUyxZQUFZO2dEQUNkOztvREFFQzFHLDZEQUFnQkEsQ0FBQ0QsMkRBQWNBLENBQUMsSUFBSStKLE1BQU0sQ0FBQ0osT0FBT2xGLElBQUk7b0RBQUk7Ozs7Ozs7O3VDQXpDMURrRixPQUFPbkYsSUFBSTs7Ozs7Z0NBOEN0Qjs7Ozs7Ozs7Ozs7O2tDQUtOLDhEQUFDa0I7d0JBQ0NDLE9BQU87NEJBQ0xrRCxXQUFXOzRCQUNYMUMsU0FBUzt3QkFDWDs7MENBRUEsOERBQUNNO2dDQUNDZCxPQUFPO29DQUNMVyxVQUFVO29DQUNWTSxZQUFZO29DQUNaVixPQUFPO29DQUNQVyxlQUFlO29DQUNmQyxlQUFlO29DQUNmbEIsU0FBUztvQ0FDVG9ELGNBQWM7Z0NBQ2hCOzBDQUNEOzs7Ozs7MENBR0QsOERBQUN0RDtnQ0FDQ0MsT0FBTztvQ0FDTFEsU0FBUztvQ0FDVGtCLGNBQWM7b0NBQ2RILFFBQVE7b0NBQ1JRLGlCQUFpQjtvQ0FDakJ4QixPQUFPO29DQUNQSSxVQUFVO29DQUNWRixXQUFXO29DQUNYc0MsWUFBWTtnQ0FDZDswQ0FDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9jb21wb25lbnRzL3NpZGViYXIvVm9pY2VQYW5lbC50c3g/MzY5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZpbGVUZXh0LCBQZW5jaWwsIFNhdmUsIFNwYXJrbGVzLCBQbHVzLCBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tIFwiQC9zdG9yZVwiO1xuaW1wb3J0IHsgZ2V0Qm9va0NvbmZpZyB9IGZyb20gXCJAL2xpYi9ib29rQ29uZmlnXCI7XG5pbXBvcnQgeyBlc3RpbWF0ZVRva2VucywgZm9ybWF0VG9rZW5Db3VudCB9IGZyb20gXCJAL2xpYi90b2tlbnNcIjtcbmltcG9ydCBSZWFjdE1hcmtkb3duIGZyb20gXCJyZWFjdC1tYXJrZG93blwiO1xuaW1wb3J0IHJlbWFya0dmbSBmcm9tIFwicmVtYXJrLWdmbVwiO1xuXG5pbnRlcmZhY2UgVm9pY2VGaWxlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG4gIHNpemU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZvaWNlUGFuZWwoKSB7XG4gIGNvbnN0IGN1cnJlbnRCb29rID0gdXNlQXBwU3RvcmUoZnVuY3Rpb24gc2VsZWN0Qm9vayhzKSB7XG4gICAgcmV0dXJuIHMuZWRpdG9yLmN1cnJlbnRCb29rO1xuICB9KTtcbiAgY29uc3Qga2V5c1N0b3JlZCA9IHVzZUFwcFN0b3JlKGZ1bmN0aW9uIHNlbGVjdEtleXMocykge1xuICAgIHJldHVybiBzLnByZWZlcmVuY2VzLmtleXNTdG9yZWQ7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbmZpZyA9IGdldEJvb2tDb25maWcoY3VycmVudEJvb2spO1xuICBjb25zdCBvd25lciA9IGNvbmZpZz8ub3duZXI7XG4gIGNvbnN0IHJlcG8gPSBjb25maWc/LnJlcG87XG4gIGNvbnN0IGJyYW5jaCA9IGNvbmZpZz8uYnJhbmNoIHx8IFwibWFpblwiO1xuXG4gIGNvbnN0IFt2b2ljZUNvbnRlbnQsIHNldFZvaWNlQ29udGVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2VkaXRDb250ZW50LCBzZXRFZGl0Q29udGVudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2VkaXRpbmcsIHNldEVkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2b2ljZVNoYSwgc2V0Vm9pY2VTaGFdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzYW1wbGVzLCBzZXRTYW1wbGVzXSA9IHVzZVN0YXRlPFZvaWNlRmlsZVtdPihbXSk7XG4gIGNvbnN0IFtzYW1wbGVzTG9hZGluZywgc2V0U2FtcGxlc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYW5hbHl6aW5nLCBzZXRBbmFseXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ld1NhbXBsZSwgc2V0U2hvd05ld1NhbXBsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdTYW1wbGVOYW1lLCBzZXROZXdTYW1wbGVOYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIGNvbnN0IGZldGNoVm9pY2VGaWxlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gZmV0Y2hWb2ljZSgpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQgfHwgIW93bmVyIHx8ICFyZXBvKSByZXR1cm47XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIGZldGNoKFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyBvd25lciArIFwiJnJlcG89XCIgKyByZXBvICsgXCImcGF0aD12b2ljZS5tZCZicmFuY2g9XCIgKyBicmFuY2gpXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVSZXMocmVzKSB7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgc2V0Vm9pY2VDb250ZW50KFwiXCIpO1xuICAgICAgICAgICAgc2V0Vm9pY2VTaGEobnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZURhdGEoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHNldFZvaWNlQ29udGVudChkYXRhLmNvbnRlbnQgfHwgXCJcIik7XG4gICAgICAgICAgc2V0Vm9pY2VTaGEoZGF0YS5zaGEgfHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gaGFuZGxlRXJyKCkge1xuICAgICAgICBzZXRWb2ljZUNvbnRlbnQoXCJcIik7XG4gICAgICAgIHNldFZvaWNlU2hhKG51bGwpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH0sIFtrZXlzU3RvcmVkLCBvd25lciwgcmVwbywgYnJhbmNoXSk7XG5cbiAgY29uc3QgZmV0Y2hTYW1wbGVzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gZmV0Y2hWb2ljZVNhbXBsZXMoKSB7XG4gICAgaWYgKCFrZXlzU3RvcmVkIHx8ICFvd25lciB8fCAhcmVwbykgcmV0dXJuO1xuXG4gICAgc2V0U2FtcGxlc0xvYWRpbmcodHJ1ZSk7XG4gICAgZmV0Y2goXCIvYXBpL2dpdGh1Yi90cmVlP293bmVyPVwiICsgb3duZXIgKyBcIiZyZXBvPVwiICsgcmVwbyArIFwiJmJyYW5jaD1cIiArIGJyYW5jaClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIGhhbmRsZVJlcyhyZXMpIHtcbiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaFwiKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHRyZWU6IHN0cmluZ1tdID0gZGF0YS50cmVlID8/IGRhdGE7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRyZWUpKSB7XG4gICAgICAgICAgY29uc3Qgdm9pY2VGaWxlcyA9IHRyZWVcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gaXNWb2ljZShwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwLnN0YXJ0c1dpdGgoXCJ2b2ljZS9cIikgJiYgIXAuZW5kc1dpdGgoXCIuZ2l0a2VlcFwiKSAmJiBwICE9PSBcInZvaWNlL1wiO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gdG9GaWxlKHApIHtcbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHAuc3BsaXQoXCIvXCIpLnBvcCgpID8/IHA7XG4gICAgICAgICAgICAgIHJldHVybiB7IG5hbWUsIHBhdGg6IHAsIHNpemU6IDAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldFNhbXBsZXModm9pY2VGaWxlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gaGFuZGxlRXJyKCkge1xuICAgICAgICBzZXRTYW1wbGVzKFtdKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICBzZXRTYW1wbGVzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSwgW2tleXNTdG9yZWQsIG93bmVyLCByZXBvLCBicmFuY2hdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gbG9hZFZvaWNlKCkge1xuICAgIGZldGNoVm9pY2VGaWxlKCk7XG4gICAgZmV0Y2hTYW1wbGVzKCk7XG4gIH0sIFtmZXRjaFZvaWNlRmlsZSwgZmV0Y2hTYW1wbGVzXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWRpdCgpIHtcbiAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgIHNldEVkaXRDb250ZW50KHZvaWNlQ29udGVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxFZGl0KCkge1xuICAgIHNldEVkaXRpbmcoZmFsc2UpO1xuICAgIHNldEVkaXRDb250ZW50KFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2F2ZSgpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQgfHwgIW93bmVyIHx8ICFyZXBvKSByZXR1cm47XG5cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICAgIHBhdGg6IFwidm9pY2UubWRcIixcbiAgICAgIGNvbnRlbnQ6IGVkaXRDb250ZW50LFxuICAgICAgbWVzc2FnZTogXCJVcGRhdGUgdm9pY2UgZ3VpZGVcIixcbiAgICB9O1xuICAgIGlmICh2b2ljZVNoYSkge1xuICAgICAgYm9keS5zaGEgPSB2b2ljZVNoYTtcbiAgICB9XG5cbiAgICBmZXRjaChcIi9hcGkvZ2l0aHViL2ZpbGVzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiBoYW5kbGVSZXMocmVzKSB7XG4gICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZVwiKTtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlRGF0YShkYXRhKSB7XG4gICAgICAgIHNldFZvaWNlQ29udGVudChlZGl0Q29udGVudCk7XG4gICAgICAgIHNldFZvaWNlU2hhKGRhdGEuc2hhIHx8IHZvaWNlU2hhKTtcbiAgICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgICAgIHNldEVkaXRDb250ZW50KFwiXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiBoYW5kbGVFcnIoKSB7XG4gICAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIHNhdmUgdm9pY2UgZ3VpZGUuXCIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUFuYWx5emVWb2ljZSgpIHtcbiAgICBpZiAoIWtleXNTdG9yZWQpIHJldHVybjtcbiAgICBzZXRBbmFseXppbmcodHJ1ZSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIHNpbXVsYXRlQW5hbHlzaXMoKSB7XG4gICAgICBzZXRBbmFseXppbmcoZmFsc2UpO1xuICAgICAgYWxlcnQoXCJBbmFseXplIFZvaWNlIGlzIGNvbWluZyBzb29uLiBUaGlzIHdpbGwgYW5hbHl6ZSB5b3VyIHdyaXRpbmcgc2FtcGxlcyBhbmQgZ2VuZXJhdGUgc3R5bGUgbWV0cmljcy5cIik7XG4gICAgfSwgMTUwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDcmVhdGVTYW1wbGUoKSB7XG4gICAgaWYgKCFrZXlzU3RvcmVkIHx8ICFvd25lciB8fCAhcmVwbyB8fCAhbmV3U2FtcGxlTmFtZS50cmltKCkpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGggPSBcInZvaWNlL1wiICsgbmV3U2FtcGxlTmFtZS50cmltKCk7XG4gICAgZmV0Y2goXCIvYXBpL2dpdGh1Yi9maWxlc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG93bmVyLFxuICAgICAgICByZXBvLFxuICAgICAgICBwYXRoLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICBtZXNzYWdlOiBcIkFkZCB2b2ljZSBzYW1wbGU6IFwiICsgbmV3U2FtcGxlTmFtZS50cmltKCksXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gaGFuZGxlUmVzKCkge1xuICAgICAgICBmZXRjaFNhbXBsZXMoKTtcbiAgICAgICAgc2V0U2hvd05ld1NhbXBsZShmYWxzZSk7XG4gICAgICAgIHNldE5ld1NhbXBsZU5hbWUoXCJcIik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGhhbmRsZUVycigpIHtcbiAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gY3JlYXRlIHNhbXBsZSBmaWxlLlwiKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCFvd25lciB8fCAhcmVwbykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgZ2FwOiAxMixcbiAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgIHBhZGRpbmc6IDI0LFxuICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICBmb250RmFtaWx5OiBcInZhcigtLWZvbnQtaW50ZXIpLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxTcGFya2xlcyBzaXplPXszMn0gc3Ryb2tlV2lkdGg9ezF9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNSB9fSAvPlxuICAgICAgICA8c3Bhbj5PcGVuIGEgYm9vayB0byB2aWV3IHlvdXIgdm9pY2UgZ3VpZGU8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWludGVyKSwgc3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiOHB4IDEycHhcIixcbiAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC41cHhcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgVm9pY2UgR3VpZGVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDQgfX0+XG4gICAgICAgICAgeyFlZGl0aW5nID8gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFZGl0fVxuICAgICAgICAgICAgICB0aXRsZT1cIkVkaXRcIlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiM3B4IDhweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxQZW5jaWwgc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgIEVkaXRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsRWRpdH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIzcHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IDQsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjNweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBzYXZpbmcgPyBcImRlZmF1bHRcIiA6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2F2aW5nID8gMC42IDogMSxcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2F2ZSBzaXplPXsxMn0gLz5cbiAgICAgICAgICAgICAgICB7c2F2aW5nID8gXCJTYXZpbmcuLi5cIiA6IFwiU2F2ZVwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3dZOiBcImF1dG9cIiB9fT5cbiAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAyNCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExvYWRlcjIgc2l6ZT17MTZ9IHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGluIDFzIGxpbmVhciBpbmZpbml0ZVwiIH19IC8+XG4gICAgICAgICAgICA8c3R5bGU+e2BAa2V5ZnJhbWVzIHNwaW4geyB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfWB9PC9zdHlsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IGVkaXRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiA4IH19PlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIHZhbHVlPXtlZGl0Q29udGVudH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2Z1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgc2V0RWRpdENvbnRlbnQoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IDIwMCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWxpdGVyYXRhKSwgc2VyaWZcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEwcHggMTJweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY29sb3ItYmcpXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICByZXNpemU6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjYsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiBcIjEwcHggMTRweFwiIH19PlxuICAgICAgICAgICAge3ZvaWNlQ29udGVudCA/IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjYsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS1mb250LWxpdGVyYXRhKSwgc2VyaWZcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFJlYWN0TWFya2Rvd24gcmVtYXJrUGx1Z2lucz17W3JlbWFya0dmbV19PlxuICAgICAgICAgICAgICAgICAge3ZvaWNlQ29udGVudH1cbiAgICAgICAgICAgICAgICA8L1JlYWN0TWFya2Rvd24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxNnB4IDBcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgTm8gdm9pY2UubWQgZmlsZSBmb3VuZC4gQ2xpY2sgRWRpdCB0byBjcmVhdGUgb25lLlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMTBweCAxMnB4XCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFuYWx5emVWb2ljZX1cbiAgICAgICAgICAgIGRpc2FibGVkPXthbmFseXppbmcgfHwgIWtleXNTdG9yZWR9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGdhcDogNixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjdweCAxMnB4XCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAxMixcbiAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1hY2NlbnQpXCIsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImNvbG9yLW1peChpbiBzcmdiLCB2YXIoLS1jb2xvci1hY2NlbnQpIDglLCB0cmFuc3BhcmVudClcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItYWNjZW50KVwiLFxuICAgICAgICAgICAgICBjdXJzb3I6IGFuYWx5emluZyB8fCAha2V5c1N0b3JlZCA/IFwiZGVmYXVsdFwiIDogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgIG9wYWNpdHk6IGFuYWx5emluZyB8fCAha2V5c1N0b3JlZCA/IDAuNSA6IDEsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYmFja2dyb3VuZCAxNTBtc1wiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YW5hbHl6aW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIHNpemU9ezEzfSBzdHlsZT17eyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9fSAvPlxuICAgICAgICAgICAgICAgIEFuYWx5emluZy4uLlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPFNwYXJrbGVzIHNpemU9ezEzfSAvPlxuICAgICAgICAgICAgICAgIEFuYWx5emUgVm9pY2VcbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjcsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICh+JDAuMDQpXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpXCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjhweCAxMnB4XCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogNixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogNjAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuNXB4XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFdyaXRpbmcgU2FtcGxlc1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbiBoYW5kbGVBZGRTYW1wbGUoKSB7XG4gICAgICAgICAgICAgICAgc2V0U2hvd05ld1NhbXBsZSh0cnVlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJBZGQgU2FtcGxlXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogMyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJweCA2cHhcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiaW5oZXJpdFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2Z1bmN0aW9uIGhhbmRsZUVudGVyKGUpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1jb2xvci1zdXJmYWNlLWhvdmVyKVwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2Z1bmN0aW9uIGhhbmRsZUxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8UGx1cyBzaXplPXsxMn0gLz5cbiAgICAgICAgICAgICAgQWRkIFNhbXBsZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7c2hvd05ld1NhbXBsZSAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZ2FwOiA0LFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogNixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTYW1wbGVOYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgc2V0TmV3U2FtcGxlTmFtZShlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbktleURvd249e2Z1bmN0aW9uIGhhbmRsZUtleShlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikgaGFuZGxlQ3JlYXRlU2FtcGxlKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvd05ld1NhbXBsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldE5ld1NhbXBsZU5hbWUoXCJcIik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInNhbXBsZS5tZFwiXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjRweCA4cHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dClcIixcbiAgICAgICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJpbmhlcml0XCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZVNhbXBsZX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIzcHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWFjY2VudClcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImluaGVyaXRcIixcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtzYW1wbGVzTG9hZGluZyA/IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEyLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIHNpemU9ezE0fSBzdHlsZT17eyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IHNhbXBsZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDExLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjhweCAwXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5vIHdyaXRpbmcgc2FtcGxlcyB5ZXQuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiAxIH19PlxuICAgICAgICAgICAgICB7c2FtcGxlcy5tYXAoZnVuY3Rpb24gcmVuZGVyU2FtcGxlKHNhbXBsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17c2FtcGxlLnBhdGh9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBnYXA6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHggNnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJiYWNrZ3JvdW5kIDEwMG1zXCIsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZnVuY3Rpb24gaGFuZGxlRW50ZXIoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLXN1cmZhY2UtaG92ZXIpXCI7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZnVuY3Rpb24gaGFuZGxlTGVhdmUoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9ezEzfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXhTaHJpbms6IDAsIGNvbG9yOiBcInZhcigtLWNvbG9yLXRleHQtbXV0ZWQpXCIsIG9wYWNpdHk6IDAuNyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0KVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7c2FtcGxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAge3NhbXBsZS5zaXplICE9IG51bGwgJiYgc2FtcGxlLnNpemUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VG9rZW5Db3VudChlc3RpbWF0ZVRva2VucyhcInhcIi5yZXBlYXQoc2FtcGxlLnNpemUpKSl9dFxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMTBweCAxMnB4XCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgY29sb3I6IFwidmFyKC0tY29sb3ItdGV4dC1tdXRlZClcIixcbiAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjVweFwiLFxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogOCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgU3R5bGUgTWV0cmljc1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEycHggMTBweFwiLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggZGFzaGVkIHZhcigtLWNvbG9yLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInZhcigtLWNvbG9yLWJnKVwiLFxuICAgICAgICAgICAgICBjb2xvcjogXCJ2YXIoLS1jb2xvci10ZXh0LW11dGVkKVwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogMTEsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgbGluZUhlaWdodDogMS41LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBSdW4gQW5hbHl6ZSBWb2ljZSB0byBzZWUgc3R5bGUgbWV0cmljc1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJGaWxlVGV4dCIsIlBlbmNpbCIsIlNhdmUiLCJTcGFya2xlcyIsIlBsdXMiLCJMb2FkZXIyIiwidXNlQXBwU3RvcmUiLCJnZXRCb29rQ29uZmlnIiwiZXN0aW1hdGVUb2tlbnMiLCJmb3JtYXRUb2tlbkNvdW50IiwiUmVhY3RNYXJrZG93biIsInJlbWFya0dmbSIsIlZvaWNlUGFuZWwiLCJjdXJyZW50Qm9vayIsInNlbGVjdEJvb2siLCJzIiwiZWRpdG9yIiwia2V5c1N0b3JlZCIsInNlbGVjdEtleXMiLCJwcmVmZXJlbmNlcyIsImNvbmZpZyIsIm93bmVyIiwicmVwbyIsImJyYW5jaCIsInZvaWNlQ29udGVudCIsInNldFZvaWNlQ29udGVudCIsImVkaXRDb250ZW50Iiwic2V0RWRpdENvbnRlbnQiLCJlZGl0aW5nIiwic2V0RWRpdGluZyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2F2aW5nIiwic2V0U2F2aW5nIiwidm9pY2VTaGEiLCJzZXRWb2ljZVNoYSIsInNhbXBsZXMiLCJzZXRTYW1wbGVzIiwic2FtcGxlc0xvYWRpbmciLCJzZXRTYW1wbGVzTG9hZGluZyIsImFuYWx5emluZyIsInNldEFuYWx5emluZyIsInNob3dOZXdTYW1wbGUiLCJzZXRTaG93TmV3U2FtcGxlIiwibmV3U2FtcGxlTmFtZSIsInNldE5ld1NhbXBsZU5hbWUiLCJmZXRjaFZvaWNlRmlsZSIsImZldGNoVm9pY2UiLCJmZXRjaCIsInRoZW4iLCJoYW5kbGVSZXMiLCJyZXMiLCJvayIsInN0YXR1cyIsIkVycm9yIiwianNvbiIsImhhbmRsZURhdGEiLCJkYXRhIiwiY29udGVudCIsInNoYSIsImNhdGNoIiwiaGFuZGxlRXJyIiwiZmluYWxseSIsImRvbmUiLCJmZXRjaFNhbXBsZXMiLCJmZXRjaFZvaWNlU2FtcGxlcyIsInRyZWUiLCJBcnJheSIsImlzQXJyYXkiLCJ2b2ljZUZpbGVzIiwiZmlsdGVyIiwiaXNWb2ljZSIsInAiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJtYXAiLCJ0b0ZpbGUiLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJwYXRoIiwic2l6ZSIsImxvYWRWb2ljZSIsImhhbmRsZUVkaXQiLCJoYW5kbGVDYW5jZWxFZGl0IiwiaGFuZGxlU2F2ZSIsImJvZHkiLCJtZXNzYWdlIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGVydCIsImhhbmRsZUFuYWx5emVWb2ljZSIsInNldFRpbWVvdXQiLCJzaW11bGF0ZUFuYWx5c2lzIiwiaGFuZGxlQ3JlYXRlU2FtcGxlIiwidHJpbSIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJoZWlnaHQiLCJnYXAiLCJjb2xvciIsInBhZGRpbmciLCJ0ZXh0QWxpZ24iLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJzdHJva2VXaWR0aCIsIm9wYWNpdHkiLCJzcGFuIiwiYm9yZGVyQm90dG9tIiwiZmxleFNocmluayIsImZvbnRXZWlnaHQiLCJ0ZXh0VHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsImJvcmRlciIsImJhY2tncm91bmQiLCJjdXJzb3IiLCJib3JkZXJSYWRpdXMiLCJvbk1vdXNlRW50ZXIiLCJoYW5kbGVFbnRlciIsImUiLCJjdXJyZW50VGFyZ2V0IiwiYmFja2dyb3VuZENvbG9yIiwib25Nb3VzZUxlYXZlIiwiaGFuZGxlTGVhdmUiLCJkaXNhYmxlZCIsImZsZXgiLCJvdmVyZmxvd1kiLCJhbmltYXRpb24iLCJ0ZXh0YXJlYSIsInZhbHVlIiwib25DaGFuZ2UiLCJoYW5kbGVDaGFuZ2UiLCJ0YXJnZXQiLCJ3aWR0aCIsIm1pbkhlaWdodCIsIm91dGxpbmUiLCJyZXNpemUiLCJsaW5lSGVpZ2h0IiwiYm94U2l6aW5nIiwicmVtYXJrUGx1Z2lucyIsImJvcmRlclRvcCIsInRyYW5zaXRpb24iLCJtYXJnaW5MZWZ0IiwibWFyZ2luQm90dG9tIiwiaGFuZGxlQWRkU2FtcGxlIiwiaW5wdXQiLCJ0eXBlIiwib25LZXlEb3duIiwiaGFuZGxlS2V5Iiwia2V5IiwicGxhY2Vob2xkZXIiLCJhdXRvRm9jdXMiLCJsZW5ndGgiLCJyZW5kZXJTYW1wbGUiLCJzYW1wbGUiLCJvdmVyZmxvdyIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJyZXBlYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/sidebar/VoicePanel.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/book.ts":
/*!*********************!*\
  !*** ./lib/book.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDefaultBook: () => (/* binding */ createDefaultBook),\n/* harmony export */   getChapterPath: () => (/* binding */ getChapterPath),\n/* harmony export */   getImagePath: () => (/* binding */ getImagePath),\n/* harmony export */   parseBookStructure: () => (/* binding */ parseBookStructure)\n/* harmony export */ });\nfunction createDefaultBook(title, author) {\n    return {\n        title,\n        author,\n        bookDir: \"book\",\n        contextDir: \"context\",\n        imagesDir: \"images\",\n        parts: [\n            {\n                title: \"Part One\",\n                chapters: [\n                    {\n                        id: \"ch-01\",\n                        file: \"ch-01.md\",\n                        label: \"Chapter 1\"\n                    }\n                ]\n            }\n        ]\n    };\n}\nfunction getChapterPath(book, chapterId) {\n    for (const part of book.parts){\n        for (const chapter of part.chapters){\n            if (chapter.id === chapterId) {\n                return `${book.bookDir}/${chapter.file}`;\n            }\n        }\n    }\n    return null;\n}\nfunction getImagePath(book) {\n    return book.imagesDir ?? `${book.bookDir}/images`;\n}\nfunction parseBookStructure(files) {\n    const bookFiles = files.filter(function isMarkdown(f) {\n        return f.endsWith(\".md\");\n    }).sort();\n    const bookDir = detectBookDir(bookFiles);\n    const contextDir = detectContextDir(files);\n    const chapterFiles = bookFiles.filter(function inBookDir(f) {\n        return f.startsWith(bookDir + \"/\") || bookDir === \".\";\n    });\n    const parts = [];\n    const chapters = [];\n    for (const file of chapterFiles){\n        const basename = file.split(\"/\").pop() ?? file;\n        const name = basename.replace(/\\.md$/, \"\");\n        const id = name.toLowerCase().replace(/[^a-z0-9-]/g, \"-\");\n        chapters.push({\n            id,\n            file: bookDir === \".\" ? file : file.slice(bookDir.length + 1),\n            label: formatLabel(name)\n        });\n    }\n    if (chapters.length > 0) {\n        parts.push({\n            title: \"Main\",\n            chapters\n        });\n    }\n    return {\n        title: \"Untitled Book\",\n        author: \"Unknown Author\",\n        bookDir,\n        contextDir,\n        parts\n    };\n}\nfunction detectBookDir(files) {\n    const dirs = [\n        \"book\",\n        \"manuscript\",\n        \"chapters\",\n        \"content\",\n        \"text\",\n        \"draft\"\n    ];\n    for (const dir of dirs){\n        if (files.some(function startsWithDir(f) {\n            return f.startsWith(dir + \"/\");\n        })) {\n            return dir;\n        }\n    }\n    return \"book\";\n}\nfunction detectContextDir(files) {\n    const dirs = [\n        \"context\",\n        \"notes\",\n        \"research\",\n        \"reference\"\n    ];\n    for (const dir of dirs){\n        if (files.some(function startsWithDir(f) {\n            return f.startsWith(dir + \"/\");\n        })) {\n            return dir;\n        }\n    }\n    return \"context\";\n}\nfunction formatLabel(name) {\n    return name.replace(/[-_]/g, \" \").replace(/\\b\\w/g, function capitalize(c) {\n        return c.toUpperCase();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBLE9BQU9BO1FBQ1Q7SUFDRjtJQUNBLE9BQU87QUFDVDtBQUVBLFNBQVNGLFlBQVlOLElBQVk7SUFDL0IsT0FBT0EsS0FDSkMsT0FBTyxDQUFDLFNBQVMsS0FDakJBLE9BQU8sQ0FBQyxTQUFTLFNBQVNVLFdBQVdDLENBQUM7UUFDckMsT0FBT0EsRUFBRUMsV0FBVztJQUN0QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vbGliL2Jvb2sudHM/NDQ0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEJvb2ssIENoYXB0ZXIsIFBhcnQgfSBmcm9tIFwiQC90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEJvb2sodGl0bGU6IHN0cmluZywgYXV0aG9yOiBzdHJpbmcpOiBCb29rIHtcbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBhdXRob3IsXG4gICAgYm9va0RpcjogXCJib29rXCIsXG4gICAgY29udGV4dERpcjogXCJjb250ZXh0XCIsXG4gICAgaW1hZ2VzRGlyOiBcImltYWdlc1wiLFxuICAgIHBhcnRzOiBbXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIlBhcnQgT25lXCIsXG4gICAgICAgIGNoYXB0ZXJzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IFwiY2gtMDFcIixcbiAgICAgICAgICAgIGZpbGU6IFwiY2gtMDEubWRcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIkNoYXB0ZXIgMVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGFwdGVyUGF0aChcbiAgYm9vazogQm9vayxcbiAgY2hhcHRlcklkOiBzdHJpbmcsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgZm9yIChjb25zdCBwYXJ0IG9mIGJvb2sucGFydHMpIHtcbiAgICBmb3IgKGNvbnN0IGNoYXB0ZXIgb2YgcGFydC5jaGFwdGVycykge1xuICAgICAgaWYgKGNoYXB0ZXIuaWQgPT09IGNoYXB0ZXJJZCkge1xuICAgICAgICByZXR1cm4gYCR7Ym9vay5ib29rRGlyfS8ke2NoYXB0ZXIuZmlsZX1gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlUGF0aChib29rOiBCb29rKTogc3RyaW5nIHtcbiAgcmV0dXJuIGJvb2suaW1hZ2VzRGlyID8/IGAke2Jvb2suYm9va0Rpcn0vaW1hZ2VzYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9va1N0cnVjdHVyZShmaWxlczogc3RyaW5nW10pOiBCb29rIHtcbiAgY29uc3QgYm9va0ZpbGVzID0gZmlsZXNcbiAgICAuZmlsdGVyKGZ1bmN0aW9uIGlzTWFya2Rvd24oZikge1xuICAgICAgcmV0dXJuIGYuZW5kc1dpdGgoXCIubWRcIik7XG4gICAgfSlcbiAgICAuc29ydCgpO1xuXG4gIGNvbnN0IGJvb2tEaXIgPSBkZXRlY3RCb29rRGlyKGJvb2tGaWxlcyk7XG4gIGNvbnN0IGNvbnRleHREaXIgPSBkZXRlY3RDb250ZXh0RGlyKGZpbGVzKTtcblxuICBjb25zdCBjaGFwdGVyRmlsZXMgPSBib29rRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIGluQm9va0RpcihmKSB7XG4gICAgcmV0dXJuIGYuc3RhcnRzV2l0aChib29rRGlyICsgXCIvXCIpIHx8IGJvb2tEaXIgPT09IFwiLlwiO1xuICB9KTtcblxuICBjb25zdCBwYXJ0czogUGFydFtdID0gW107XG4gIGNvbnN0IGNoYXB0ZXJzOiBDaGFwdGVyW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGZpbGUgb2YgY2hhcHRlckZpbGVzKSB7XG4gICAgY29uc3QgYmFzZW5hbWUgPSBmaWxlLnNwbGl0KFwiL1wiKS5wb3AoKSA/PyBmaWxlO1xuICAgIGNvbnN0IG5hbWUgPSBiYXNlbmFtZS5yZXBsYWNlKC9cXC5tZCQvLCBcIlwiKTtcbiAgICBjb25zdCBpZCA9IG5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtejAtOS1dL2csIFwiLVwiKTtcblxuICAgIGNoYXB0ZXJzLnB1c2goe1xuICAgICAgaWQsXG4gICAgICBmaWxlOiBib29rRGlyID09PSBcIi5cIiA/IGZpbGUgOiBmaWxlLnNsaWNlKGJvb2tEaXIubGVuZ3RoICsgMSksXG4gICAgICBsYWJlbDogZm9ybWF0TGFiZWwobmFtZSksXG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2hhcHRlcnMubGVuZ3RoID4gMCkge1xuICAgIHBhcnRzLnB1c2goe1xuICAgICAgdGl0bGU6IFwiTWFpblwiLFxuICAgICAgY2hhcHRlcnMsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRpdGxlOiBcIlVudGl0bGVkIEJvb2tcIixcbiAgICBhdXRob3I6IFwiVW5rbm93biBBdXRob3JcIixcbiAgICBib29rRGlyLFxuICAgIGNvbnRleHREaXIsXG4gICAgcGFydHMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRldGVjdEJvb2tEaXIoZmlsZXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgY29uc3QgZGlycyA9IFtcImJvb2tcIiwgXCJtYW51c2NyaXB0XCIsIFwiY2hhcHRlcnNcIiwgXCJjb250ZW50XCIsIFwidGV4dFwiLCBcImRyYWZ0XCJdO1xuICBmb3IgKGNvbnN0IGRpciBvZiBkaXJzKSB7XG4gICAgaWYgKFxuICAgICAgZmlsZXMuc29tZShmdW5jdGlvbiBzdGFydHNXaXRoRGlyKGYpIHtcbiAgICAgICAgcmV0dXJuIGYuc3RhcnRzV2l0aChkaXIgKyBcIi9cIik7XG4gICAgICB9KVxuICAgICkge1xuICAgICAgcmV0dXJuIGRpcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiYm9va1wiO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RDb250ZXh0RGlyKGZpbGVzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIGNvbnN0IGRpcnMgPSBbXCJjb250ZXh0XCIsIFwibm90ZXNcIiwgXCJyZXNlYXJjaFwiLCBcInJlZmVyZW5jZVwiXTtcbiAgZm9yIChjb25zdCBkaXIgb2YgZGlycykge1xuICAgIGlmIChcbiAgICAgIGZpbGVzLnNvbWUoZnVuY3Rpb24gc3RhcnRzV2l0aERpcihmKSB7XG4gICAgICAgIHJldHVybiBmLnN0YXJ0c1dpdGgoZGlyICsgXCIvXCIpO1xuICAgICAgfSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkaXI7XG4gICAgfVxuICB9XG4gIHJldHVybiBcImNvbnRleHRcIjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TGFiZWwobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5hbWVcbiAgICAucmVwbGFjZSgvWy1fXS9nLCBcIiBcIilcbiAgICAucmVwbGFjZSgvXFxiXFx3L2csIGZ1bmN0aW9uIGNhcGl0YWxpemUoYykge1xuICAgICAgcmV0dXJuIGMudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVEZWZhdWx0Qm9vayIsInRpdGxlIiwiYXV0aG9yIiwiYm9va0RpciIsImNvbnRleHREaXIiLCJpbWFnZXNEaXIiLCJwYXJ0cyIsImNoYXB0ZXJzIiwiaWQiLCJmaWxlIiwibGFiZWwiLCJnZXRDaGFwdGVyUGF0aCIsImJvb2siLCJjaGFwdGVySWQiLCJwYXJ0IiwiY2hhcHRlciIsImdldEltYWdlUGF0aCIsInBhcnNlQm9va1N0cnVjdHVyZSIsImZpbGVzIiwiYm9va0ZpbGVzIiwiZmlsdGVyIiwiaXNNYXJrZG93biIsImYiLCJlbmRzV2l0aCIsInNvcnQiLCJkZXRlY3RCb29rRGlyIiwiZGV0ZWN0Q29udGV4dERpciIsImNoYXB0ZXJGaWxlcyIsImluQm9va0RpciIsInN0YXJ0c1dpdGgiLCJiYXNlbmFtZSIsInNwbGl0IiwicG9wIiwibmFtZSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInB1c2giLCJzbGljZSIsImxlbmd0aCIsImZvcm1hdExhYmVsIiwiZGlycyIsImRpciIsInNvbWUiLCJzdGFydHNXaXRoRGlyIiwiY2FwaXRhbGl6ZSIsImMiLCJ0b1VwcGVyQ2FzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/book.ts\n");

/***/ }),

/***/ "(ssr)/./lib/bookConfig.ts":
/*!***************************!*\
  !*** ./lib/bookConfig.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchAndSaveBookConfig: () => (/* binding */ fetchAndSaveBookConfig),\n/* harmony export */   getBookConfig: () => (/* binding */ getBookConfig),\n/* harmony export */   getRepoInfo: () => (/* binding */ getRepoInfo),\n/* harmony export */   saveBookConfig: () => (/* binding */ saveBookConfig)\n/* harmony export */ });\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/storage */ \"(ssr)/./lib/storage.ts\");\n/* harmony import */ var _lib_book__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/book */ \"(ssr)/./lib/book.ts\");\n\n\nfunction isClient() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction getBookConfig(currentBook) {\n    if (!isClient()) return null;\n    const repoKey = currentBook ?? getPersistedBookKey();\n    if (!repoKey || repoKey === \"local\") return null;\n    const config = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_0__.getItem)(\"scriva:config:\" + repoKey, null);\n    if (config) return config;\n    const raw = localStorage.getItem(\"scriva-current-book\");\n    if (!raw) return null;\n    try {\n        const parsed = JSON.parse(raw);\n        if (!parsed.full_name) return null;\n        const [owner, repo] = parsed.full_name.split(\"/\");\n        if (!owner || !repo) return null;\n        return {\n            owner,\n            repo,\n            branch: parsed.default_branch ?? \"main\",\n            book: {\n                title: parsed.name ?? \"Untitled\",\n                author: \"Unknown\",\n                bookDir: \"book\",\n                contextDir: \"context\",\n                parts: []\n            }\n        };\n    } catch  {\n        return null;\n    }\n}\nfunction getPersistedBookKey() {\n    if (!isClient()) return null;\n    try {\n        const storeRaw = localStorage.getItem(\"scriva-store\");\n        if (storeRaw) {\n            const storeData = JSON.parse(storeRaw);\n            if (storeData?.state?.editor?.currentBook) {\n                return storeData.state.editor.currentBook;\n            }\n        }\n    } catch  {}\n    try {\n        const raw = localStorage.getItem(\"scriva-current-book\");\n        if (raw) {\n            const parsed = JSON.parse(raw);\n            if (parsed.full_name) return parsed.full_name;\n        }\n    } catch  {}\n    return null;\n}\nfunction saveBookConfig(config) {\n    const repoKey = config.owner + \"/\" + config.repo;\n    (0,_lib_storage__WEBPACK_IMPORTED_MODULE_0__.setItem)(\"scriva:config:\" + repoKey, config);\n}\nasync function fetchAndSaveBookConfig(owner, repo, branch, isPrivate) {\n    let book;\n    try {\n        const res = await fetch(\"/api/github/files?owner=\" + owner + \"&repo=\" + repo + \"&path=book.json&branch=\" + branch);\n        if (res.ok) {\n            const data = await res.json();\n            if (data.content) {\n                book = JSON.parse(data.content);\n            } else {\n                book = await detectBookStructure(owner, repo, branch);\n            }\n        } else {\n            book = await detectBookStructure(owner, repo, branch);\n        }\n    } catch  {\n        book = await detectBookStructure(owner, repo, branch);\n    }\n    const config = {\n        owner,\n        repo,\n        branch,\n        private: isPrivate,\n        book\n    };\n    saveBookConfig(config);\n    return config;\n}\nasync function detectBookStructure(owner, repo, branch) {\n    try {\n        const res = await fetch(\"/api/github/tree?owner=\" + owner + \"&repo=\" + repo + \"&branch=\" + branch);\n        if (res.ok) {\n            const data = await res.json();\n            const files = data.tree ?? data;\n            if (Array.isArray(files) && files.length > 0) {\n                return (0,_lib_book__WEBPACK_IMPORTED_MODULE_1__.parseBookStructure)(files);\n            }\n        }\n    } catch  {}\n    return {\n        title: \"Untitled\",\n        author: \"Unknown\",\n        bookDir: \"book\",\n        contextDir: \"context\",\n        parts: []\n    };\n}\nfunction getRepoInfo(currentBook) {\n    const config = getBookConfig(currentBook);\n    if (config) {\n        return {\n            owner: config.owner,\n            repo: config.repo,\n            branch: config.branch\n        };\n    }\n    if (!isClient()) return null;\n    try {\n        const raw = localStorage.getItem(\"scriva-current-book\");\n        if (!raw) return null;\n        const parsed = JSON.parse(raw);\n        const [owner, repo] = parsed.full_name.split(\"/\");\n        return {\n            owner,\n            repo,\n            branch: parsed.default_branch ?? \"main\"\n        };\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aWIvYm9va0NvbmZpZy50cz8yZDBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQm9va0NvbmZpZywgQm9vayB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQgeyBnZXRJdGVtLCBzZXRJdGVtIH0gZnJvbSBcIkAvbGliL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHBhcnNlQm9va1N0cnVjdHVyZSB9IGZyb20gXCJAL2xpYi9ib29rXCI7XG5cbmZ1bmN0aW9uIGlzQ2xpZW50KCk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvb2tDb25maWcoY3VycmVudEJvb2s/OiBzdHJpbmcpOiBCb29rQ29uZmlnIHwgbnVsbCB7XG4gIGlmICghaXNDbGllbnQoKSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcmVwb0tleSA9IGN1cnJlbnRCb29rID8/IGdldFBlcnNpc3RlZEJvb2tLZXkoKTtcbiAgaWYgKCFyZXBvS2V5IHx8IHJlcG9LZXkgPT09IFwibG9jYWxcIikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgY29uZmlnID0gZ2V0SXRlbTxCb29rQ29uZmlnIHwgbnVsbD4oXCJzY3JpdmE6Y29uZmlnOlwiICsgcmVwb0tleSwgbnVsbCk7XG4gIGlmIChjb25maWcpIHJldHVybiBjb25maWc7XG5cbiAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzY3JpdmEtY3VycmVudC1ib29rXCIpO1xuICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgaWYgKCFwYXJzZWQuZnVsbF9uYW1lKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IFtvd25lciwgcmVwb10gPSBwYXJzZWQuZnVsbF9uYW1lLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAoIW93bmVyIHx8ICFyZXBvKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICBicmFuY2g6IHBhcnNlZC5kZWZhdWx0X2JyYW5jaCA/PyBcIm1haW5cIixcbiAgICAgIGJvb2s6IHtcbiAgICAgICAgdGl0bGU6IHBhcnNlZC5uYW1lID8/IFwiVW50aXRsZWRcIixcbiAgICAgICAgYXV0aG9yOiBcIlVua25vd25cIixcbiAgICAgICAgYm9va0RpcjogXCJib29rXCIsXG4gICAgICAgIGNvbnRleHREaXI6IFwiY29udGV4dFwiLFxuICAgICAgICBwYXJ0czogW10sXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBlcnNpc3RlZEJvb2tLZXkoKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghaXNDbGllbnQoKSkgcmV0dXJuIG51bGw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZVJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXZhLXN0b3JlXCIpO1xuICAgIGlmIChzdG9yZVJhdykge1xuICAgICAgY29uc3Qgc3RvcmVEYXRhID0gSlNPTi5wYXJzZShzdG9yZVJhdyk7XG4gICAgICBpZiAoc3RvcmVEYXRhPy5zdGF0ZT8uZWRpdG9yPy5jdXJyZW50Qm9vaykge1xuICAgICAgICByZXR1cm4gc3RvcmVEYXRhLnN0YXRlLmVkaXRvci5jdXJyZW50Qm9vaztcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2gge31cblxuICB0cnkge1xuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXZhLWN1cnJlbnQtYm9va1wiKTtcbiAgICBpZiAocmF3KSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgICBpZiAocGFyc2VkLmZ1bGxfbmFtZSkgcmV0dXJuIHBhcnNlZC5mdWxsX25hbWU7XG4gICAgfVxuICB9IGNhdGNoIHt9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlQm9va0NvbmZpZyhjb25maWc6IEJvb2tDb25maWcpOiB2b2lkIHtcbiAgY29uc3QgcmVwb0tleSA9IGNvbmZpZy5vd25lciArIFwiL1wiICsgY29uZmlnLnJlcG87XG4gIHNldEl0ZW0oXCJzY3JpdmE6Y29uZmlnOlwiICsgcmVwb0tleSwgY29uZmlnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kU2F2ZUJvb2tDb25maWcoXG4gIG93bmVyOiBzdHJpbmcsXG4gIHJlcG86IHN0cmluZyxcbiAgYnJhbmNoOiBzdHJpbmcsXG4gIGlzUHJpdmF0ZT86IGJvb2xlYW4sXG4pOiBQcm9taXNlPEJvb2tDb25maWc+IHtcbiAgbGV0IGJvb2s6IEJvb2s7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIFwiL2FwaS9naXRodWIvZmlsZXM/b3duZXI9XCIgKyBvd25lciArIFwiJnJlcG89XCIgKyByZXBvICsgXCImcGF0aD1ib29rLmpzb24mYnJhbmNoPVwiICsgYnJhbmNoLFxuICAgICk7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5jb250ZW50KSB7XG4gICAgICAgIGJvb2sgPSBKU09OLnBhcnNlKGRhdGEuY29udGVudCkgYXMgQm9vaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvb2sgPSBhd2FpdCBkZXRlY3RCb29rU3RydWN0dXJlKG93bmVyLCByZXBvLCBicmFuY2gpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBib29rID0gYXdhaXQgZGV0ZWN0Qm9va1N0cnVjdHVyZShvd25lciwgcmVwbywgYnJhbmNoKTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIGJvb2sgPSBhd2FpdCBkZXRlY3RCb29rU3RydWN0dXJlKG93bmVyLCByZXBvLCBicmFuY2gpO1xuICB9XG5cbiAgY29uc3QgY29uZmlnOiBCb29rQ29uZmlnID0ge1xuICAgIG93bmVyLFxuICAgIHJlcG8sXG4gICAgYnJhbmNoLFxuICAgIHByaXZhdGU6IGlzUHJpdmF0ZSxcbiAgICBib29rLFxuICB9O1xuXG4gIHNhdmVCb29rQ29uZmlnKGNvbmZpZyk7XG4gIHJldHVybiBjb25maWc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRldGVjdEJvb2tTdHJ1Y3R1cmUoXG4gIG93bmVyOiBzdHJpbmcsXG4gIHJlcG86IHN0cmluZyxcbiAgYnJhbmNoOiBzdHJpbmcsXG4pOiBQcm9taXNlPEJvb2s+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIFwiL2FwaS9naXRodWIvdHJlZT9vd25lcj1cIiArIG93bmVyICsgXCImcmVwbz1cIiArIHJlcG8gKyBcIiZicmFuY2g9XCIgKyBicmFuY2gsXG4gICAgKTtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbGVzOiBzdHJpbmdbXSA9IGRhdGEudHJlZSA/PyBkYXRhO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsZXMpICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlQm9va1N0cnVjdHVyZShmaWxlcyk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIHt9XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogXCJVbnRpdGxlZFwiLFxuICAgIGF1dGhvcjogXCJVbmtub3duXCIsXG4gICAgYm9va0RpcjogXCJib29rXCIsXG4gICAgY29udGV4dERpcjogXCJjb250ZXh0XCIsXG4gICAgcGFydHM6IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVwb0luZm8oY3VycmVudEJvb2s/OiBzdHJpbmcpOiB7IG93bmVyOiBzdHJpbmc7IHJlcG86IHN0cmluZzsgYnJhbmNoOiBzdHJpbmcgfSB8IG51bGwge1xuICBjb25zdCBjb25maWcgPSBnZXRCb29rQ29uZmlnKGN1cnJlbnRCb29rKTtcbiAgaWYgKGNvbmZpZykge1xuICAgIHJldHVybiB7IG93bmVyOiBjb25maWcub3duZXIsIHJlcG86IGNvbmZpZy5yZXBvLCBicmFuY2g6IGNvbmZpZy5icmFuY2ggfTtcbiAgfVxuXG4gIGlmICghaXNDbGllbnQoKSkgcmV0dXJuIG51bGw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNjcml2YS1jdXJyZW50LWJvb2tcIik7XG4gICAgaWYgKCFyYXcpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmF3KTtcbiAgICBjb25zdCBbb3duZXIsIHJlcG9dID0gcGFyc2VkLmZ1bGxfbmFtZS5zcGxpdChcIi9cIik7XG4gICAgcmV0dXJuIHsgb3duZXIsIHJlcG8sIGJyYW5jaDogcGFyc2VkLmRlZmF1bHRfYnJhbmNoID8/IFwibWFpblwiIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0SXRlbSIsInNldEl0ZW0iLCJwYXJzZUJvb2tTdHJ1Y3R1cmUiLCJpc0NsaWVudCIsImdldEJvb2tDb25maWciLCJjdXJyZW50Qm9vayIsInJlcG9LZXkiLCJnZXRQZXJzaXN0ZWRCb29rS2V5IiwiY29uZmlnIiwicmF3IiwibG9jYWxTdG9yYWdlIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZnVsbF9uYW1lIiwib3duZXIiLCJyZXBvIiwic3BsaXQiLCJicmFuY2giLCJkZWZhdWx0X2JyYW5jaCIsImJvb2siLCJ0aXRsZSIsIm5hbWUiLCJhdXRob3IiLCJib29rRGlyIiwiY29udGV4dERpciIsInBhcnRzIiwic3RvcmVSYXciLCJzdG9yZURhdGEiLCJzdGF0ZSIsImVkaXRvciIsInNhdmVCb29rQ29uZmlnIiwiZmV0Y2hBbmRTYXZlQm9va0NvbmZpZyIsImlzUHJpdmF0ZSIsInJlcyIsImZldGNoIiwib2siLCJkYXRhIiwianNvbiIsImNvbnRlbnQiLCJkZXRlY3RCb29rU3RydWN0dXJlIiwicHJpdmF0ZSIsImZpbGVzIiwidHJlZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImdldFJlcG9JbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/bookConfig.ts\n");

/***/ }),

/***/ "(ssr)/./lib/diff.ts":
/*!*********************!*\
  !*** ./lib/diff.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyChanges: () => (/* binding */ applyChanges),\n/* harmony export */   computeDiff: () => (/* binding */ computeDiff)\n/* harmony export */ });\n/* harmony import */ var diff__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diff */ \"(ssr)/./node_modules/diff/lib/index.mjs\");\n\nfunction computeDiff(oldText, newText) {\n    const result = (0,diff__WEBPACK_IMPORTED_MODULE_0__.diffWords)(oldText, newText);\n    return result.map(function mapChange(change) {\n        if (change.added) {\n            return {\n                type: \"add\",\n                value: change.value\n            };\n        }\n        if (change.removed) {\n            return {\n                type: \"remove\",\n                value: change.value\n            };\n        }\n        return {\n            type: \"equal\",\n            value: change.value\n        };\n    });\n}\nfunction applyChanges(original, changes, accepted) {\n    let result = \"\";\n    for(let i = 0; i < changes.length; i++){\n        const change = changes[i];\n        if (change.type === \"equal\") {\n            result += change.value;\n        } else if (change.type === \"add\") {\n            if (accepted[i]) {\n                result += change.value;\n            }\n        } else if (change.type === \"remove\") {\n            if (!accepted[i]) {\n                result += change.value;\n            }\n        }\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvZGlmZi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUM7QUFHMUIsU0FBU0MsWUFBWUMsT0FBZSxFQUFFQyxPQUFlO0lBQzFELE1BQU1DLFNBQVNKLCtDQUFTQSxDQUFDRSxTQUFTQztJQUNsQyxPQUFPQyxPQUFPQyxHQUFHLENBQUMsU0FBU0MsVUFBVUMsTUFBTTtRQUN6QyxJQUFJQSxPQUFPQyxLQUFLLEVBQUU7WUFDaEIsT0FBTztnQkFBRUMsTUFBTTtnQkFBT0MsT0FBT0gsT0FBT0csS0FBSztZQUFDO1FBQzVDO1FBQ0EsSUFBSUgsT0FBT0ksT0FBTyxFQUFFO1lBQ2xCLE9BQU87Z0JBQUVGLE1BQU07Z0JBQVVDLE9BQU9ILE9BQU9HLEtBQUs7WUFBQztRQUMvQztRQUNBLE9BQU87WUFBRUQsTUFBTTtZQUFTQyxPQUFPSCxPQUFPRyxLQUFLO1FBQUM7SUFDOUM7QUFDRjtBQUVPLFNBQVNFLGFBQ2RDLFFBQWdCLEVBQ2hCQyxPQUFxQixFQUNyQkMsUUFBbUI7SUFFbkIsSUFBSVgsU0FBUztJQUNiLElBQUssSUFBSVksSUFBSSxHQUFHQSxJQUFJRixRQUFRRyxNQUFNLEVBQUVELElBQUs7UUFDdkMsTUFBTVQsU0FBU08sT0FBTyxDQUFDRSxFQUFFO1FBQ3pCLElBQUlULE9BQU9FLElBQUksS0FBSyxTQUFTO1lBQzNCTCxVQUFVRyxPQUFPRyxLQUFLO1FBQ3hCLE9BQU8sSUFBSUgsT0FBT0UsSUFBSSxLQUFLLE9BQU87WUFDaEMsSUFBSU0sUUFBUSxDQUFDQyxFQUFFLEVBQUU7Z0JBQ2ZaLFVBQVVHLE9BQU9HLEtBQUs7WUFDeEI7UUFDRixPQUFPLElBQUlILE9BQU9FLElBQUksS0FBSyxVQUFVO1lBQ25DLElBQUksQ0FBQ00sUUFBUSxDQUFDQyxFQUFFLEVBQUU7Z0JBQ2hCWixVQUFVRyxPQUFPRyxLQUFLO1lBQ3hCO1FBQ0Y7SUFDRjtJQUNBLE9BQU9OO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9saWIvZGlmZi50cz8wYTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpZmZXb3JkcyB9IGZyb20gXCJkaWZmXCI7XG5pbXBvcnQgdHlwZSB7IERpZmZDaGFuZ2UgfSBmcm9tIFwiQC90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZURpZmYob2xkVGV4dDogc3RyaW5nLCBuZXdUZXh0OiBzdHJpbmcpOiBEaWZmQ2hhbmdlW10ge1xuICBjb25zdCByZXN1bHQgPSBkaWZmV29yZHMob2xkVGV4dCwgbmV3VGV4dCk7XG4gIHJldHVybiByZXN1bHQubWFwKGZ1bmN0aW9uIG1hcENoYW5nZShjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLmFkZGVkKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcImFkZFwiLCB2YWx1ZTogY2hhbmdlLnZhbHVlIH07XG4gICAgfVxuICAgIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJyZW1vdmVcIiwgdmFsdWU6IGNoYW5nZS52YWx1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImVxdWFsXCIsIHZhbHVlOiBjaGFuZ2UudmFsdWUgfTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNoYW5nZXMoXG4gIG9yaWdpbmFsOiBzdHJpbmcsXG4gIGNoYW5nZXM6IERpZmZDaGFuZ2VbXSxcbiAgYWNjZXB0ZWQ6IGJvb2xlYW5bXSxcbik6IHN0cmluZyB7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gXCJlcXVhbFwiKSB7XG4gICAgICByZXN1bHQgKz0gY2hhbmdlLnZhbHVlO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwiYWRkXCIpIHtcbiAgICAgIGlmIChhY2NlcHRlZFtpXSkge1xuICAgICAgICByZXN1bHQgKz0gY2hhbmdlLnZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hhbmdlLnR5cGUgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIGlmICghYWNjZXB0ZWRbaV0pIHtcbiAgICAgICAgcmVzdWx0ICs9IGNoYW5nZS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6WyJkaWZmV29yZHMiLCJjb21wdXRlRGlmZiIsIm9sZFRleHQiLCJuZXdUZXh0IiwicmVzdWx0IiwibWFwIiwibWFwQ2hhbmdlIiwiY2hhbmdlIiwiYWRkZWQiLCJ0eXBlIiwidmFsdWUiLCJyZW1vdmVkIiwiYXBwbHlDaGFuZ2VzIiwib3JpZ2luYWwiLCJjaGFuZ2VzIiwiYWNjZXB0ZWQiLCJpIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/diff.ts\n");

/***/ }),

/***/ "(ssr)/./lib/github.ts":
/*!***********************!*\
  !*** ./lib/github.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBranch: () => (/* binding */ createBranch),\n/* harmony export */   createOctokit: () => (/* binding */ createOctokit),\n/* harmony export */   createOrUpdateFile: () => (/* binding */ createOrUpdateFile),\n/* harmony export */   deleteFile: () => (/* binding */ deleteFile),\n/* harmony export */   getFileContent: () => (/* binding */ getFileContent),\n/* harmony export */   getRepoContents: () => (/* binding */ getRepoContents),\n/* harmony export */   getRepoTree: () => (/* binding */ getRepoTree),\n/* harmony export */   listBranches: () => (/* binding */ listBranches)\n/* harmony export */ });\n/* harmony import */ var _octokit_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @octokit/rest */ \"(ssr)/./node_modules/@octokit/rest/dist-src/index.js\");\n\nfunction createOctokit(token) {\n    return new _octokit_rest__WEBPACK_IMPORTED_MODULE_0__.Octokit({\n        auth: token\n    });\n}\nasync function getRepoContents(token, owner, repo, path, branch) {\n    const octokit = createOctokit(token);\n    try {\n        const { data } = await octokit.repos.getContent({\n            owner,\n            repo,\n            path,\n            ref: branch\n        });\n        if (Array.isArray(data)) {\n            return data.map(function mapEntry(entry) {\n                return {\n                    name: entry.name,\n                    path: entry.path,\n                    type: entry.type,\n                    size: entry.size,\n                    sha: entry.sha\n                };\n            });\n        }\n        if (data.type === \"file\" && \"content\" in data) {\n            return {\n                name: data.name,\n                path: data.path,\n                type: data.type,\n                size: data.size,\n                sha: data.sha,\n                content: Buffer.from(data.content, \"base64\").toString(\"utf-8\"),\n                encoding: data.encoding\n            };\n        }\n        return data;\n    } catch (err) {\n        if (err instanceof Error && \"status\" in err && err.status === 404) {\n            throw new Error(`Path not found: ${path}`);\n        }\n        throw new Error(`Failed to get contents of ${path}: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function getFileContent(token, owner, repo, path, branch) {\n    const octokit = createOctokit(token);\n    try {\n        const { data } = await octokit.repos.getContent({\n            owner,\n            repo,\n            path,\n            ref: branch\n        });\n        if (Array.isArray(data) || data.type !== \"file\" || !(\"content\" in data)) {\n            throw new Error(`Path is not a file: ${path}`);\n        }\n        return {\n            content: Buffer.from(data.content, \"base64\").toString(\"utf-8\"),\n            sha: data.sha\n        };\n    } catch (err) {\n        if (err instanceof Error && err.message.startsWith(\"Path is not a file\")) {\n            throw err;\n        }\n        if (err instanceof Error && \"status\" in err && err.status === 404) {\n            throw new Error(`File not found: ${path}`);\n        }\n        throw new Error(`Failed to read file ${path}: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function createOrUpdateFile(token, owner, repo, path, content, message, sha, branch) {\n    const octokit = createOctokit(token);\n    try {\n        const { data } = await octokit.repos.createOrUpdateFileContents({\n            owner,\n            repo,\n            path,\n            message,\n            content: Buffer.from(content).toString(\"base64\"),\n            sha,\n            branch\n        });\n        return {\n            sha: data.content?.sha ?? \"\"\n        };\n    } catch (err) {\n        if (err instanceof Error && \"status\" in err && err.status === 409) {\n            throw new Error(`Conflict updating ${path}: file was modified elsewhere. Fetch the latest version and try again.`);\n        }\n        throw new Error(`Failed to save ${path}: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function deleteFile(token, owner, repo, path, sha, message, branch) {\n    const octokit = createOctokit(token);\n    try {\n        await octokit.repos.deleteFile({\n            owner,\n            repo,\n            path,\n            message,\n            sha,\n            branch\n        });\n    } catch (err) {\n        if (err instanceof Error && \"status\" in err && err.status === 404) {\n            throw new Error(`File not found for deletion: ${path}`);\n        }\n        throw new Error(`Failed to delete ${path}: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function listBranches(token, owner, repo) {\n    const octokit = createOctokit(token);\n    try {\n        const { data } = await octokit.repos.listBranches({\n            owner,\n            repo,\n            per_page: 100\n        });\n        return data.map(function mapBranch(b) {\n            return {\n                name: b.name,\n                protected: b.protected\n            };\n        });\n    } catch (err) {\n        throw new Error(`Failed to list branches: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function createBranch(token, owner, repo, branchName, fromBranch) {\n    const octokit = createOctokit(token);\n    try {\n        const { data: ref } = await octokit.git.getRef({\n            owner,\n            repo,\n            ref: `heads/${fromBranch}`\n        });\n        await octokit.git.createRef({\n            owner,\n            repo,\n            ref: `refs/heads/${branchName}`,\n            sha: ref.object.sha\n        });\n    } catch (err) {\n        if (err instanceof Error && \"status\" in err && err.status === 422) {\n            throw new Error(`Branch \"${branchName}\" already exists`);\n        }\n        throw new Error(`Failed to create branch \"${branchName}\": ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\nasync function getRepoTree(token, owner, repo, branch) {\n    const octokit = createOctokit(token);\n    try {\n        const ref = branch ?? \"main\";\n        const { data } = await octokit.git.getTree({\n            owner,\n            repo,\n            tree_sha: ref,\n            recursive: \"1\"\n        });\n        return data.tree.filter(function isBlob(item) {\n            return item.type === \"blob\" && item.path != null;\n        }).map(function getPath(item) {\n            return item.path;\n        });\n    } catch (err) {\n        throw new Error(`Failed to get repo tree: ${err instanceof Error ? err.message : \"Unknown error\"}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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M2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9jdG9raXQgfSBmcm9tIFwiQG9jdG9raXQvcmVzdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT2N0b2tpdCh0b2tlbjogc3RyaW5nKTogT2N0b2tpdCB7XG4gIHJldHVybiBuZXcgT2N0b2tpdCh7IGF1dGg6IHRva2VuIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVwb0NvbnRlbnRzKFxuICB0b2tlbjogc3RyaW5nLFxuICBvd25lcjogc3RyaW5nLFxuICByZXBvOiBzdHJpbmcsXG4gIHBhdGg6IHN0cmluZyxcbiAgYnJhbmNoPzogc3RyaW5nLFxuKTogUHJvbWlzZTx1bmtub3duPiB7XG4gIGNvbnN0IG9jdG9raXQgPSBjcmVhdGVPY3Rva2l0KHRva2VuKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5nZXRDb250ZW50KHtcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICAgIHBhdGgsXG4gICAgICByZWY6IGJyYW5jaCxcbiAgICB9KTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5tYXAoZnVuY3Rpb24gbWFwRW50cnkoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBlbnRyeS5uYW1lLFxuICAgICAgICAgIHBhdGg6IGVudHJ5LnBhdGgsXG4gICAgICAgICAgdHlwZTogZW50cnkudHlwZSxcbiAgICAgICAgICBzaXplOiBlbnRyeS5zaXplLFxuICAgICAgICAgIHNoYTogZW50cnkuc2hhLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEudHlwZSA9PT0gXCJmaWxlXCIgJiYgXCJjb250ZW50XCIgaW4gZGF0YSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBwYXRoOiBkYXRhLnBhdGgsXG4gICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgc2l6ZTogZGF0YS5zaXplLFxuICAgICAgICBzaGE6IGRhdGEuc2hhLFxuICAgICAgICBjb250ZW50OiBCdWZmZXIuZnJvbShkYXRhLmNvbnRlbnQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIiksXG4gICAgICAgIGVuY29kaW5nOiBkYXRhLmVuY29kaW5nLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIFwic3RhdHVzXCIgaW4gZXJyICYmIChlcnIgYXMgeyBzdGF0dXM6IG51bWJlciB9KS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXRoIG5vdCBmb3VuZDogJHtwYXRofWApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIGdldCBjb250ZW50cyBvZiAke3BhdGh9OiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZpbGVDb250ZW50KFxuICB0b2tlbjogc3RyaW5nLFxuICBvd25lcjogc3RyaW5nLFxuICByZXBvOiBzdHJpbmcsXG4gIHBhdGg6IHN0cmluZyxcbiAgYnJhbmNoPzogc3RyaW5nLFxuKTogUHJvbWlzZTx7IGNvbnRlbnQ6IHN0cmluZzsgc2hhOiBzdHJpbmcgfT4ge1xuICBjb25zdCBvY3Rva2l0ID0gY3JlYXRlT2N0b2tpdCh0b2tlbik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IG9jdG9raXQucmVwb3MuZ2V0Q29udGVudCh7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICBwYXRoLFxuICAgICAgcmVmOiBicmFuY2gsXG4gICAgfSk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSB8fCBkYXRhLnR5cGUgIT09IFwiZmlsZVwiIHx8ICEoXCJjb250ZW50XCIgaW4gZGF0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGF0aCBpcyBub3QgYSBmaWxlOiAke3BhdGh9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRlbnQ6IEJ1ZmZlci5mcm9tKGRhdGEuY29udGVudCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKSxcbiAgICAgIHNoYTogZGF0YS5zaGEsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJQYXRoIGlzIG5vdCBhIGZpbGVcIikpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIFwic3RhdHVzXCIgaW4gZXJyICYmIChlcnIgYXMgeyBzdGF0dXM6IG51bWJlciB9KS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlIG5vdCBmb3VuZDogJHtwYXRofWApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIHJlYWQgZmlsZSAke3BhdGh9OiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRmlsZShcbiAgdG9rZW46IHN0cmluZyxcbiAgb3duZXI6IHN0cmluZyxcbiAgcmVwbzogc3RyaW5nLFxuICBwYXRoOiBzdHJpbmcsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbiAgbWVzc2FnZTogc3RyaW5nLFxuICBzaGE/OiBzdHJpbmcsXG4gIGJyYW5jaD86IHN0cmluZyxcbik6IFByb21pc2U8eyBzaGE6IHN0cmluZyB9PiB7XG4gIGNvbnN0IG9jdG9raXQgPSBjcmVhdGVPY3Rva2l0KHRva2VuKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5jcmVhdGVPclVwZGF0ZUZpbGVDb250ZW50cyh7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICBwYXRoLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGNvbnRlbnQ6IEJ1ZmZlci5mcm9tKGNvbnRlbnQpLnRvU3RyaW5nKFwiYmFzZTY0XCIpLFxuICAgICAgc2hhLFxuICAgICAgYnJhbmNoLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgc2hhOiBkYXRhLmNvbnRlbnQ/LnNoYSA/PyBcIlwiIH07XG4gIH0gY2F0Y2ggKGVycjogdW5rbm93bikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBcInN0YXR1c1wiIGluIGVyciAmJiAoZXJyIGFzIHsgc3RhdHVzOiBudW1iZXIgfSkuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvbmZsaWN0IHVwZGF0aW5nICR7cGF0aH06IGZpbGUgd2FzIG1vZGlmaWVkIGVsc2V3aGVyZS4gRmV0Y2ggdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCB0cnkgYWdhaW4uYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBGYWlsZWQgdG8gc2F2ZSAke3BhdGh9OiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUZpbGUoXG4gIHRva2VuOiBzdHJpbmcsXG4gIG93bmVyOiBzdHJpbmcsXG4gIHJlcG86IHN0cmluZyxcbiAgcGF0aDogc3RyaW5nLFxuICBzaGE6IHN0cmluZyxcbiAgbWVzc2FnZTogc3RyaW5nLFxuICBicmFuY2g/OiBzdHJpbmcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgb2N0b2tpdCA9IGNyZWF0ZU9jdG9raXQodG9rZW4pO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgb2N0b2tpdC5yZXBvcy5kZWxldGVGaWxlKHtcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICAgIHBhdGgsXG4gICAgICBtZXNzYWdlLFxuICAgICAgc2hhLFxuICAgICAgYnJhbmNoLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgXCJzdGF0dXNcIiBpbiBlcnIgJiYgKGVyciBhcyB7IHN0YXR1czogbnVtYmVyIH0pLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgbm90IGZvdW5kIGZvciBkZWxldGlvbjogJHtwYXRofWApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIGRlbGV0ZSAke3BhdGh9OiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RCcmFuY2hlcyhcbiAgdG9rZW46IHN0cmluZyxcbiAgb3duZXI6IHN0cmluZyxcbiAgcmVwbzogc3RyaW5nLFxuKTogUHJvbWlzZTx7IG5hbWU6IHN0cmluZzsgcHJvdGVjdGVkOiBib29sZWFuIH1bXT4ge1xuICBjb25zdCBvY3Rva2l0ID0gY3JlYXRlT2N0b2tpdCh0b2tlbik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IG9jdG9raXQucmVwb3MubGlzdEJyYW5jaGVzKHtcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICAgIHBlcl9wYWdlOiAxMDAsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGF0YS5tYXAoZnVuY3Rpb24gbWFwQnJhbmNoKGIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGIubmFtZSxcbiAgICAgICAgcHJvdGVjdGVkOiBiLnByb3RlY3RlZCxcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycjogdW5rbm93bikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBGYWlsZWQgdG8gbGlzdCBicmFuY2hlczogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJ9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVCcmFuY2goXG4gIHRva2VuOiBzdHJpbmcsXG4gIG93bmVyOiBzdHJpbmcsXG4gIHJlcG86IHN0cmluZyxcbiAgYnJhbmNoTmFtZTogc3RyaW5nLFxuICBmcm9tQnJhbmNoOiBzdHJpbmcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgb2N0b2tpdCA9IGNyZWF0ZU9jdG9raXQodG9rZW4pO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiByZWYgfSA9IGF3YWl0IG9jdG9raXQuZ2l0LmdldFJlZih7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICByZWY6IGBoZWFkcy8ke2Zyb21CcmFuY2h9YCxcbiAgICB9KTtcblxuICAgIGF3YWl0IG9jdG9raXQuZ2l0LmNyZWF0ZVJlZih7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICByZWY6IGByZWZzL2hlYWRzLyR7YnJhbmNoTmFtZX1gLFxuICAgICAgc2hhOiByZWYub2JqZWN0LnNoYSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIFwic3RhdHVzXCIgaW4gZXJyICYmIChlcnIgYXMgeyBzdGF0dXM6IG51bWJlciB9KS5zdGF0dXMgPT09IDQyMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBCcmFuY2ggXCIke2JyYW5jaE5hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBjcmVhdGUgYnJhbmNoIFwiJHticmFuY2hOYW1lfVwiOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlcG9UcmVlKFxuICB0b2tlbjogc3RyaW5nLFxuICBvd25lcjogc3RyaW5nLFxuICByZXBvOiBzdHJpbmcsXG4gIGJyYW5jaD86IHN0cmluZyxcbik6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgY29uc3Qgb2N0b2tpdCA9IGNyZWF0ZU9jdG9raXQodG9rZW4pO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVmID0gYnJhbmNoID8/IFwibWFpblwiO1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgb2N0b2tpdC5naXQuZ2V0VHJlZSh7XG4gICAgICBvd25lcixcbiAgICAgIHJlcG8sXG4gICAgICB0cmVlX3NoYTogcmVmLFxuICAgICAgcmVjdXJzaXZlOiBcIjFcIixcbiAgICB9KTtcblxuICAgIHJldHVybiBkYXRhLnRyZWVcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gaXNCbG9iKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gXCJibG9iXCIgJiYgaXRlbS5wYXRoICE9IG51bGw7XG4gICAgICB9KVxuICAgICAgLm1hcChmdW5jdGlvbiBnZXRQYXRoKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCBhcyBzdHJpbmc7XG4gICAgICB9KTtcbiAgfSBjYXRjaCAoZXJyOiB1bmtub3duKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBnZXQgcmVwbyB0cmVlOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPY3Rva2l0IiwiY3JlYXRlT2N0b2tpdCIsInRva2VuIiwiYXV0aCIsImdldFJlcG9Db250ZW50cyIsIm93bmVyIiwicmVwbyIsInBhdGgiLCJicmFuY2giLCJvY3Rva2l0IiwiZGF0YSIsInJlcG9zIiwiZ2V0Q29udGVudCIsInJlZiIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIm1hcEVudHJ5IiwiZW50cnkiLCJuYW1lIiwidHlwZSIsInNpemUiLCJzaGEiLCJjb250ZW50IiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwiZW5jb2RpbmciLCJlcnIiLCJFcnJvciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJnZXRGaWxlQ29udGVudCIsInN0YXJ0c1dpdGgiLCJjcmVhdGVPclVwZGF0ZUZpbGUiLCJjcmVhdGVPclVwZGF0ZUZpbGVDb250ZW50cyIsImRlbGV0ZUZpbGUiLCJsaXN0QnJhbmNoZXMiLCJwZXJfcGFnZSIsIm1hcEJyYW5jaCIsImIiLCJwcm90ZWN0ZWQiLCJjcmVhdGVCcmFuY2giLCJicmFuY2hOYW1lIiwiZnJvbUJyYW5jaCIsImdpdCIsImdldFJlZiIsImNyZWF0ZVJlZiIsIm9iamVjdCIsImdldFJlcG9UcmVlIiwiZ2V0VHJlZSIsInRyZWVfc2hhIiwicmVjdXJzaXZlIiwidHJlZSIsImZpbHRlciIsImlzQmxvYiIsIml0ZW0iLCJnZXRQYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/github.ts\n");

/***/ }),

/***/ "(ssr)/./lib/outline.ts":
/*!************************!*\
  !*** ./lib/outline.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addChild: () => (/* binding */ addChild),\n/* harmony export */   createDefaultOutline: () => (/* binding */ createDefaultOutline),\n/* harmony export */   findNode: () => (/* binding */ findNode),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getParentId: () => (/* binding */ getParentId),\n/* harmony export */   jsonToOutline: () => (/* binding */ jsonToOutline),\n/* harmony export */   moveNode: () => (/* binding */ moveNode),\n/* harmony export */   outlineToJson: () => (/* binding */ outlineToJson),\n/* harmony export */   removeNode: () => (/* binding */ removeNode),\n/* harmony export */   reorderChildren: () => (/* binding */ reorderChildren),\n/* harmony export */   updateNode: () => (/* binding */ updateNode)\n/* harmony export */ });\nfunction generateId() {\n    return Math.random().toString(36).substring(2, 9);\n}\nfunction createDefaultOutline(book) {\n    const root = {\n        id: generateId(),\n        type: \"book\",\n        title: book.title,\n        status: \"draft\",\n        children: []\n    };\n    for (const part of book.parts){\n        const partNode = {\n            id: generateId(),\n            type: \"part\",\n            title: part.title,\n            status: \"draft\",\n            children: []\n        };\n        for (const chapter of part.chapters){\n            const chapterNode = {\n                id: chapter.id || generateId(),\n                type: \"chapter\",\n                title: chapter.label,\n                status: \"idea\",\n                file: chapter.file,\n                children: []\n            };\n            partNode.children.push(chapterNode);\n        }\n        root.children.push(partNode);\n    }\n    return root;\n}\nfunction findNode(outline, id) {\n    if (outline.id === id) return outline;\n    if (outline.children) {\n        for (const child of outline.children){\n            const found = findNode(child, id);\n            if (found) return found;\n        }\n    }\n    return null;\n}\nfunction updateNode(outline, id, updates) {\n    if (outline.id === id) {\n        return {\n            ...outline,\n            ...updates\n        };\n    }\n    if (outline.children) {\n        return {\n            ...outline,\n            children: outline.children.map(function mapChild(child) {\n                return updateNode(child, id, updates);\n            })\n        };\n    }\n    return outline;\n}\nfunction addChild(outline, parentId, child) {\n    if (outline.id === parentId) {\n        return {\n            ...outline,\n            children: [\n                ...outline.children || [],\n                child\n            ]\n        };\n    }\n    if (outline.children) {\n        return {\n            ...outline,\n            children: outline.children.map(function mapChild(c) {\n                return addChild(c, parentId, child);\n            })\n        };\n    }\n    return outline;\n}\nfunction removeNode(outline, id) {\n    if (outline.children) {\n        return {\n            ...outline,\n            children: outline.children.filter(function filterChild(child) {\n                return child.id !== id;\n            }).map(function mapChild(child) {\n                return removeNode(child, id);\n            })\n        };\n    }\n    return outline;\n}\nfunction moveNode(outline, nodeId, newParentId, newIndex) {\n    const node = findNode(outline, nodeId);\n    if (!node) return outline;\n    const nodeCopy = {\n        ...node\n    };\n    const withoutNode = removeNode(outline, nodeId);\n    function insertAtIndex(tree) {\n        if (tree.id === newParentId) {\n            const children = [\n                ...tree.children || []\n            ];\n            children.splice(newIndex, 0, nodeCopy);\n            return {\n                ...tree,\n                children\n            };\n        }\n        if (tree.children) {\n            return {\n                ...tree,\n                children: tree.children.map(insertAtIndex)\n            };\n        }\n        return tree;\n    }\n    return insertAtIndex(withoutNode);\n}\nfunction reorderChildren(outline, parentId, oldIndex, newIndex) {\n    if (outline.id === parentId) {\n        const children = [\n            ...outline.children || []\n        ];\n        const [moved] = children.splice(oldIndex, 1);\n        children.splice(newIndex, 0, moved);\n        return {\n            ...outline,\n            children\n        };\n    }\n    if (outline.children) {\n        return {\n            ...outline,\n            children: outline.children.map(function mapChild(child) {\n                return reorderChildren(child, parentId, oldIndex, newIndex);\n            })\n        };\n    }\n    return outline;\n}\nfunction outlineToJson(node) {\n    return JSON.stringify(node);\n}\nfunction jsonToOutline(json) {\n    return JSON.parse(json);\n}\nfunction getParentId(outline, nodeId) {\n    if (outline.children) {\n        for (const child of outline.children){\n            if (child.id === nodeId) return outline.id;\n            const found = getParentId(child, nodeId);\n            if (found) return found;\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztZQUNMLEdBQUdXLE9BQU87WUFDVlgsVUFBVVcsUUFBUVgsUUFBUSxDQUFDZ0IsR0FBRyxDQUFDLFNBQVNDLFNBQVNMLEtBQUs7Z0JBQ3BELE9BQU9zQixnQkFBZ0J0QixPQUFPTyxVQUFVZ0IsVUFBVVI7WUFDcEQ7UUFDRjtJQUNGO0lBQ0EsT0FBT2hCO0FBQ1Q7QUFFTyxTQUFTMEIsY0FBY1QsSUFBaUI7SUFDN0MsT0FBT1UsS0FBS0MsU0FBUyxDQUFDWDtBQUN4QjtBQUVPLFNBQVNZLGNBQWNDLElBQVk7SUFDeEMsT0FBT0gsS0FBS0ksS0FBSyxDQUFDRDtBQUNwQjtBQUVPLFNBQVNFLFlBQ2RoQyxPQUFvQixFQUNwQmMsTUFBYztJQUVkLElBQUlkLFFBQVFYLFFBQVEsRUFBRTtRQUNwQixLQUFLLE1BQU1ZLFNBQVNELFFBQVFYLFFBQVEsQ0FBRTtZQUNwQyxJQUFJWSxNQUFNaEIsRUFBRSxLQUFLNkIsUUFBUSxPQUFPZCxRQUFRZixFQUFFO1lBQzFDLE1BQU1pQixRQUFROEIsWUFBWS9CLE9BQU9hO1lBQ2pDLElBQUlaLE9BQU8sT0FBT0E7UUFDcEI7SUFDRjtJQUNBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2xpYi9vdXRsaW5lLnRzPzQxMTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBCb29rLCBPdXRsaW5lTm9kZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0T3V0bGluZShib29rOiBCb29rKTogT3V0bGluZU5vZGUge1xuICBjb25zdCByb290OiBPdXRsaW5lTm9kZSA9IHtcbiAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgIHR5cGU6IFwiYm9va1wiLFxuICAgIHRpdGxlOiBib29rLnRpdGxlLFxuICAgIHN0YXR1czogXCJkcmFmdFwiLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgfTtcblxuICBmb3IgKGNvbnN0IHBhcnQgb2YgYm9vay5wYXJ0cykge1xuICAgIGNvbnN0IHBhcnROb2RlOiBPdXRsaW5lTm9kZSA9IHtcbiAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiBcInBhcnRcIixcbiAgICAgIHRpdGxlOiBwYXJ0LnRpdGxlLFxuICAgICAgc3RhdHVzOiBcImRyYWZ0XCIsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgY2hhcHRlciBvZiBwYXJ0LmNoYXB0ZXJzKSB7XG4gICAgICBjb25zdCBjaGFwdGVyTm9kZTogT3V0bGluZU5vZGUgPSB7XG4gICAgICAgIGlkOiBjaGFwdGVyLmlkIHx8IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgdHlwZTogXCJjaGFwdGVyXCIsXG4gICAgICAgIHRpdGxlOiBjaGFwdGVyLmxhYmVsLFxuICAgICAgICBzdGF0dXM6IFwiaWRlYVwiLFxuICAgICAgICBmaWxlOiBjaGFwdGVyLmZpbGUsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIH07XG4gICAgICBwYXJ0Tm9kZS5jaGlsZHJlbiEucHVzaChjaGFwdGVyTm9kZSk7XG4gICAgfVxuXG4gICAgcm9vdC5jaGlsZHJlbiEucHVzaChwYXJ0Tm9kZSk7XG4gIH1cblxuICByZXR1cm4gcm9vdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmROb2RlKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgaWQ6IHN0cmluZyxcbik6IE91dGxpbmVOb2RlIHwgbnVsbCB7XG4gIGlmIChvdXRsaW5lLmlkID09PSBpZCkgcmV0dXJuIG91dGxpbmU7XG4gIGlmIChvdXRsaW5lLmNoaWxkcmVuKSB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBvdXRsaW5lLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBmb3VuZCA9IGZpbmROb2RlKGNoaWxkLCBpZCk7XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVOb2RlKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgaWQ6IHN0cmluZyxcbiAgdXBkYXRlczogUGFydGlhbDxPdXRsaW5lTm9kZT4sXG4pOiBPdXRsaW5lTm9kZSB7XG4gIGlmIChvdXRsaW5lLmlkID09PSBpZCkge1xuICAgIHJldHVybiB7IC4uLm91dGxpbmUsIC4uLnVwZGF0ZXMgfTtcbiAgfVxuICBpZiAob3V0bGluZS5jaGlsZHJlbikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5vdXRsaW5lLFxuICAgICAgY2hpbGRyZW46IG91dGxpbmUuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIG1hcENoaWxkKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVOb2RlKGNoaWxkLCBpZCwgdXBkYXRlcyk7XG4gICAgICB9KSxcbiAgICB9O1xuICB9XG4gIHJldHVybiBvdXRsaW5lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hpbGQoXG4gIG91dGxpbmU6IE91dGxpbmVOb2RlLFxuICBwYXJlbnRJZDogc3RyaW5nLFxuICBjaGlsZDogT3V0bGluZU5vZGUsXG4pOiBPdXRsaW5lTm9kZSB7XG4gIGlmIChvdXRsaW5lLmlkID09PSBwYXJlbnRJZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5vdXRsaW5lLFxuICAgICAgY2hpbGRyZW46IFsuLi4ob3V0bGluZS5jaGlsZHJlbiB8fCBbXSksIGNoaWxkXSxcbiAgICB9O1xuICB9XG4gIGlmIChvdXRsaW5lLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm91dGxpbmUsXG4gICAgICBjaGlsZHJlbjogb3V0bGluZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gbWFwQ2hpbGQoYykge1xuICAgICAgICByZXR1cm4gYWRkQ2hpbGQoYywgcGFyZW50SWQsIGNoaWxkKTtcbiAgICAgIH0pLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG91dGxpbmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgaWQ6IHN0cmluZyxcbik6IE91dGxpbmVOb2RlIHtcbiAgaWYgKG91dGxpbmUuY2hpbGRyZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3V0bGluZSxcbiAgICAgIGNoaWxkcmVuOiBvdXRsaW5lLmNoaWxkcmVuXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQuaWQgIT09IGlkO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIG1hcENoaWxkKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbW92ZU5vZGUoY2hpbGQsIGlkKTtcbiAgICAgICAgfSksXG4gICAgfTtcbiAgfVxuICByZXR1cm4gb3V0bGluZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVOb2RlKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgbm9kZUlkOiBzdHJpbmcsXG4gIG5ld1BhcmVudElkOiBzdHJpbmcsXG4gIG5ld0luZGV4OiBudW1iZXIsXG4pOiBPdXRsaW5lTm9kZSB7XG4gIGNvbnN0IG5vZGUgPSBmaW5kTm9kZShvdXRsaW5lLCBub2RlSWQpO1xuICBpZiAoIW5vZGUpIHJldHVybiBvdXRsaW5lO1xuXG4gIGNvbnN0IG5vZGVDb3B5OiBPdXRsaW5lTm9kZSA9IHsgLi4ubm9kZSB9O1xuICBjb25zdCB3aXRob3V0Tm9kZSA9IHJlbW92ZU5vZGUob3V0bGluZSwgbm9kZUlkKTtcblxuICBmdW5jdGlvbiBpbnNlcnRBdEluZGV4KHRyZWU6IE91dGxpbmVOb2RlKTogT3V0bGluZU5vZGUge1xuICAgIGlmICh0cmVlLmlkID09PSBuZXdQYXJlbnRJZCkge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBbLi4uKHRyZWUuY2hpbGRyZW4gfHwgW10pXTtcbiAgICAgIGNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgbm9kZUNvcHkpO1xuICAgICAgcmV0dXJuIHsgLi4udHJlZSwgY2hpbGRyZW4gfTtcbiAgICB9XG4gICAgaWYgKHRyZWUuY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRyZWUsXG4gICAgICAgIGNoaWxkcmVuOiB0cmVlLmNoaWxkcmVuLm1hcChpbnNlcnRBdEluZGV4KSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0cmVlO1xuICB9XG5cbiAgcmV0dXJuIGluc2VydEF0SW5kZXgod2l0aG91dE5vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVvcmRlckNoaWxkcmVuKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgcGFyZW50SWQ6IHN0cmluZyxcbiAgb2xkSW5kZXg6IG51bWJlcixcbiAgbmV3SW5kZXg6IG51bWJlcixcbik6IE91dGxpbmVOb2RlIHtcbiAgaWYgKG91dGxpbmUuaWQgPT09IHBhcmVudElkKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbLi4uKG91dGxpbmUuY2hpbGRyZW4gfHwgW10pXTtcbiAgICBjb25zdCBbbW92ZWRdID0gY2hpbGRyZW4uc3BsaWNlKG9sZEluZGV4LCAxKTtcbiAgICBjaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIG1vdmVkKTtcbiAgICByZXR1cm4geyAuLi5vdXRsaW5lLCBjaGlsZHJlbiB9O1xuICB9XG4gIGlmIChvdXRsaW5lLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm91dGxpbmUsXG4gICAgICBjaGlsZHJlbjogb3V0bGluZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gbWFwQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHJlb3JkZXJDaGlsZHJlbihjaGlsZCwgcGFyZW50SWQsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgICB9KSxcbiAgICB9O1xuICB9XG4gIHJldHVybiBvdXRsaW5lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3V0bGluZVRvSnNvbihub2RlOiBPdXRsaW5lTm9kZSk6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25Ub091dGxpbmUoanNvbjogc3RyaW5nKTogT3V0bGluZU5vZGUge1xuICByZXR1cm4gSlNPTi5wYXJzZShqc29uKSBhcyBPdXRsaW5lTm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudElkKFxuICBvdXRsaW5lOiBPdXRsaW5lTm9kZSxcbiAgbm9kZUlkOiBzdHJpbmcsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKG91dGxpbmUuY2hpbGRyZW4pIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG91dGxpbmUuY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjaGlsZC5pZCA9PT0gbm9kZUlkKSByZXR1cm4gb3V0bGluZS5pZDtcbiAgICAgIGNvbnN0IGZvdW5kID0gZ2V0UGFyZW50SWQoY2hpbGQsIG5vZGVJZCk7XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iXSwibmFtZXMiOlsiZ2VuZXJhdGVJZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImNyZWF0ZURlZmF1bHRPdXRsaW5lIiwiYm9vayIsInJvb3QiLCJpZCIsInR5cGUiLCJ0aXRsZSIsInN0YXR1cyIsImNoaWxkcmVuIiwicGFydCIsInBhcnRzIiwicGFydE5vZGUiLCJjaGFwdGVyIiwiY2hhcHRlcnMiLCJjaGFwdGVyTm9kZSIsImxhYmVsIiwiZmlsZSIsInB1c2giLCJmaW5kTm9kZSIsIm91dGxpbmUiLCJjaGlsZCIsImZvdW5kIiwidXBkYXRlTm9kZSIsInVwZGF0ZXMiLCJtYXAiLCJtYXBDaGlsZCIsImFkZENoaWxkIiwicGFyZW50SWQiLCJjIiwicmVtb3ZlTm9kZSIsImZpbHRlciIsImZpbHRlckNoaWxkIiwibW92ZU5vZGUiLCJub2RlSWQiLCJuZXdQYXJlbnRJZCIsIm5ld0luZGV4Iiwibm9kZSIsIm5vZGVDb3B5Iiwid2l0aG91dE5vZGUiLCJpbnNlcnRBdEluZGV4IiwidHJlZSIsInNwbGljZSIsInJlb3JkZXJDaGlsZHJlbiIsIm9sZEluZGV4IiwibW92ZWQiLCJvdXRsaW5lVG9Kc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb25Ub091dGxpbmUiLCJqc29uIiwicGFyc2UiLCJnZXRQYXJlbnRJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/outline.ts\n");

/***/ }),

/***/ "(ssr)/./lib/storage.ts":
/*!************************!*\
  !*** ./lib/storage.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getChatHistory: () => (/* binding */ getChatHistory),\n/* harmony export */   getItem: () => (/* binding */ getItem),\n/* harmony export */   getLocalDraft: () => (/* binding */ getLocalDraft),\n/* harmony export */   removeItem: () => (/* binding */ removeItem),\n/* harmony export */   setChatHistory: () => (/* binding */ setChatHistory),\n/* harmony export */   setItem: () => (/* binding */ setItem),\n/* harmony export */   setLocalDraft: () => (/* binding */ setLocalDraft)\n/* harmony export */ });\nfunction isClient() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction getItem(key, fallback) {\n    try {\n        if (!isClient()) return fallback;\n        const raw = localStorage.getItem(key);\n        if (raw === null) return fallback;\n        return JSON.parse(raw);\n    } catch  {\n        return fallback;\n    }\n}\nfunction setItem(key, value) {\n    try {\n        if (!isClient()) return;\n        localStorage.setItem(key, JSON.stringify(value));\n    } catch  {\n    /* storage full or unavailable */ }\n}\nfunction removeItem(key) {\n    try {\n        if (!isClient()) return;\n        localStorage.removeItem(key);\n    } catch  {\n    /* storage unavailable */ }\n}\nfunction getChatHistory(repoKey) {\n    return getItem(`scriva:chat:${repoKey}`, []);\n}\nfunction setChatHistory(repoKey, messages) {\n    setItem(`scriva:chat:${repoKey}`, messages);\n}\nfunction getLocalDraft(repoKey, chapterId) {\n    try {\n        if (!isClient()) return null;\n        return localStorage.getItem(`scriva:draft:${repoKey}:${chapterId}`);\n    } catch  {\n        return null;\n    }\n}\nfunction setLocalDraft(repoKey, chapterId, content) {\n    try {\n        if (!isClient()) return;\n        localStorage.setItem(`scriva:draft:${repoKey}:${chapterId}`, content);\n    } catch  {\n    /* storage full or unavailable */ }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3RvcmFnZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsU0FBU0E7SUFDUCxPQUFPLGdCQUFrQjtBQUMzQjtBQUVPLFNBQVNDLFFBQVdDLEdBQVcsRUFBRUMsUUFBVztJQUNqRCxJQUFJO1FBQ0YsSUFBSSxDQUFDSCxZQUFZLE9BQU9HO1FBQ3hCLE1BQU1DLE1BQU1DLGFBQWFKLE9BQU8sQ0FBQ0M7UUFDakMsSUFBSUUsUUFBUSxNQUFNLE9BQU9EO1FBQ3pCLE9BQU9HLEtBQUtDLEtBQUssQ0FBQ0g7SUFDcEIsRUFBRSxPQUFNO1FBQ04sT0FBT0Q7SUFDVDtBQUNGO0FBRU8sU0FBU0ssUUFBUU4sR0FBVyxFQUFFTyxLQUFjO0lBQ2pELElBQUk7UUFDRixJQUFJLENBQUNULFlBQVk7UUFDakJLLGFBQWFHLE9BQU8sQ0FBQ04sS0FBS0ksS0FBS0ksU0FBUyxDQUFDRDtJQUMzQyxFQUFFLE9BQU07SUFDTiwrQkFBK0IsR0FDakM7QUFDRjtBQUVPLFNBQVNFLFdBQVdULEdBQVc7SUFDcEMsSUFBSTtRQUNGLElBQUksQ0FBQ0YsWUFBWTtRQUNqQkssYUFBYU0sVUFBVSxDQUFDVDtJQUMxQixFQUFFLE9BQU07SUFDTix1QkFBdUIsR0FDekI7QUFDRjtBQUVPLFNBQVNVLGVBQWVDLE9BQWU7SUFDNUMsT0FBT1osUUFBdUIsQ0FBQyxZQUFZLEVBQUVZLFFBQVEsQ0FBQyxFQUFFLEVBQUU7QUFDNUQ7QUFFTyxTQUFTQyxlQUNkRCxPQUFlLEVBQ2ZFLFFBQXVCO0lBRXZCUCxRQUFRLENBQUMsWUFBWSxFQUFFSyxRQUFRLENBQUMsRUFBRUU7QUFDcEM7QUFFTyxTQUFTQyxjQUNkSCxPQUFlLEVBQ2ZJLFNBQWlCO0lBRWpCLElBQUk7UUFDRixJQUFJLENBQUNqQixZQUFZLE9BQU87UUFDeEIsT0FBT0ssYUFBYUosT0FBTyxDQUFDLENBQUMsYUFBYSxFQUFFWSxRQUFRLENBQUMsRUFBRUksVUFBVSxDQUFDO0lBQ3BFLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRU8sU0FBU0MsY0FDZEwsT0FBZSxFQUNmSSxTQUFpQixFQUNqQkUsT0FBZTtJQUVmLElBQUk7UUFDRixJQUFJLENBQUNuQixZQUFZO1FBQ2pCSyxhQUFhRyxPQUFPLENBQ2xCLENBQUMsYUFBYSxFQUFFSyxRQUFRLENBQUMsRUFBRUksVUFBVSxDQUFDLEVBQ3RDRTtJQUVKLEVBQUUsT0FBTTtJQUNOLCtCQUErQixHQUNqQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vbGliL3N0b3JhZ2UudHM/NWRjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENoYXRNZXNzYWdlIH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuZnVuY3Rpb24gaXNDbGllbnQoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbTxUPihrZXk6IHN0cmluZywgZmFsbGJhY2s6IFQpOiBUIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWlzQ2xpZW50KCkpIHJldHVybiBmYWxsYmFjaztcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGlmIChyYXcgPT09IG51bGwpIHJldHVybiBmYWxsYmFjaztcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpIGFzIFQ7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWlzQ2xpZW50KCkpIHJldHVybjtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIH0gY2F0Y2gge1xuICAgIC8qIHN0b3JhZ2UgZnVsbCBvciB1bmF2YWlsYWJsZSAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgaWYgKCFpc0NsaWVudCgpKSByZXR1cm47XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgfSBjYXRjaCB7XG4gICAgLyogc3RvcmFnZSB1bmF2YWlsYWJsZSAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGF0SGlzdG9yeShyZXBvS2V5OiBzdHJpbmcpOiBDaGF0TWVzc2FnZVtdIHtcbiAgcmV0dXJuIGdldEl0ZW08Q2hhdE1lc3NhZ2VbXT4oYHNjcml2YTpjaGF0OiR7cmVwb0tleX1gLCBbXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDaGF0SGlzdG9yeShcbiAgcmVwb0tleTogc3RyaW5nLFxuICBtZXNzYWdlczogQ2hhdE1lc3NhZ2VbXSxcbik6IHZvaWQge1xuICBzZXRJdGVtKGBzY3JpdmE6Y2hhdDoke3JlcG9LZXl9YCwgbWVzc2FnZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxEcmFmdChcbiAgcmVwb0tleTogc3RyaW5nLFxuICBjaGFwdGVySWQ6IHN0cmluZyxcbik6IHN0cmluZyB8IG51bGwge1xuICB0cnkge1xuICAgIGlmICghaXNDbGllbnQoKSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBzY3JpdmE6ZHJhZnQ6JHtyZXBvS2V5fToke2NoYXB0ZXJJZH1gKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldExvY2FsRHJhZnQoXG4gIHJlcG9LZXk6IHN0cmluZyxcbiAgY2hhcHRlcklkOiBzdHJpbmcsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbik6IHZvaWQge1xuICB0cnkge1xuICAgIGlmICghaXNDbGllbnQoKSkgcmV0dXJuO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgYHNjcml2YTpkcmFmdDoke3JlcG9LZXl9OiR7Y2hhcHRlcklkfWAsXG4gICAgICBjb250ZW50LFxuICAgICk7XG4gIH0gY2F0Y2gge1xuICAgIC8qIHN0b3JhZ2UgZnVsbCBvciB1bmF2YWlsYWJsZSAqL1xuICB9XG59XG4iXSwibmFtZXMiOlsiaXNDbGllbnQiLCJnZXRJdGVtIiwia2V5IiwiZmFsbGJhY2siLCJyYXciLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwicGFyc2UiLCJzZXRJdGVtIiwidmFsdWUiLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwiZ2V0Q2hhdEhpc3RvcnkiLCJyZXBvS2V5Iiwic2V0Q2hhdEhpc3RvcnkiLCJtZXNzYWdlcyIsImdldExvY2FsRHJhZnQiLCJjaGFwdGVySWQiLCJzZXRMb2NhbERyYWZ0IiwiY29udGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/storage.ts\n");

/***/ }),

/***/ "(ssr)/./lib/tokens.ts":
/*!***********************!*\
  !*** ./lib/tokens.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   estimateCost: () => (/* binding */ estimateCost),\n/* harmony export */   estimateTokens: () => (/* binding */ estimateTokens),\n/* harmony export */   formatTokenCount: () => (/* binding */ formatTokenCount)\n/* harmony export */ });\nfunction estimateTokens(text) {\n    return Math.ceil(text.length / 4);\n}\nfunction formatTokenCount(count) {\n    if (count < 1000) return String(count);\n    if (count < 100000) return `${(count / 1000).toFixed(1)}k`;\n    return `${Math.round(count / 1000)}k`;\n}\nfunction estimateCost(tokens, model) {\n    const rates = {\n        haiku: {\n            input: 0.25 / 1000000,\n            output: 1.25 / 1000000\n        },\n        sonnet: {\n            input: 3.0 / 1000000,\n            output: 15.0 / 1000000\n        }\n    };\n    const rate = rates[model];\n    return tokens * ((rate.input + rate.output) / 2);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdG9rZW5zLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLFNBQVNBLGVBQWVDLElBQVk7SUFDekMsT0FBT0MsS0FBS0MsSUFBSSxDQUFDRixLQUFLRyxNQUFNLEdBQUc7QUFDakM7QUFFTyxTQUFTQyxpQkFBaUJDLEtBQWE7SUFDNUMsSUFBSUEsUUFBUSxNQUFNLE9BQU9DLE9BQU9EO0lBQ2hDLElBQUlBLFFBQVEsUUFBUSxPQUFPLENBQUMsRUFBRSxDQUFDQSxRQUFRLElBQUcsRUFBR0UsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFELE9BQU8sQ0FBQyxFQUFFTixLQUFLTyxLQUFLLENBQUNILFFBQVEsTUFBTSxDQUFDLENBQUM7QUFDdkM7QUFFTyxTQUFTSSxhQUNkQyxNQUFjLEVBQ2RDLEtBQXlCO0lBRXpCLE1BQU1DLFFBQXVFO1FBQzNFQyxPQUFPO1lBQUVDLE9BQU8sT0FBTztZQUFXQyxRQUFRLE9BQU87UUFBVTtRQUMzREMsUUFBUTtZQUFFRixPQUFPLE1BQU07WUFBV0MsUUFBUSxPQUFPO1FBQVU7SUFDN0Q7SUFDQSxNQUFNRSxPQUFPTCxLQUFLLENBQUNELE1BQU07SUFDekIsT0FBT0QsU0FBVSxFQUFDTyxLQUFLSCxLQUFLLEdBQUdHLEtBQUtGLE1BQU0sSUFBSTtBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcml2YS8uL2xpYi90b2tlbnMudHM/MTdjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXN0aW1hdGVUb2tlbnModGV4dDogc3RyaW5nKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguY2VpbCh0ZXh0Lmxlbmd0aCAvIDQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VG9rZW5Db3VudChjb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGNvdW50IDwgMTAwMCkgcmV0dXJuIFN0cmluZyhjb3VudCk7XG4gIGlmIChjb3VudCA8IDEwMDAwMCkgcmV0dXJuIGAkeyhjb3VudCAvIDEwMDApLnRvRml4ZWQoMSl9a2A7XG4gIHJldHVybiBgJHtNYXRoLnJvdW5kKGNvdW50IC8gMTAwMCl9a2A7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc3RpbWF0ZUNvc3QoXG4gIHRva2VuczogbnVtYmVyLFxuICBtb2RlbDogXCJoYWlrdVwiIHwgXCJzb25uZXRcIixcbik6IG51bWJlciB7XG4gIGNvbnN0IHJhdGVzOiBSZWNvcmQ8XCJoYWlrdVwiIHwgXCJzb25uZXRcIiwgeyBpbnB1dDogbnVtYmVyOyBvdXRwdXQ6IG51bWJlciB9PiA9IHtcbiAgICBoYWlrdTogeyBpbnB1dDogMC4yNSAvIDFfMDAwXzAwMCwgb3V0cHV0OiAxLjI1IC8gMV8wMDBfMDAwIH0sXG4gICAgc29ubmV0OiB7IGlucHV0OiAzLjAgLyAxXzAwMF8wMDAsIG91dHB1dDogMTUuMCAvIDFfMDAwXzAwMCB9LFxuICB9O1xuICBjb25zdCByYXRlID0gcmF0ZXNbbW9kZWxdO1xuICByZXR1cm4gdG9rZW5zICogKChyYXRlLmlucHV0ICsgcmF0ZS5vdXRwdXQpIC8gMik7XG59XG4iXSwibmFtZXMiOlsiZXN0aW1hdGVUb2tlbnMiLCJ0ZXh0IiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJmb3JtYXRUb2tlbkNvdW50IiwiY291bnQiLCJTdHJpbmciLCJ0b0ZpeGVkIiwicm91bmQiLCJlc3RpbWF0ZUNvc3QiLCJ0b2tlbnMiLCJtb2RlbCIsInJhdGVzIiwiaGFpa3UiLCJpbnB1dCIsIm91dHB1dCIsInNvbm5ldCIsInJhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/tokens.ts\n");

/***/ }),

/***/ "(ssr)/./store/index.ts":
/*!************************!*\
  !*** ./store/index.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppStore: () => (/* binding */ useAppStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/middleware */ \"(ssr)/./node_modules/zustand/esm/middleware.mjs\");\n\n\nconst useAppStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_1__.persist)(function storeInitializer(set) {\n    return {\n        editor: {\n            currentChapter: undefined,\n            currentBook: undefined,\n            saveStatus: \"idle\",\n            wordCount: 0,\n            isMarkdownView: false,\n            isFocusMode: false\n        },\n        panels: {\n            leftOpen: true,\n            rightOpen: true,\n            leftTab: \"book\",\n            rightTab: \"chat\"\n        },\n        preferences: {\n            keysStored: false,\n            theme: \"paper\",\n            defaultModel: \"sonnet\",\n            autoSave: true\n        },\n        setChapter: function setChapter(chapterId) {\n            set(function updateChapter(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        currentChapter: chapterId\n                    }\n                };\n            });\n        },\n        setBook: function setBook(bookId) {\n            set(function updateBook(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        currentBook: bookId\n                    }\n                };\n            });\n        },\n        setSaveStatus: function setSaveStatus(status) {\n            set(function updateSaveStatus(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        saveStatus: status\n                    }\n                };\n            });\n        },\n        setWordCount: function setWordCount(count) {\n            set(function updateWordCount(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        wordCount: count\n                    }\n                };\n            });\n        },\n        toggleMarkdownView: function toggleMarkdownView() {\n            set(function updateMarkdownView(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        isMarkdownView: !state.editor.isMarkdownView\n                    }\n                };\n            });\n        },\n        toggleFocusMode: function toggleFocusMode() {\n            set(function updateFocusMode(state) {\n                return {\n                    editor: {\n                        ...state.editor,\n                        isFocusMode: !state.editor.isFocusMode\n                    }\n                };\n            });\n        },\n        toggleLeftPanel: function toggleLeftPanel() {\n            set(function updateLeftPanel(state) {\n                return {\n                    panels: {\n                        ...state.panels,\n                        leftOpen: !state.panels.leftOpen\n                    }\n                };\n            });\n        },\n        toggleRightPanel: function toggleRightPanel() {\n            set(function updateRightPanel(state) {\n                return {\n                    panels: {\n                        ...state.panels,\n                        rightOpen: !state.panels.rightOpen\n                    }\n                };\n            });\n        },\n        setLeftTab: function setLeftTab(tab) {\n            set(function updateLeftTab(state) {\n                return {\n                    panels: {\n                        ...state.panels,\n                        leftTab: tab\n                    }\n                };\n            });\n        },\n        setRightTab: function setRightTab(tab) {\n            set(function updateRightTab(state) {\n                return {\n                    panels: {\n                        ...state.panels,\n                        rightTab: tab\n                    }\n                };\n            });\n        },\n        updatePreferences: function updatePreferences(prefs) {\n            set(function applyPreferences(state) {\n                return {\n                    preferences: {\n                        ...state.preferences,\n                        ...prefs\n                    }\n                };\n            });\n        }\n    };\n}, {\n    name: \"scriva-store\",\n    partialize: function partialize(state) {\n        return {\n            panels: state.panels,\n            preferences: state.preferences,\n            editor: {\n                currentBook: state.editor.currentBook\n            }\n        };\n    },\n    merge: function mergeState(persisted, current) {\n        const p = persisted;\n        if (!p) return current;\n        return {\n            ...current,\n            panels: {\n                ...current.panels,\n                ...p.panels ?? {}\n            },\n            preferences: {\n                ...current.preferences,\n                ...p.preferences ?? {}\n            },\n            editor: {\n                ...current.editor,\n                currentBook: p.editor?.currentBook ?? current.editor.currentBook\n            }\n        };\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBwZXJzaXN0IH0gZnJvbSBcInp1c3RhbmQvbWlkZGxld2FyZVwiO1xuaW1wb3J0IHR5cGUge1xuICBTYXZlU3RhdHVzLFxuICBQcmVmZXJlbmNlcyxcbiAgUGFuZWxTdGF0ZSxcbiAgRWRpdG9yU3RhdGUsXG59IGZyb20gXCJAL3R5cGVzXCI7XG5cbmludGVyZmFjZSBBcHBTdGF0ZSB7XG4gIGVkaXRvcjogRWRpdG9yU3RhdGU7XG4gIHBhbmVsczogUGFuZWxTdGF0ZTtcbiAgcHJlZmVyZW5jZXM6IFByZWZlcmVuY2VzO1xuXG4gIHNldENoYXB0ZXI6IChjaGFwdGVySWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgc2V0Qm9vazogKGJvb2tJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBzZXRTYXZlU3RhdHVzOiAoc3RhdHVzOiBTYXZlU3RhdHVzKSA9PiB2b2lkO1xuICBzZXRXb3JkQ291bnQ6IChjb3VudDogbnVtYmVyKSA9PiB2b2lkO1xuICB0b2dnbGVNYXJrZG93blZpZXc6ICgpID0+IHZvaWQ7XG4gIHRvZ2dsZUZvY3VzTW9kZTogKCkgPT4gdm9pZDtcbiAgdG9nZ2xlTGVmdFBhbmVsOiAoKSA9PiB2b2lkO1xuICB0b2dnbGVSaWdodFBhbmVsOiAoKSA9PiB2b2lkO1xuICBzZXRMZWZ0VGFiOiAodGFiOiBQYW5lbFN0YXRlW1wibGVmdFRhYlwiXSkgPT4gdm9pZDtcbiAgc2V0UmlnaHRUYWI6ICh0YWI6IFBhbmVsU3RhdGVbXCJyaWdodFRhYlwiXSkgPT4gdm9pZDtcbiAgdXBkYXRlUHJlZmVyZW5jZXM6IChwcmVmczogUGFydGlhbDxQcmVmZXJlbmNlcz4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VBcHBTdG9yZSA9IGNyZWF0ZTxBcHBTdGF0ZT4oKShcbiAgcGVyc2lzdChcbiAgICBmdW5jdGlvbiBzdG9yZUluaXRpYWxpemVyKHNldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWRpdG9yOiB7XG4gICAgICAgICAgY3VycmVudENoYXB0ZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjdXJyZW50Qm9vazogdW5kZWZpbmVkLFxuICAgICAgICAgIHNhdmVTdGF0dXM6IFwiaWRsZVwiLFxuICAgICAgICAgIHdvcmRDb3VudDogMCxcbiAgICAgICAgICBpc01hcmtkb3duVmlldzogZmFsc2UsXG4gICAgICAgICAgaXNGb2N1c01vZGU6IGZhbHNlLFxuICAgICAgICB9LFxuXG4gICAgICAgIHBhbmVsczoge1xuICAgICAgICAgIGxlZnRPcGVuOiB0cnVlLFxuICAgICAgICAgIHJpZ2h0T3BlbjogdHJ1ZSxcbiAgICAgICAgICBsZWZ0VGFiOiBcImJvb2tcIixcbiAgICAgICAgICByaWdodFRhYjogXCJjaGF0XCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBrZXlzU3RvcmVkOiBmYWxzZSxcbiAgICAgICAgICB0aGVtZTogXCJwYXBlclwiLFxuICAgICAgICAgIGRlZmF1bHRNb2RlbDogXCJzb25uZXRcIixcbiAgICAgICAgICBhdXRvU2F2ZTogdHJ1ZSxcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRDaGFwdGVyOiBmdW5jdGlvbiBzZXRDaGFwdGVyKGNoYXB0ZXJJZCkge1xuICAgICAgICAgIHNldChmdW5jdGlvbiB1cGRhdGVDaGFwdGVyKHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBlZGl0b3I6IHsgLi4uc3RhdGUuZWRpdG9yLCBjdXJyZW50Q2hhcHRlcjogY2hhcHRlcklkIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEJvb2s6IGZ1bmN0aW9uIHNldEJvb2soYm9va0lkKSB7XG4gICAgICAgICAgc2V0KGZ1bmN0aW9uIHVwZGF0ZUJvb2soc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGVkaXRvcjogeyAuLi5zdGF0ZS5lZGl0b3IsIGN1cnJlbnRCb29rOiBib29rSWQgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U2F2ZVN0YXR1czogZnVuY3Rpb24gc2V0U2F2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgICBzZXQoZnVuY3Rpb24gdXBkYXRlU2F2ZVN0YXR1cyhzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZWRpdG9yOiB7IC4uLnN0YXRlLmVkaXRvciwgc2F2ZVN0YXR1czogc3RhdHVzIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFdvcmRDb3VudDogZnVuY3Rpb24gc2V0V29yZENvdW50KGNvdW50KSB7XG4gICAgICAgICAgc2V0KGZ1bmN0aW9uIHVwZGF0ZVdvcmRDb3VudChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZWRpdG9yOiB7IC4uLnN0YXRlLmVkaXRvciwgd29yZENvdW50OiBjb3VudCB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVNYXJrZG93blZpZXc6IGZ1bmN0aW9uIHRvZ2dsZU1hcmtkb3duVmlldygpIHtcbiAgICAgICAgICBzZXQoZnVuY3Rpb24gdXBkYXRlTWFya2Rvd25WaWV3KHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBlZGl0b3I6IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5lZGl0b3IsXG4gICAgICAgICAgICAgICAgaXNNYXJrZG93blZpZXc6ICFzdGF0ZS5lZGl0b3IuaXNNYXJrZG93blZpZXcsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZUZvY3VzTW9kZTogZnVuY3Rpb24gdG9nZ2xlRm9jdXNNb2RlKCkge1xuICAgICAgICAgIHNldChmdW5jdGlvbiB1cGRhdGVGb2N1c01vZGUoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGVkaXRvcjoge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLmVkaXRvcixcbiAgICAgICAgICAgICAgICBpc0ZvY3VzTW9kZTogIXN0YXRlLmVkaXRvci5pc0ZvY3VzTW9kZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlTGVmdFBhbmVsOiBmdW5jdGlvbiB0b2dnbGVMZWZ0UGFuZWwoKSB7XG4gICAgICAgICAgc2V0KGZ1bmN0aW9uIHVwZGF0ZUxlZnRQYW5lbChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcGFuZWxzOiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUucGFuZWxzLFxuICAgICAgICAgICAgICAgIGxlZnRPcGVuOiAhc3RhdGUucGFuZWxzLmxlZnRPcGVuLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGVSaWdodFBhbmVsOiBmdW5jdGlvbiB0b2dnbGVSaWdodFBhbmVsKCkge1xuICAgICAgICAgIHNldChmdW5jdGlvbiB1cGRhdGVSaWdodFBhbmVsKHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwYW5lbHM6IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5wYW5lbHMsXG4gICAgICAgICAgICAgICAgcmlnaHRPcGVuOiAhc3RhdGUucGFuZWxzLnJpZ2h0T3BlbixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0TGVmdFRhYjogZnVuY3Rpb24gc2V0TGVmdFRhYih0YWIpIHtcbiAgICAgICAgICBzZXQoZnVuY3Rpb24gdXBkYXRlTGVmdFRhYihzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcGFuZWxzOiB7IC4uLnN0YXRlLnBhbmVscywgbGVmdFRhYjogdGFiIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJpZ2h0VGFiOiBmdW5jdGlvbiBzZXRSaWdodFRhYih0YWIpIHtcbiAgICAgICAgICBzZXQoZnVuY3Rpb24gdXBkYXRlUmlnaHRUYWIoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHBhbmVsczogeyAuLi5zdGF0ZS5wYW5lbHMsIHJpZ2h0VGFiOiB0YWIgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUHJlZmVyZW5jZXM6IGZ1bmN0aW9uIHVwZGF0ZVByZWZlcmVuY2VzKHByZWZzKSB7XG4gICAgICAgICAgc2V0KGZ1bmN0aW9uIGFwcGx5UHJlZmVyZW5jZXMoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHByZWZlcmVuY2VzOiB7IC4uLnN0YXRlLnByZWZlcmVuY2VzLCAuLi5wcmVmcyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInNjcml2YS1zdG9yZVwiLFxuICAgICAgcGFydGlhbGl6ZTogZnVuY3Rpb24gcGFydGlhbGl6ZShzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhbmVsczogc3RhdGUucGFuZWxzLFxuICAgICAgICAgIHByZWZlcmVuY2VzOiBzdGF0ZS5wcmVmZXJlbmNlcyxcbiAgICAgICAgICBlZGl0b3I6IHsgY3VycmVudEJvb2s6IHN0YXRlLmVkaXRvci5jdXJyZW50Qm9vayB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIG1lcmdlOiBmdW5jdGlvbiBtZXJnZVN0YXRlKHBlcnNpc3RlZDogdW5rbm93biwgY3VycmVudDogQXBwU3RhdGUpOiBBcHBTdGF0ZSB7XG4gICAgICAgIGNvbnN0IHAgPSBwZXJzaXN0ZWQgYXMgUGFydGlhbDxBcHBTdGF0ZT4gfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghcCkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uY3VycmVudCxcbiAgICAgICAgICBwYW5lbHM6IHsgLi4uY3VycmVudC5wYW5lbHMsIC4uLihwLnBhbmVscyA/PyB7fSkgfSxcbiAgICAgICAgICBwcmVmZXJlbmNlczogeyAuLi5jdXJyZW50LnByZWZlcmVuY2VzLCAuLi4ocC5wcmVmZXJlbmNlcyA/PyB7fSkgfSxcbiAgICAgICAgICBlZGl0b3I6IHsgLi4uY3VycmVudC5lZGl0b3IsIGN1cnJlbnRCb29rOiBwLmVkaXRvcj8uY3VycmVudEJvb2sgPz8gY3VycmVudC5lZGl0b3IuY3VycmVudEJvb2sgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKSxcbik7XG4iXSwibmFtZXMiOlsiY3JlYXRlIiwicGVyc2lzdCIsInVzZUFwcFN0b3JlIiwic3RvcmVJbml0aWFsaXplciIsInNldCIsImVkaXRvciIsImN1cnJlbnRDaGFwdGVyIiwidW5kZWZpbmVkIiwiY3VycmVudEJvb2siLCJzYXZlU3RhdHVzIiwid29yZENvdW50IiwiaXNNYXJrZG93blZpZXciLCJpc0ZvY3VzTW9kZSIsInBhbmVscyIsImxlZnRPcGVuIiwicmlnaHRPcGVuIiwibGVmdFRhYiIsInJpZ2h0VGFiIiwicHJlZmVyZW5jZXMiLCJrZXlzU3RvcmVkIiwidGhlbWUiLCJkZWZhdWx0TW9kZWwiLCJhdXRvU2F2ZSIsInNldENoYXB0ZXIiLCJjaGFwdGVySWQiLCJ1cGRhdGVDaGFwdGVyIiwic3RhdGUiLCJzZXRCb29rIiwiYm9va0lkIiwidXBkYXRlQm9vayIsInNldFNhdmVTdGF0dXMiLCJzdGF0dXMiLCJ1cGRhdGVTYXZlU3RhdHVzIiwic2V0V29yZENvdW50IiwiY291bnQiLCJ1cGRhdGVXb3JkQ291bnQiLCJ0b2dnbGVNYXJrZG93blZpZXciLCJ1cGRhdGVNYXJrZG93blZpZXciLCJ0b2dnbGVGb2N1c01vZGUiLCJ1cGRhdGVGb2N1c01vZGUiLCJ0b2dnbGVMZWZ0UGFuZWwiLCJ1cGRhdGVMZWZ0UGFuZWwiLCJ0b2dnbGVSaWdodFBhbmVsIiwidXBkYXRlUmlnaHRQYW5lbCIsInNldExlZnRUYWIiLCJ0YWIiLCJ1cGRhdGVMZWZ0VGFiIiwic2V0UmlnaHRUYWIiLCJ1cGRhdGVSaWdodFRhYiIsInVwZGF0ZVByZWZlcmVuY2VzIiwicHJlZnMiLCJhcHBseVByZWZlcmVuY2VzIiwibmFtZSIsInBhcnRpYWxpemUiLCJtZXJnZSIsIm1lcmdlU3RhdGUiLCJwZXJzaXN0ZWQiLCJjdXJyZW50IiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./store/index.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"3a202f96192f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JpdmEvLi9hcHAvZ2xvYmFscy5jc3M/OGQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjNhMjAyZjk2MTkyZlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/book/[...path]/page.tsx":
/*!*************************************!*\
  !*** ./app/book/[...path]/page.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/gian/Projects/Papers/scriva/app/book/[...path]/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./app/book/layout.tsx":
/*!*****************************!*\
  !*** ./app/book/layout.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/gian/Projects/Papers/scriva/app/book/layout.tsx#default`));


/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Literata_arguments_subsets_latin_variable_font_literata_weight_400_500_600_700_800_style_normal_italic_display_swap_variableName_literata___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Literata\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-literata\",\"weight\":[\"400\",\"500\",\"600\",\"700\",\"800\"],\"style\":[\"normal\",\"italic\"],\"display\":\"swap\"}],\"variableName\":\"literata\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Literata\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-literata\\\",\\\"weight\\\":[\\\"400\\\",\\\"500\\\",\\\"600\\\",\\\"700\\\",\\\"800\\\"],\\\"style\\\":[\\\"normal\\\",\\\"italic\\\"],\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"literata\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Literata_arguments_subsets_latin_variable_font_literata_weight_400_500_600_700_800_style_normal_italic_display_swap_variableName_literata___WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Literata_arguments_subsets_latin_variable_font_literata_weight_400_500_600_700_800_style_normal_italic_display_swap_variableName_literata___WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_weight_400_500_600_700_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-inter\",\"weight\":[\"400\",\"500\",\"600\",\"700\"],\"display\":\"swap\"}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-inter\\\",\\\"weight\\\":[\\\"400\\\",\\\"500\\\",\\\"600\\\",\\\"700\\\"],\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_weight_400_500_600_700_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_weight_400_500_600_700_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_JetBrains_Mono_arguments_subsets_latin_variable_font_jetbrains_mono_display_swap_variableName_jetbrainsMono___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"JetBrains_Mono\",\"arguments\":[{\"subsets\":[\"latin\"],\"variable\":\"--font-jetbrains-mono\",\"display\":\"swap\"}],\"variableName\":\"jetbrainsMono\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"JetBrains_Mono\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"],\\\"variable\\\":\\\"--font-jetbrains-mono\\\",\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"jetbrainsMono\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_JetBrains_Mono_arguments_subsets_latin_variable_font_jetbrains_mono_display_swap_variableName_jetbrainsMono___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_JetBrains_Mono_arguments_subsets_latin_variable_font_jetbrains_mono_display_swap_variableName_jetbrainsMono___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\n\n\n\nconst metadata = {\n    title: \"Scriva\",\n    description: \"Open-source, AI-native book writing, editing, and publishing.\",\n    icons: {\n        icon: \"/scriva-mark.svg\"\n    }\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        \"data-theme\": \"paper\",\n        className: `${(next_font_google_target_css_path_app_layout_tsx_import_Literata_arguments_subsets_latin_variable_font_literata_weight_400_500_600_700_800_style_normal_italic_display_swap_variableName_literata___WEBPACK_IMPORTED_MODULE_2___default().variable)} ${(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variable_font_inter_weight_400_500_600_700_display_swap_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().variable)} ${(next_font_google_target_css_path_app_layout_tsx_import_JetBrains_Mono_arguments_subsets_latin_variable_font_jetbrains_mono_display_swap_variableName_jetbrainsMono___WEBPACK_IMPORTED_MODULE_4___default().variable)}`,\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"head\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                    dangerouslySetInnerHTML: {\n                        __html: `(function(){try{var d=JSON.parse(localStorage.getItem(\"scriva-store\")||\"{}\");var t=d&&d.state&&d.state.preferences&&d.state.preferences.theme;if(t)document.documentElement.setAttribute(\"data-theme\",t)}catch(e){}})()`\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/gian/Projects/Papers/scriva/app/layout.tsx\",\n                    lineNumber: 48,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/layout.tsx\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/gian/Projects/Papers/scriva/app/layout.tsx\",\n                lineNumber: 54,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/gian/Projects/Papers/scriva/app/layout.tsx\",\n        lineNumber: 41,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFJTUE7QUFRQUM7QUFPQUM7QUFqQmlCO0FBdUJoQixNQUFNQyxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxhQUNFO0lBQ0ZDLE9BQU87UUFDTEMsTUFBTTtJQUNSO0FBQ0YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFDakNDLFFBQVEsRUFHUjtJQUNBLHFCQUNFLDhEQUFDQztRQUNDQyxNQUFLO1FBQ0xDLGNBQVc7UUFDWEMsV0FBVyxDQUFDLEVBQUViLG1QQUFpQixDQUFDLENBQUMsRUFBRUMsa05BQWMsQ0FBQyxDQUFDLEVBQUVDLHFOQUFzQixDQUFDLENBQUM7UUFDN0VhLHdCQUF3Qjs7MEJBRXhCLDhEQUFDQzswQkFDQyw0RUFBQ0M7b0JBQ0NDLHlCQUF5Qjt3QkFDdkJDLFFBQVEsQ0FBQyx1TkFBdU4sQ0FBQztvQkFDbk87Ozs7Ozs7Ozs7OzBCQUdKLDhEQUFDQzswQkFBTVg7Ozs7Ozs7Ozs7OztBQUdiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2NyaXZhLy4vYXBwL2xheW91dC50c3g/OTk4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IExpdGVyYXRhLCBJbnRlciwgSmV0QnJhaW5zX01vbm8gfSBmcm9tIFwibmV4dC9mb250L2dvb2dsZVwiO1xuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuXG5jb25zdCBsaXRlcmF0YSA9IExpdGVyYXRhKHtcbiAgc3Vic2V0czogW1wibGF0aW5cIl0sXG4gIHZhcmlhYmxlOiBcIi0tZm9udC1saXRlcmF0YVwiLFxuICB3ZWlnaHQ6IFtcIjQwMFwiLCBcIjUwMFwiLCBcIjYwMFwiLCBcIjcwMFwiLCBcIjgwMFwiXSxcbiAgc3R5bGU6IFtcIm5vcm1hbFwiLCBcIml0YWxpY1wiXSxcbiAgZGlzcGxheTogXCJzd2FwXCIsXG59KTtcblxuY29uc3QgaW50ZXIgPSBJbnRlcih7XG4gIHN1YnNldHM6IFtcImxhdGluXCJdLFxuICB2YXJpYWJsZTogXCItLWZvbnQtaW50ZXJcIixcbiAgd2VpZ2h0OiBbXCI0MDBcIiwgXCI1MDBcIiwgXCI2MDBcIiwgXCI3MDBcIl0sXG4gIGRpc3BsYXk6IFwic3dhcFwiLFxufSk7XG5cbmNvbnN0IGpldGJyYWluc01vbm8gPSBKZXRCcmFpbnNfTW9ubyh7XG4gIHN1YnNldHM6IFtcImxhdGluXCJdLFxuICB2YXJpYWJsZTogXCItLWZvbnQtamV0YnJhaW5zLW1vbm9cIixcbiAgZGlzcGxheTogXCJzd2FwXCIsXG59KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiU2NyaXZhXCIsXG4gIGRlc2NyaXB0aW9uOlxuICAgIFwiT3Blbi1zb3VyY2UsIEFJLW5hdGl2ZSBib29rIHdyaXRpbmcsIGVkaXRpbmcsIGFuZCBwdWJsaXNoaW5nLlwiLFxuICBpY29uczoge1xuICAgIGljb246IFwiL3Njcml2YS1tYXJrLnN2Z1wiLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gIGNoaWxkcmVuLFxufTogUmVhZG9ubHk8e1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufT4pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbFxuICAgICAgbGFuZz1cImVuXCJcbiAgICAgIGRhdGEtdGhlbWU9XCJwYXBlclwiXG4gICAgICBjbGFzc05hbWU9e2Ake2xpdGVyYXRhLnZhcmlhYmxlfSAke2ludGVyLnZhcmlhYmxlfSAke2pldGJyYWluc01vbm8udmFyaWFibGV9YH1cbiAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1xuICAgID5cbiAgICAgIDxoZWFkPlxuICAgICAgICA8c2NyaXB0XG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogYChmdW5jdGlvbigpe3RyeXt2YXIgZD1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXZhLXN0b3JlXCIpfHxcInt9XCIpO3ZhciB0PWQmJmQuc3RhdGUmJmQuc3RhdGUucHJlZmVyZW5jZXMmJmQuc3RhdGUucHJlZmVyZW5jZXMudGhlbWU7aWYodClkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS10aGVtZVwiLHQpfWNhdGNoKGUpe319KSgpYCxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+e2NoaWxkcmVufTwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59XG4iXSwibmFtZXMiOlsibGl0ZXJhdGEiLCJpbnRlciIsImpldGJyYWluc01vbm8iLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpY29ucyIsImljb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImRhdGEtdGhlbWUiLCJjbGFzc05hbWUiLCJ2YXJpYWJsZSIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsImhlYWQiLCJzY3JpcHQiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@octokit","vendor-chunks/fast-content-type-parse","vendor-chunks/before-after-hook","vendor-chunks/universal-user-agent","vendor-chunks/lucide-react","vendor-chunks/zustand","vendor-chunks/@swc","vendor-chunks/@dnd-kit","vendor-chunks/micromark-core-commonmark","vendor-chunks/mdast-util-to-hast","vendor-chunks/micromark","vendor-chunks/unified","vendor-chunks/mdast-util-to-markdown","vendor-chunks/character-entities","vendor-chunks/property-information","vendor-chunks/mdast-util-from-markdown","vendor-chunks/micromark-extension-gfm-table","vendor-chunks/micromark-extension-gfm-autolink-literal","vendor-chunks/micromark-util-symbol","vendor-chunks/micromark-extension-gfm-footnote","vendor-chunks/hast-util-to-jsx-runtime","vendor-chunks/debug","vendor-chunks/vfile","vendor-chunks/micromark-util-subtokenize","vendor-chunks/react-markdown","vendor-chunks/unist-util-visit-parents","vendor-chunks/markdown-table","vendor-chunks/unist-util-visit","vendor-chunks/unist-util-is","vendor-chunks/vfile-message","vendor-chunks/mdast-util-gfm-table","vendor-chunks/@ungap","vendor-chunks/micromark-util-character","vendor-chunks/mdast-util-find-and-replace","vendor-chunks/mdast-util-gfm-autolink-literal","vendor-chunks/devlop","vendor-chunks/micromark-extension-gfm-strikethrough","vendor-chunks/remark-rehype","vendor-chunks/mdast-util-gfm-footnote","vendor-chunks/inline-style-parser","vendor-chunks/trough","vendor-chunks/micromark-factory-destination","vendor-chunks/micromark-extension-gfm-task-list-item","vendor-chunks/mdast-util-gfm-task-list-item","vendor-chunks/micromark-factory-label","vendor-chunks/extend","vendor-chunks/micromark-util-combine-extensions","vendor-chunks/micromark-util-sanitize-uri","vendor-chunks/micromark-factory-title","vendor-chunks/ms","vendor-chunks/mdast-util-gfm-strikethrough","vendor-chunks/mdast-util-to-string","vendor-chunks/micromark-util-chunked","vendor-chunks/style-to-js","vendor-chunks/unist-util-stringify-position","vendor-chunks/micromark-extension-gfm","vendor-chunks/unist-util-position","vendor-chunks/dequal","vendor-chunks/mdast-util-gfm","vendor-chunks/estree-util-is-identifier-name","vendor-chunks/micromark-util-html-tag-name","vendor-chunks/comma-separated-tokens","vendor-chunks/trim-lines","vendor-chunks/micromark-factory-space","vendor-chunks/micromark-extension-gfm-tagfilter","vendor-chunks/micromark-util-decode-string","vendor-chunks/micromark-util-normalize-identifier","vendor-chunks/style-to-object","vendor-chunks/micromark-factory-whitespace","vendor-chunks/remark-gfm","vendor-chunks/micromark-util-decode-numeric-character-reference","vendor-chunks/remark-parse","vendor-chunks/mdast-util-phrasing","vendor-chunks/micromark-util-classify-character","vendor-chunks/hast-util-whitespace","vendor-chunks/longest-streak","vendor-chunks/micromark-util-resolve-all","vendor-chunks/micromark-util-encode","vendor-chunks/html-url-attributes","vendor-chunks/decode-named-character-reference","vendor-chunks/ccount","vendor-chunks/space-separated-tokens","vendor-chunks/is-plain-obj","vendor-chunks/bail","vendor-chunks/markdown-it","vendor-chunks/@popperjs","vendor-chunks/@tiptap","vendor-chunks/uc.micro","vendor-chunks/mdurl","vendor-chunks/linkify-it","vendor-chunks/w3c-keyname","vendor-chunks/tiptap-markdown","vendor-chunks/rope-sequence","vendor-chunks/prosemirror-view","vendor-chunks/prosemirror-transform","vendor-chunks/prosemirror-state","vendor-chunks/prosemirror-schema-list","vendor-chunks/prosemirror-model","vendor-chunks/prosemirror-markdown","vendor-chunks/prosemirror-keymap","vendor-chunks/prosemirror-history","vendor-chunks/prosemirror-gapcursor","vendor-chunks/prosemirror-dropcursor","vendor-chunks/prosemirror-commands","vendor-chunks/orderedmap","vendor-chunks/linkifyjs","vendor-chunks/diff","vendor-chunks/tippy.js","vendor-chunks/punycode.js","vendor-chunks/markdown-it-task-lists"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fbook%2F%5B...path%5D%2Fpage&page=%2Fbook%2F%5B...path%5D%2Fpage&appPaths=%2Fbook%2F%5B...path%5D%2Fpage&pagePath=private-next-app-dir%2Fbook%2F%5B...path%5D%2Fpage.tsx&appDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fgian%2FProjects%2FPapers%2Fscriva&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();